"use strict";(function(){var hZ=Object.create;var Dd=Object.defineProperty;var vZ=Object.getOwnPropertyDescriptor;var yZ=Object.getOwnPropertyNames;var mZ=Object.getPrototypeOf,gZ=Object.prototype.hasOwnProperty;var i=function(t,e){return Dd(t,"name",{value:e,configurable:!0})};var j=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},Dl=function(t,e){for(var r in e)Dd(t,r,{get:e[r],enumerable:!0})},bZ=function(t,e,r,n){if(e&&typeof e=="object"||typeof e=="function")for(var o=yZ(e),a=0,u=o.length,s;a<u;a++)s=o[a],!gZ.call(t,s)&&s!==r&&Dd(t,s,{get:function(l){return e[l]}.bind(null,s),enumerable:!(n=vZ(e,s))||n.enumerable});return t};var Re=function(t,e,r){return r=t!=null?hZ(mZ(t)):{},bZ(e||!t||!t.__esModule?Dd(r,"default",{value:t,enumerable:!0}):r,t)};var he=j(function(eit,l2){function Vu(t){return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}i(Vu,"_typeof");var Ud=i(function(e){return e&&e.Math==Math&&e},"check");l2.exports=Ud((typeof globalThis=="undefined"?"undefined":Vu(globalThis))=="object"&&globalThis)||Ud((typeof window=="undefined"?"undefined":Vu(window))=="object"&&window)||Ud((typeof self=="undefined"?"undefined":Vu(self))=="object"&&self)||Ud((typeof global=="undefined"?"undefined":Vu(global))=="object"&&global)||function(){return this}()||Function("return this")()});var se=j(function(tit,c2){c2.exports=function(t){try{return!!t()}catch(e){return!0}}});var Oe=j(function(rit,f2){var wZ=se();f2.exports=!wZ(function(){return Object.defineProperty({},1,{get:i(function(){return 7},"get")})[1]!=7})});var Wu=j(function(nit,p2){var OZ=se();p2.exports=!OZ(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")})});var ce=j(function(iit,d2){var SZ=Wu(),Md=Function.prototype.call;d2.exports=SZ?Md.bind(Md):function(){return Md.apply(Md,arguments)}});var Ul=j(function(y2){"use strict";var h2={}.propertyIsEnumerable,v2=Object.getOwnPropertyDescriptor,_Z=v2&&!h2.call({1:2},1);y2.f=_Z?i(function(e){var r=v2(this,e);return!!r&&r.enumerable},"propertyIsEnumerable"):h2});var kr=j(function(ait,m2){m2.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}});var le=j(function(uit,w2){var g2=Wu(),b2=Function.prototype,PZ=b2.bind,aw=b2.call,EZ=g2&&PZ.bind(aw,aw);w2.exports=g2?function(t){return t&&EZ(t)}:function(t){return t&&function(){return aw.apply(t,arguments)}}});var vr=j(function(sit,S2){var O2=le(),RZ=O2({}.toString),TZ=O2("".slice);S2.exports=function(t){return TZ(RZ(t),8,-1)}});var mi=j(function(lit,_2){var AZ=le(),IZ=se(),qZ=vr(),uw=Object,kZ=AZ("".split);_2.exports=IZ(function(){return!uw("z").propertyIsEnumerable(0)})?function(t){return qZ(t)=="String"?kZ(t,""):uw(t)}:uw});var gt=j(function(cit,P2){var xZ=TypeError;P2.exports=function(t){if(t==null)throw xZ("Can't call method on "+t);return t}});var bt=j(function(fit,E2){var CZ=mi(),FZ=gt();E2.exports=function(t){return CZ(FZ(t))}});var Pe=j(function(pit,R2){R2.exports=function(t){return typeof t=="function"}});var Te=j(function(dit,T2){function sw(t){return sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sw(t)}i(sw,"_typeof");var LZ=Pe();T2.exports=function(t){return sw(t)=="object"?t!==null:LZ(t)}});var ye=j(function(hit,A2){var lw=he(),jZ=Pe(),NZ=i(function(e){return jZ(e)?e:void 0},"aFunction");A2.exports=function(t,e){return arguments.length<2?NZ(lw[t]):lw[t]&&lw[t][e]}});var er=j(function(vit,I2){var DZ=le();I2.exports=DZ({}.isPrototypeOf)});var gi=j(function(yit,q2){var UZ=ye();q2.exports=UZ("navigator","userAgent")||""});var vo=j(function(mit,j2){var L2=he(),cw=gi(),k2=L2.process,x2=L2.Deno,C2=k2&&k2.versions||x2&&x2.version,F2=C2&&C2.v8,vn,Bd;F2&&(vn=F2.split("."),Bd=vn[0]>0&&vn[0]<4?1:+(vn[0]+vn[1]));!Bd&&cw&&(vn=cw.match(/Edge\/(\d+)/),(!vn||vn[1]>=74)&&(vn=cw.match(/Chrome\/(\d+)/),vn&&(Bd=+vn[1])));j2.exports=Bd});var da=j(function(git,D2){var N2=vo(),MZ=se();D2.exports=!!Object.getOwnPropertySymbols&&!MZ(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&N2&&N2<41})});var pw=j(function(bit,U2){function fw(t){return fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fw(t)}i(fw,"_typeof");var BZ=da();U2.exports=BZ&&!Symbol.sham&&fw(Symbol.iterator)=="symbol"});var yo=j(function(wit,M2){function dw(t){return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dw(t)}i(dw,"_typeof");var $Z=ye(),zZ=Pe(),GZ=er(),HZ=pw(),VZ=Object;M2.exports=HZ?function(t){return dw(t)=="symbol"}:function(t){var e=$Z("Symbol");return zZ(e)&&GZ(e.prototype,VZ(t))}});var mo=j(function(Oit,B2){var WZ=String;B2.exports=function(t){try{return WZ(t)}catch(e){return"Object"}}});var de=j(function(Sit,$2){var KZ=Pe(),YZ=mo(),XZ=TypeError;$2.exports=function(t){if(KZ(t))return t;throw XZ(YZ(t)+" is not a function")}});var At=j(function(_it,z2){var JZ=de();z2.exports=function(t,e){var r=t[e];return r==null?void 0:JZ(r)}});var mw=j(function(Pit,G2){var hw=ce(),vw=Pe(),yw=Te(),QZ=TypeError;G2.exports=function(t,e){var r,n;if(e==="string"&&vw(r=t.toString)&&!yw(n=hw(r,t))||vw(r=t.valueOf)&&!yw(n=hw(r,t))||e!=="string"&&vw(r=t.toString)&&!yw(n=hw(r,t)))return n;throw QZ("Can't convert object to primitive value")}});var tt=j(function(Eit,H2){H2.exports=!1});var $d=j(function(Rit,W2){var V2=he(),ZZ=Object.defineProperty;W2.exports=function(t,e){try{ZZ(V2,t,{value:e,configurable:!0,writable:!0})}catch(r){V2[t]=e}return e}});var Ml=j(function(Tit,Y2){var eee=he(),tee=$d(),K2="__core-js_shared__",ree=eee[K2]||tee(K2,{});Y2.exports=ree});var go=j(function(Ait,J2){var nee=tt(),X2=Ml();(J2.exports=function(t,e){return X2[t]||(X2[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.24.1",mode:nee?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})});var ke=j(function(Iit,Q2){var iee=gt(),oee=Object;Q2.exports=function(t){return oee(iee(t))}});var Ae=j(function(qit,Z2){var aee=le(),uee=ke(),see=aee({}.hasOwnProperty);Z2.exports=Object.hasOwn||i(function(e,r){return see(uee(e),r)},"hasOwn")});var ha=j(function(kit,ex){var lee=le(),cee=0,fee=Math.random(),pee=lee(1 .toString);ex.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+pee(++cee+fee,36)}});var ge=j(function(xit,ox){var dee=he(),hee=go(),tx=Ae(),vee=ha(),rx=da(),ix=pw(),Ku=hee("wks"),va=dee.Symbol,nx=va&&va.for,yee=ix?va:va&&va.withoutSetter||vee;ox.exports=function(t){if(!tx(Ku,t)||!(rx||typeof Ku[t]=="string")){var e="Symbol."+t;rx&&tx(va,t)?Ku[t]=va[t]:ix&&nx?Ku[t]=nx(e):Ku[t]=yee(e)}return Ku[t]}});var zd=j(function(Cit,sx){var mee=ce(),ax=Te(),ux=yo(),gee=At(),bee=mw(),wee=ge(),Oee=TypeError,See=wee("toPrimitive");sx.exports=function(t,e){if(!ax(t)||ux(t))return t;var r=gee(t,See),n;if(r){if(e===void 0&&(e="default"),n=mee(r,t,e),!ax(n)||ux(n))return n;throw Oee("Can't convert object to primitive value")}return e===void 0&&(e="number"),bee(t,e)}});var Bn=j(function(Fit,lx){var _ee=zd(),Pee=yo();lx.exports=function(t){var e=_ee(t,"string");return Pee(e)?e:e+""}});var Bl=j(function(Lit,fx){var Eee=he(),cx=Te(),gw=Eee.document,Ree=cx(gw)&&cx(gw.createElement);fx.exports=function(t){return Ree?gw.createElement(t):{}}});var bw=j(function(jit,px){var Tee=Oe(),Aee=se(),Iee=Bl();px.exports=!Tee&&!Aee(function(){return Object.defineProperty(Iee("div"),"a",{get:i(function(){return 7},"get")}).a!=7})});var Mt=j(function(hx){var qee=Oe(),kee=ce(),xee=Ul(),Cee=kr(),Fee=bt(),Lee=Bn(),jee=Ae(),Nee=bw(),dx=Object.getOwnPropertyDescriptor;hx.f=qee?dx:i(function(e,r){if(e=Fee(e),r=Lee(r),Nee)try{return dx(e,r)}catch(n){}if(jee(e,r))return Cee(!kee(xee.f,e,r),e[r])},"getOwnPropertyDescriptor")});var ww=j(function(Dit,vx){var Dee=Oe(),Uee=se();vx.exports=Dee&&Uee(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})});var te=j(function(Uit,yx){var Mee=Te(),Bee=String,$ee=TypeError;yx.exports=function(t){if(Mee(t))return t;throw $ee(Bee(t)+" is not an object")}});var He=j(function(gx){var zee=Oe(),Gee=bw(),Hee=ww(),Gd=te(),mx=Bn(),Vee=TypeError,Ow=Object.defineProperty,Wee=Object.getOwnPropertyDescriptor,Sw="enumerable",_w="configurable",Pw="writable";gx.f=zee?Hee?i(function(e,r,n){if(Gd(e),r=mx(r),Gd(n),typeof e=="function"&&r==="prototype"&&"value"in n&&Pw in n&&!n[Pw]){var o=Wee(e,r);o&&o[Pw]&&(e[r]=n.value,n={configurable:_w in n?n[_w]:o[_w],enumerable:Sw in n?n[Sw]:o[Sw],writable:!1})}return Ow(e,r,n)},"defineProperty"):Ow:i(function(e,r,n){if(Gd(e),r=mx(r),Gd(n),Gee)try{return Ow(e,r,n)}catch(o){}if("get"in n||"set"in n)throw Vee("Accessors not supported");return"value"in n&&(e[r]=n.value),e},"defineProperty")});var It=j(function(Bit,bx){var Kee=Oe(),Yee=He(),Xee=kr();bx.exports=Kee?function(t,e,r){return Yee.f(t,e,Xee(1,r))}:function(t,e,r){return t[e]=r,t}});var ya=j(function($it,Ox){var Ew=Oe(),Jee=Ae(),wx=Function.prototype,Qee=Ew&&Object.getOwnPropertyDescriptor,Rw=Jee(wx,"name"),Zee=Rw&&i(function(){},"something").name==="something",ete=Rw&&(!Ew||Ew&&Qee(wx,"name").configurable);Ox.exports={EXISTS:Rw,PROPER:Zee,CONFIGURABLE:ete}});var Yu=j(function(zit,Sx){var tte=le(),rte=Pe(),Tw=Ml(),nte=tte(Function.toString);rte(Tw.inspectSource)||(Tw.inspectSource=function(t){return nte(t)});Sx.exports=Tw.inspectSource});var Aw=j(function(Git,Px){var ite=he(),ote=Pe(),ate=Yu(),_x=ite.WeakMap;Px.exports=ote(_x)&&/native code/.test(ate(_x))});var $l=j(function(Hit,Rx){var ute=go(),ste=ha(),Ex=ute("keys");Rx.exports=function(t){return Ex[t]||(Ex[t]=ste(t))}});var Xu=j(function(Vit,Tx){Tx.exports={}});var We=j(function(Wit,xx){var lte=Aw(),kx=he(),Iw=le(),cte=Te(),fte=It(),qw=Ae(),kw=Ml(),pte=$l(),dte=Xu(),Ax="Object already initialized",Cw=kx.TypeError,hte=kx.WeakMap,Hd,zl,Vd,vte=i(function(e){return Vd(e)?zl(e):Hd(e,{})},"enforce"),yte=i(function(e){return function(r){var n;if(!cte(r)||(n=zl(r)).type!==e)throw Cw("Incompatible receiver, "+e+" required");return n}},"getterFor");lte||kw.state?(bo=kw.state||(kw.state=new hte),Ix=Iw(bo.get),xw=Iw(bo.has),qx=Iw(bo.set),Hd=i(function(e,r){if(xw(bo,e))throw new Cw(Ax);return r.facade=e,qx(bo,e,r),r},"set"),zl=i(function(e){return Ix(bo,e)||{}},"get"),Vd=i(function(e){return xw(bo,e)},"has")):(ma=pte("state"),dte[ma]=!0,Hd=i(function(e,r){if(qw(e,ma))throw new Cw(Ax);return r.facade=e,fte(e,ma,r),r},"set"),zl=i(function(e){return qw(e,ma)?e[ma]:{}},"get"),Vd=i(function(e){return qw(e,ma)},"has"));var bo,Ix,xw,qx,ma;xx.exports={set:Hd,get:zl,has:Vd,enforce:vte,getterFor:yte}});var Yd=j(function(Kit,Fx){var mte=se(),gte=Pe(),Wd=Ae(),Fw=Oe(),bte=ya().CONFIGURABLE,wte=Yu(),Cx=We(),Ote=Cx.enforce,Ste=Cx.get,Kd=Object.defineProperty,_te=Fw&&!mte(function(){return Kd(function(){},"length",{value:8}).length!==8}),Pte=String(String).split("String"),Ete=Fx.exports=function(t,e,r){String(e).slice(0,7)==="Symbol("&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Wd(t,"name")||bte&&t.name!==e)&&(Fw?Kd(t,"name",{value:e,configurable:!0}):t.name=e),_te&&r&&Wd(r,"arity")&&t.length!==r.arity&&Kd(t,"length",{value:r.arity});try{r&&Wd(r,"constructor")&&r.constructor?Fw&&Kd(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(o){}var n=Ote(t);return Wd(n,"source")||(n.source=Pte.join(typeof e=="string"?e:"")),t};Function.prototype.toString=Ete(i(function(){return gte(this)&&Ste(this).source||wte(this)},"toString"),"toString")});var rt=j(function(Yit,Lx){var Rte=Pe(),Tte=He(),Ate=Yd(),Ite=$d();Lx.exports=function(t,e,r,n){n||(n={});var o=n.enumerable,a=n.name!==void 0?n.name:e;if(Rte(r)&&Ate(r,a,n),n.global)o?t[e]=r:Ite(e,r);else{try{n.unsafe?t[e]&&(o=!0):delete t[e]}catch(u){}o?t[e]=r:Tte.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t}});var Lw=j(function(Xit,jx){var qte=Math.ceil,kte=Math.floor;jx.exports=Math.trunc||i(function(e){var r=+e;return(r>0?kte:qte)(r)},"trunc")});var at=j(function(Jit,Nx){var xte=Lw();Nx.exports=function(t){var e=+t;return e!==e||e===0?0:xte(e)}});var yn=j(function(Qit,Dx){var Cte=at(),Fte=Math.max,Lte=Math.min;Dx.exports=function(t,e){var r=Cte(t);return r<0?Fte(r+e,0):Lte(r,e)}});var xr=j(function(Zit,Ux){var jte=at(),Nte=Math.min;Ux.exports=function(t){return t>0?Nte(jte(t),9007199254740991):0}});var Fe=j(function(eot,Mx){var Dte=xr();Mx.exports=function(t){return Dte(t.length)}});var Gl=j(function(tot,$x){var Ute=bt(),Mte=yn(),Bte=Fe(),Bx=i(function(e){return function(r,n,o){var a=Ute(r),u=Bte(a),s=Mte(o,u),l;if(e&&n!=n){for(;u>s;)if(l=a[s++],l!=l)return!0}else for(;u>s;s++)if((e||s in a)&&a[s]===n)return e||s||0;return!e&&-1}},"createMethod");$x.exports={includes:Bx(!0),indexOf:Bx(!1)}});var Nw=j(function(rot,Gx){var $te=le(),jw=Ae(),zte=bt(),Gte=Gl().indexOf,Hte=Xu(),zx=$te([].push);Gx.exports=function(t,e){var r=zte(t),n=0,o=[],a;for(a in r)!jw(Hte,a)&&jw(r,a)&&zx(o,a);for(;e.length>n;)jw(r,a=e[n++])&&(~Gte(o,a)||zx(o,a));return o}});var Xd=j(function(not,Hx){Hx.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var bi=j(function(Vx){var Vte=Nw(),Wte=Xd(),Kte=Wte.concat("length","prototype");Vx.f=Object.getOwnPropertyNames||i(function(e){return Vte(e,Kte)},"getOwnPropertyNames")});var Hl=j(function(Wx){Wx.f=Object.getOwnPropertySymbols});var Jd=j(function(aot,Kx){var Yte=ye(),Xte=le(),Jte=bi(),Qte=Hl(),Zte=te(),ere=Xte([].concat);Kx.exports=Yte("Reflect","ownKeys")||i(function(e){var r=Jte.f(Zte(e)),n=Qte.f;return n?ere(r,n(e)):r},"ownKeys")});var Vl=j(function(uot,Xx){var Yx=Ae(),tre=Jd(),rre=Mt(),nre=He();Xx.exports=function(t,e,r){for(var n=tre(e),o=nre.f,a=rre.f,u=0;u<n.length;u++){var s=n[u];!Yx(t,s)&&!(r&&Yx(r,s))&&o(t,s,a(e,s))}}});var Ju=j(function(sot,Jx){var ire=se(),ore=Pe(),are=/#|\.prototype\./,Wl=i(function(e,r){var n=sre[ure(e)];return n==cre?!0:n==lre?!1:ore(r)?ire(r):!!r},"isForced"),ure=Wl.normalize=function(t){return String(t).replace(are,".").toLowerCase()},sre=Wl.data={},lre=Wl.NATIVE="N",cre=Wl.POLYFILL="P";Jx.exports=Wl});var D=j(function(lot,Qx){function Qd(t){return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}i(Qd,"_typeof");var Dw=he(),fre=Mt().f,pre=It(),dre=rt(),hre=$d(),vre=Vl(),yre=Ju();Qx.exports=function(t,e){var r=t.target,n=t.global,o=t.stat,a,u,s,l,f,d;if(n?u=Dw:o?u=Dw[r]||hre(r,{}):u=(Dw[r]||{}).prototype,u)for(s in e){if(f=e[s],t.dontCallGetSet?(d=fre(u,s),l=d&&d.value):l=u[s],a=yre(n?s:r+(o?".":"#")+s,t.forced),!a&&l!==void 0){if(Qd(f)==Qd(l))continue;vre(f,l)}(t.sham||l&&l.sham)&&pre(f,"sham",!0),dre(u,s,f,t)}}});var Zd=j(function(cot,eC){var mre=ge(),gre=mre("toStringTag"),Zx={};Zx[gre]="z";eC.exports=String(Zx)==="[object z]"});var mn=j(function(fot,tC){var bre=Zd(),wre=Pe(),eh=vr(),Ore=ge(),Sre=Ore("toStringTag"),_re=Object,Pre=eh(function(){return arguments}())=="Arguments",Ere=i(function(e,r){try{return e[r]}catch(n){}},"tryGet");tC.exports=bre?eh:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=Ere(e=_re(t),Sre))=="string"?r:Pre?eh(e):(n=eh(e))=="Object"&&wre(e.callee)?"Arguments":n}});var Le=j(function(pot,rC){var Rre=mn(),Tre=String;rC.exports=function(t){if(Rre(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Tre(t)}});var ga=j(function(dot,nC){var Are=Nw(),Ire=Xd();nC.exports=Object.keys||i(function(e){return Are(e,Ire)},"keys")});var th=j(function(iC){var qre=Oe(),kre=ww(),xre=He(),Cre=te(),Fre=bt(),Lre=ga();iC.f=qre&&!kre?Object.defineProperties:i(function(e,r){Cre(e);for(var n=Fre(r),o=Lre(r),a=o.length,u=0,s;a>u;)xre.f(e,s=o[u++],n[s]);return e},"defineProperties")});var Uw=j(function(vot,oC){var jre=ye();oC.exports=jre("document","documentElement")});var wt=j(function(yot,pC){var Nre=te(),Dre=th(),aC=Xd(),Ure=Xu(),Mre=Uw(),Bre=Bl(),$re=$l(),uC=">",sC="<",Bw="prototype",$w="script",cC=$re("IE_PROTO"),Mw=i(function(){},"EmptyConstructor"),fC=i(function(e){return sC+$w+uC+e+sC+"/"+$w+uC},"scriptTag"),lC=i(function(e){e.write(fC("")),e.close();var r=e.parentWindow.Object;return e=null,r},"NullProtoObjectViaActiveX"),zre=i(function(){var e=Bre("iframe"),r="java"+$w+":",n;return e.style.display="none",Mre.appendChild(e),e.src=String(r),n=e.contentWindow.document,n.open(),n.write(fC("document.F=Object")),n.close(),n.F},"NullProtoObjectViaIFrame"),rh,nh=i(function(){try{rh=new ActiveXObject("htmlfile")}catch(r){}nh=typeof document!="undefined"?document.domain&&rh?lC(rh):zre():lC(rh);for(var e=aC.length;e--;)delete nh[Bw][aC[e]];return nh()},"NullProtoObject");Ure[cC]=!0;pC.exports=Object.create||i(function(e,r){var n;return e!==null?(Mw[Bw]=Nre(e),n=new Mw,Mw[Bw]=null,n[cC]=e):n=nh(),r===void 0?n:Dre.f(n,r)},"create")});var $n=j(function(mot,dC){"use strict";var Gre=Bn(),Hre=He(),Vre=kr();dC.exports=function(t,e,r){var n=Gre(e);n in t?Hre.f(t,n,Vre(0,r)):t[n]=r}});var Qu=j(function(got,vC){var hC=yn(),Wre=Fe(),Kre=$n(),Yre=Array,Xre=Math.max;vC.exports=function(t,e,r){for(var n=Wre(t),o=hC(e,n),a=hC(r===void 0?n:r,n),u=Yre(Xre(a-o,0)),s=0;o<a;o++,s++)Kre(u,s,t[o]);return u.length=s,u}});var ih=j(function(bot,gC){function zw(t){return zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zw(t)}i(zw,"_typeof");var Jre=vr(),Qre=bt(),yC=bi().f,Zre=Qu(),mC=(typeof window=="undefined"?"undefined":zw(window))=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ene=i(function(e){try{return yC(e)}catch(r){return Zre(mC)}},"getWindowNames");gC.exports.f=i(function(e){return mC&&Jre(e)=="Window"?ene(e):yC(Qre(e))},"getOwnPropertyNames")});var Gw=j(function(bC){var tne=ge();bC.f=tne});var OC=j(function(Oot,wC){var rne=he();wC.exports=rne});var ut=j(function(Sot,_C){var SC=OC(),nne=Ae(),ine=Gw(),one=He().f;_C.exports=function(t){var e=SC.Symbol||(SC.Symbol={});nne(e,t)||one(e,t,{value:ine.f(t)})}});var Hw=j(function(_ot,PC){var ane=ce(),une=ye(),sne=ge(),lne=rt();PC.exports=function(){var t=une("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=sne("toPrimitive");e&&!e[n]&&lne(e,n,function(o){return ane(r,this)},{arity:1})}});var yr=j(function(Pot,RC){var cne=He().f,fne=Ae(),pne=ge(),EC=pne("toStringTag");RC.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!fne(t,EC)&&cne(t,EC,{configurable:!0,value:e})}});var Ke=j(function(Eot,AC){var TC=le(),dne=de(),hne=Wu(),vne=TC(TC.bind);AC.exports=function(t,e){return dne(t),e===void 0?t:hne?vne(t,e):function(){return t.apply(e,arguments)}}});var ba=j(function(Rot,IC){var yne=vr();IC.exports=Array.isArray||i(function(e){return yne(e)=="Array"},"isArray")});var gn=j(function(Tot,FC){var mne=le(),gne=se(),qC=Pe(),bne=mn(),wne=ye(),One=Yu(),kC=i(function(){},"noop"),Sne=[],xC=wne("Reflect","construct"),Vw=/^\s*(?:class|function)\b/,_ne=mne(Vw.exec),Pne=!Vw.exec(kC),Kl=i(function(e){if(!qC(e))return!1;try{return xC(kC,Sne,e),!0}catch(r){return!1}},"isConstructor"),CC=i(function(e){if(!qC(e))return!1;switch(bne(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Pne||!!_ne(Vw,One(e))}catch(r){return!0}},"isConstructor");CC.sham=!0;FC.exports=!xC||gne(function(){var t;return Kl(Kl.call)||!Kl(Object)||!Kl(function(){t=!0})||t})?CC:Kl});var DC=j(function(Aot,NC){var LC=ba(),Ene=gn(),Rne=Te(),Tne=ge(),Ane=Tne("species"),jC=Array;NC.exports=function(t){var e;return LC(t)&&(e=t.constructor,Ene(e)&&(e===jC||LC(e.prototype))?e=void 0:Rne(e)&&(e=e[Ane],e===null&&(e=void 0))),e===void 0?jC:e}});var wa=j(function(Iot,UC){var Ine=DC();UC.exports=function(t,e){return new(Ine(t))(e===0?0:e)}});var Ot=j(function(qot,BC){var qne=Ke(),kne=le(),xne=mi(),Cne=ke(),Fne=Fe(),Lne=wa(),MC=kne([].push),wo=i(function(e){var r=e==1,n=e==2,o=e==3,a=e==4,u=e==6,s=e==7,l=e==5||u;return function(f,d,y,m){for(var w=Cne(f),_=xne(w),T=qne(d,y),R=Fne(_),E=0,A=m||Lne,k=r?A(f,R):n||s?A(f,0):void 0,U,G;R>E;E++)if((l||E in _)&&(U=_[E],G=T(U,E,w),e))if(r)k[E]=G;else if(G)switch(e){case 3:return!0;case 5:return U;case 6:return E;case 2:MC(k,U)}else switch(e){case 4:return!1;case 7:MC(k,U)}return u?-1:o||a?a:k}},"createMethod");BC.exports={forEach:wo(0),map:wo(1),filter:wo(2),some:wo(3),every:wo(4),find:wo(5),findIndex:wo(6),filterReject:wo(7)}});var nF=j(function(){"use strict";var oh=D(),t0=he(),r0=ce(),jne=le(),Nne=tt(),Zu=Oe(),es=da(),Dne=se(),jt=Ae(),Une=er(),Xw=te(),ah=bt(),n0=Bn(),Mne=Le(),Jw=kr(),Xl=wt(),GC=ga(),Bne=bi(),HC=ih(),$ne=Hl(),VC=Mt(),WC=He(),zne=th(),KC=Ul(),Ww=rt(),i0=go(),Gne=$l(),YC=Xu(),$C=ha(),Hne=ge(),Vne=Gw(),Wne=ut(),Kne=Hw(),Yne=yr(),XC=We(),uh=Ot().forEach,mr=Gne("hidden"),sh="Symbol",Jl="prototype",Xne=XC.set,zC=XC.getterFor(sh),Xr=Object[Jl],Oa=t0.Symbol,Yl=Oa&&Oa[Jl],Jne=t0.TypeError,Kw=t0.QObject,JC=VC.f,Oo=WC.f,QC=HC.f,Qne=KC.f,ZC=jne([].push),wi=i0("symbols"),Ql=i0("op-symbols"),Zne=i0("wks"),Qw=!Kw||!Kw[Jl]||!Kw[Jl].findChild,Zw=Zu&&Dne(function(){return Xl(Oo({},"a",{get:i(function(){return Oo(this,"a",{value:7}).a},"get")})).a!=7})?function(t,e,r){var n=JC(Xr,e);n&&delete Xr[e],Oo(t,e,r),n&&t!==Xr&&Oo(Xr,e,n)}:Oo,Yw=i(function(e,r){var n=wi[e]=Xl(Yl);return Xne(n,{type:sh,tag:e,description:r}),Zu||(n.description=r),n},"wrap"),lh=i(function(e,r,n){e===Xr&&lh(Ql,r,n),Xw(e);var o=n0(r);return Xw(n),jt(wi,o)?(n.enumerable?(jt(e,mr)&&e[mr][o]&&(e[mr][o]=!1),n=Xl(n,{enumerable:Jw(0,!1)})):(jt(e,mr)||Oo(e,mr,Jw(1,{})),e[mr][o]=!0),Zw(e,o,n)):Oo(e,o,n)},"defineProperty"),o0=i(function(e,r){Xw(e);var n=ah(r),o=GC(n).concat(rF(n));return uh(o,function(a){(!Zu||r0(e0,n,a))&&lh(e,a,n[a])}),e},"defineProperties"),eie=i(function(e,r){return r===void 0?Xl(e):o0(Xl(e),r)},"create"),e0=i(function(e){var r=n0(e),n=r0(Qne,this,r);return this===Xr&&jt(wi,r)&&!jt(Ql,r)?!1:n||!jt(this,r)||!jt(wi,r)||jt(this,mr)&&this[mr][r]?n:!0},"propertyIsEnumerable"),eF=i(function(e,r){var n=ah(e),o=n0(r);if(!(n===Xr&&jt(wi,o)&&!jt(Ql,o))){var a=JC(n,o);return a&&jt(wi,o)&&!(jt(n,mr)&&n[mr][o])&&(a.enumerable=!0),a}},"getOwnPropertyDescriptor"),tF=i(function(e){var r=QC(ah(e)),n=[];return uh(r,function(o){!jt(wi,o)&&!jt(YC,o)&&ZC(n,o)}),n},"getOwnPropertyNames"),rF=i(function(e){var r=e===Xr,n=QC(r?Ql:ah(e)),o=[];return uh(n,function(a){jt(wi,a)&&(!r||jt(Xr,a))&&ZC(o,wi[a])}),o},"$getOwnPropertySymbols");es||(Oa=i(function(){if(Une(Yl,this))throw Jne("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:Mne(arguments[0]),r=$C(e),n=i(function o(a){this===Xr&&r0(o,Ql,a),jt(this,mr)&&jt(this[mr],r)&&(this[mr][r]=!1),Zw(this,r,Jw(1,a))},"setter");return Zu&&Qw&&Zw(Xr,r,{configurable:!0,set:n}),Yw(r,e)},"_Symbol"),Yl=Oa[Jl],Ww(Yl,"toString",i(function(){return zC(this).tag},"toString")),Ww(Oa,"withoutSetter",function(t){return Yw($C(t),t)}),KC.f=e0,WC.f=lh,zne.f=o0,VC.f=eF,Bne.f=HC.f=tF,$ne.f=rF,Vne.f=function(t){return Yw(Hne(t),t)},Zu&&(Oo(Yl,"description",{configurable:!0,get:i(function(){return zC(this).description},"description")}),Nne||Ww(Xr,"propertyIsEnumerable",e0,{unsafe:!0})));oh({global:!0,constructor:!0,wrap:!0,forced:!es,sham:!es},{Symbol:Oa});uh(GC(Zne),function(t){Wne(t)});oh({target:sh,stat:!0,forced:!es},{useSetter:i(function(){Qw=!0},"useSetter"),useSimple:i(function(){Qw=!1},"useSimple")});oh({target:"Object",stat:!0,forced:!es,sham:!Zu},{create:eie,defineProperty:lh,defineProperties:o0,getOwnPropertyDescriptor:eF});oh({target:"Object",stat:!0,forced:!es},{getOwnPropertyNames:tF});Kne();Yne(Oa,sh);YC[mr]=!0});var a0=j(function(Cot,iF){var tie=da();iF.exports=tie&&!!Symbol.for&&!!Symbol.keyFor});var aF=j(function(){var rie=D(),nie=ye(),iie=Ae(),oie=Le(),oF=go(),aie=a0(),u0=oF("string-to-symbol-registry"),uie=oF("symbol-to-string-registry");rie({target:"Symbol",stat:!0,forced:!aie},{for:i(function(e){var r=oie(e);if(iie(u0,r))return u0[r];var n=nie("Symbol")(r);return u0[r]=n,uie[n]=r,n},"_for")})});var sF=j(function(){var sie=D(),lie=Ae(),cie=yo(),fie=mo(),pie=go(),die=a0(),uF=pie("symbol-to-string-registry");sie({target:"Symbol",stat:!0,forced:!die},{keyFor:i(function(e){if(!cie(e))throw TypeError(fie(e)+" is not a symbol");if(lie(uF,e))return uF[e]},"keyFor")})});var gr=j(function(Dot,pF){function s0(t){return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s0(t)}i(s0,"_typeof");var hie=Wu(),fF=Function.prototype,lF=fF.apply,cF=fF.call;pF.exports=(typeof Reflect=="undefined"?"undefined":s0(Reflect))=="object"&&Reflect.apply||(hie?cF.bind(lF):function(){return cF.apply(lF,arguments)})});var So=j(function(Uot,dF){var vie=le();dF.exports=vie([].slice)});var l0=j(function(){var yie=D(),wF=ye(),OF=gr(),mie=ce(),Zl=le(),SF=se(),gie=ba(),bie=Pe(),wie=Te(),hF=yo(),_F=So(),Oie=da(),_o=wF("JSON","stringify"),ch=Zl(/./.exec),vF=Zl("".charAt),Sie=Zl("".charCodeAt),_ie=Zl("".replace),Pie=Zl(1 .toString),Eie=/[\uD800-\uDFFF]/g,yF=/^[\uD800-\uDBFF]$/,mF=/^[\uDC00-\uDFFF]$/,gF=!Oie||SF(function(){var t=wF("Symbol")();return _o([t])!="[null]"||_o({a:t})!="{}"||_o(Object(t))!="{}"}),bF=SF(function(){return _o("\uDF06\uD834")!=='"\\udf06\\ud834"'||_o("\uDEAD")!=='"\\udead"'}),Rie=i(function(e,r){var n=_F(arguments),o=r;if(!(!wie(r)&&e===void 0||hF(e)))return gie(r)||(r=i(function(u,s){if(bie(o)&&(s=mie(o,this,u,s)),!hF(s))return s},"replacer")),n[1]=r,OF(_o,null,n)},"stringifyWithSymbolsFix"),Tie=i(function(e,r,n){var o=vF(n,r-1),a=vF(n,r+1);return ch(yF,e)&&!ch(mF,a)||ch(mF,e)&&!ch(yF,o)?"\\u"+Pie(Sie(e,0),16):e},"fixIllFormed");_o&&yie({target:"JSON",stat:!0,arity:3,forced:gF||bF},{stringify:i(function(e,r,n){var o=_F(arguments),a=OF(gF?Rie:_o,null,o);return bF&&typeof a=="string"?_ie(a,Eie,Tie):a},"stringify")})});var EF=j(function(){var Aie=D(),Iie=da(),qie=se(),PF=Hl(),kie=ke(),xie=!Iie||qie(function(){PF.f(1)});Aie({target:"Object",stat:!0,forced:xie},{getOwnPropertySymbols:i(function(e){var r=PF.f;return r?r(kie(e)):[]},"getOwnPropertySymbols")})});var p0=j(function(Got,xF){function f0(t){return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(t)}i(f0,"_typeof");var ioe=Pe(),ooe=String,aoe=TypeError;xF.exports=function(t){if(f0(t)=="object"||ioe(t))return t;throw aoe("Can't set "+ooe(t)+" as a prototype")}});var zn=j(function(Hot,CF){var uoe=le(),soe=te(),loe=p0();CF.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=uoe(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),r(e,[]),t=e instanceof Array}catch(n){}return i(function(o,a){return soe(o),loe(a),t?r(o,a):o.__proto__=a,o},"setPrototypeOf")}():void 0)});var d0=j(function(Vot,FF){var coe=He().f;FF.exports=function(t,e,r){r in t||coe(t,r,{configurable:!0,get:i(function(){return e[r]},"get"),set:i(function(o){e[r]=o},"set")})}});var _a=j(function(Wot,jF){var foe=Pe(),poe=Te(),LF=zn();jF.exports=function(t,e,r){var n,o;return LF&&foe(n=e.constructor)&&n!==r&&poe(o=n.prototype)&&o!==r.prototype&&LF(t,o),t}});var ts=j(function(Kot,NF){var doe=Le();NF.exports=function(t,e){return t===void 0?arguments.length<2?"":e:doe(t)}});var h0=j(function(Yot,DF){var hoe=Te(),voe=It();DF.exports=function(t,e){hoe(e)&&"cause"in e&&voe(t,"cause",e.cause)}});var tc=j(function(Xot,BF){var yoe=le(),UF=Error,moe=yoe("".replace),goe=function(t){return String(UF(t).stack)}("zxcasd"),MF=/\n\s*at [^:]*:[^\n]*/,boe=MF.test(goe);BF.exports=function(t,e){if(boe&&typeof t=="string"&&!UF.prepareStackTrace)for(;e--;)t=moe(t,MF,"");return t}});var ph=j(function(Jot,$F){var woe=se(),Ooe=kr();$F.exports=!woe(function(){var t=Error("a");return"stack"in t?(Object.defineProperty(t,"stack",Ooe(1,7)),t.stack!==7):!0})});var y0=j(function(Qot,KF){"use strict";var zF=ye(),Soe=Ae(),v0=It(),_oe=er(),GF=zn(),HF=Vl(),VF=d0(),Poe=_a(),Eoe=ts(),Roe=h0(),Toe=tc(),Aoe=ph(),Ioe=Oe(),WF=tt();KF.exports=function(t,e,r,n){var o="stackTraceLimit",a=n?2:1,u=t.split("."),s=u[u.length-1],l=zF.apply(null,u);if(!!l){var f=l.prototype;if(!WF&&Soe(f,"cause")&&delete f.cause,!r)return l;var d=zF("Error"),y=e(function(m,w){var _=Eoe(n?w:m,void 0),T=n?new l(m):new l;return _!==void 0&&v0(T,"message",_),Aoe&&v0(T,"stack",Toe(T.stack,2)),this&&_oe(f,this)&&Poe(T,this,y),arguments.length>a&&Roe(T,arguments[a]),T});if(y.prototype=f,s!=="Error"?GF?GF(y,d):HF(y,d,{name:!0}):Ioe&&o in l&&(VF(y,l,o),VF(y,l,"prepareStackTrace")),HF(y,l),!WF)try{f.name!==s&&v0(f,"name",s),f.constructor=y}catch(m){}return y}}});var hh=j(function(Zot,QF){var koe=se();QF.exports=!koe(function(){function t(){}return i(t,"F"),t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})});var Bt=j(function(eat,eL){var xoe=Ae(),Coe=Pe(),Foe=ke(),Loe=$l(),joe=hh(),ZF=Loe("IE_PROTO"),b0=Object,Noe=b0.prototype;eL.exports=joe?b0.getPrototypeOf:function(t){var e=Foe(t);if(xoe(e,ZF))return e[ZF];var r=e.constructor;return Coe(r)&&e instanceof r?r.prototype:e instanceof b0?Noe:null}});var rs=j(function(tat,tL){tL.exports={}});var vh=j(function(rat,rL){var Doe=ge(),Uoe=rs(),Moe=Doe("iterator"),Boe=Array.prototype;rL.exports=function(t){return t!==void 0&&(Uoe.Array===t||Boe[Moe]===t)}});var Hn=j(function(nat,iL){var $oe=mn(),nL=At(),zoe=rs(),Goe=ge(),Hoe=Goe("iterator");iL.exports=function(t){if(t!=null)return nL(t,Hoe)||nL(t,"@@iterator")||zoe[$oe(t)]}});var Jr=j(function(iat,oL){var Voe=ce(),Woe=de(),Koe=te(),Yoe=mo(),Xoe=Hn(),Joe=TypeError;oL.exports=function(t,e){var r=arguments.length<2?Xoe(t):e;if(Woe(r))return Koe(Voe(r,t));throw Joe(Yoe(t)+" is not iterable")}});var Ea=j(function(oat,uL){var Qoe=ce(),aL=te(),Zoe=At();uL.exports=function(t,e,r){var n,o;aL(t);try{if(n=Zoe(t,"return"),!n){if(e==="throw")throw r;return r}n=Qoe(n,t)}catch(a){o=!0,n=a}if(e==="throw")throw r;if(o)throw n;return aL(n),r}});var be=j(function(aat,fL){function w0(t){return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(t)}i(w0,"_typeof");var eae=Ke(),tae=ce(),rae=te(),nae=mo(),iae=vh(),oae=Fe(),sL=er(),aae=Jr(),uae=Hn(),lL=Ea(),sae=TypeError,yh=i(function(e,r){this.stopped=e,this.result=r},"Result"),cL=yh.prototype;fL.exports=function(t,e,r){var n=r&&r.that,o=!!(r&&r.AS_ENTRIES),a=!!(r&&r.IS_RECORD),u=!!(r&&r.IS_ITERATOR),s=!!(r&&r.INTERRUPTED),l=eae(e,n),f,d,y,m,w,_,T,R=i(function(k){return f&&lL(f,"normal",k),new yh(!0,k)},"stop"),E=i(function(k){return o?(rae(k),s?l(k[0],k[1],R):l(k[0],k[1])):s?l(k,R):l(k)},"callFn");if(a)f=t.iterator;else if(u)f=t;else{if(d=uae(t),!d)throw sae(nae(t)+" is not iterable");if(iae(d)){for(y=0,m=oae(t);m>y;y++)if(w=E(t[y]),w&&sL(cL,w))return w;return new yh(!1)}f=aae(t,d)}for(_=a?t.next:f.next;!(T=tae(_,f)).done;){try{w=E(T.value)}catch(A){lL(f,"throw",A)}if(w0(w)=="object"&&w&&sL(cL,w))return w}return new yh(!1)}});var dL=j(function(){"use strict";var lae=D(),cae=er(),fae=Bt(),gh=zn(),pae=Vl(),pL=wt(),mh=It(),O0=kr(),dae=tc(),hae=h0(),vae=be(),yae=ts(),mae=ge(),gae=ph(),bae=mae("toStringTag"),bh=Error,wae=[].push,rc=i(function(e,r){var n=arguments.length>2?arguments[2]:void 0,o=cae(S0,this),a;gh?a=gh(new bh,o?fae(this):S0):(a=o?this:pL(S0),mh(a,bae,"Error")),r!==void 0&&mh(a,"message",yae(r)),gae&&mh(a,"stack",dae(a.stack,1)),hae(a,n);var u=[];return vae(e,wae,{that:u}),mh(a,"errors",u),a},"AggregateError");gh?gh(rc,bh):pae(rc,bh,{name:!0});var S0=rc.prototype=pL(bh.prototype,{constructor:O0(1,rc),message:O0(1,""),name:O0(1,"AggregateError")});lae({global:!0,constructor:!0,arity:2},{AggregateError:rc})});var nt=j(function(lat,mL){var Eae=ge(),Rae=wt(),Tae=He().f,P0=Eae("unscopables"),E0=Array.prototype;E0[P0]==null&&Tae(E0,P0,{configurable:!0,value:Rae(null)});mL.exports=function(t){E0[P0][t]=!0}});var Ra=j(function(cat,gL){var Cae=TypeError,Fae=9007199254740991;gL.exports=function(t){if(t>Fae)throw Cae("Maximum allowed index exceeded");return t}});var ns=j(function(fat,bL){var Lae=se(),jae=ge(),Nae=vo(),Dae=jae("species");bL.exports=function(t){return Nae>=51||!Lae(function(){var e=[],r=e.constructor={};return r[Dae]=function(){return{foo:1}},e[t](Boolean).foo!==1})}});var wh=j(function(pat,PL){"use strict";var _L=mo(),Zae=TypeError;PL.exports=function(t,e){if(!delete t[e])throw Zae("Cannot delete property "+_L(e)+" of "+_L(t))}});var T0=j(function(dat,EL){"use strict";var eue=ke(),R0=yn(),tue=Fe(),rue=wh(),nue=Math.min;EL.exports=[].copyWithin||i(function(e,r){var n=eue(this),o=tue(n),a=R0(e,o),u=R0(r,o),s=arguments.length>2?arguments[2]:void 0,l=nue((s===void 0?o:R0(s,o))-u,o-a),f=1;for(u<a&&a<u+l&&(f=-1,u+=l-1,a+=l-1);l-- >0;)u in n?n[a]=n[u]:rue(n,a),a+=f,u+=f;return n},"copyWithin")});var Oh=j(function(hat,TL){"use strict";var uue=ke(),RL=yn(),sue=Fe();TL.exports=i(function(e){for(var r=uue(this),n=sue(r),o=arguments.length,a=RL(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,s=u===void 0?n:RL(u,n);s>a;)r[a++]=e;return r},"fill")});var nc=j(function(vat,kL){var Sue=Ke(),_ue=mi(),Pue=ke(),Eue=Fe(),qL=i(function(e){var r=e==1;return function(n,o,a){for(var u=Pue(n),s=_ue(u),l=Sue(o,a),f=Eue(s),d,y;f-- >0;)if(d=s[f],y=l(d,f,u),y)switch(e){case 0:return d;case 1:return f}return r?-1:void 0}},"createMethod");kL.exports={findLast:qL(0),findLastIndex:qL(1)}});var q0=j(function(yat,xL){"use strict";var xue=ba(),Cue=Fe(),Fue=Ra(),Lue=Ke(),jue=i(function t(e,r,n,o,a,u,s,l){for(var f=a,d=0,y=s?Lue(s,l):!1,m,w;d<o;)d in n&&(m=y?y(n[d],d,r):n[d],u>0&&xue(m)?(w=Cue(m),f=t(e,r,m,w,f,u-1)-1):(Fue(f+1),e[f]=m),f++),d++;return f},"flattenIntoArray");xL.exports=jue});var Sh=j(function(mat,CL){var Yue=te(),Xue=Ea();CL.exports=function(t,e,r,n){try{return n?e(Yue(r)[0],r[1]):e(r)}catch(o){Xue(t,"throw",o)}}});var k0=j(function(gat,jL){"use strict";var Jue=Ke(),Que=ce(),Zue=ke(),ese=Sh(),tse=vh(),rse=gn(),nse=Fe(),FL=$n(),ise=Jr(),ose=Hn(),LL=Array;jL.exports=i(function(e){var r=Zue(e),n=rse(this),o=arguments.length,a=o>1?arguments[1]:void 0,u=a!==void 0;u&&(a=Jue(a,o>2?arguments[2]:void 0));var s=ose(r),l=0,f,d,y,m,w,_;if(s&&!(this===LL&&tse(s)))for(m=ise(r,s),w=m.next,d=n?new this:[];!(y=Que(w,m)).done;l++)_=u?ese(m,a,[y.value,l],!0):y.value,FL(d,l,_);else for(f=nse(r),d=n?new this(f):LL(f);f>l;l++)_=u?a(r[l],l):r[l],FL(d,l,_);return d.length=l,d},"from")});var ic=j(function(bat,ML){var ase=ge(),DL=ase("iterator"),UL=!1;try{NL=0,x0={next:i(function(){return{done:!!NL++}},"next"),return:i(function(){UL=!0},"_return")},x0[DL]=function(){return this},Array.from(x0,function(){throw 2})}catch(t){}var NL,x0;ML.exports=function(t,e){if(!e&&!UL)return!1;var r=!1;try{var n={};n[DL]=function(){return{next:i(function(){return{done:r=!0}},"next")}},t(n)}catch(o){}return r}});var is=j(function(wat,zL){"use strict";var yse=se(),mse=Pe(),gse=wt(),BL=Bt(),bse=rt(),wse=ge(),Ose=tt(),L0=wse("iterator"),$L=!1,Si,C0,F0;[].keys&&(F0=[].keys(),"next"in F0?(C0=BL(BL(F0)),C0!==Object.prototype&&(Si=C0)):$L=!0);var Sse=Si==null||yse(function(){var t={};return Si[L0].call(t)!==t});Sse?Si={}:Ose&&(Si=gse(Si));mse(Si[L0])||bse(Si,L0,function(){return this});zL.exports={IteratorPrototype:Si,BUGGY_SAFARI_ITERATORS:$L}});var Po=j(function(Oat,GL){"use strict";var _se=is().IteratorPrototype,Pse=wt(),Ese=kr(),Rse=yr(),Tse=rs(),Ase=i(function(){return this},"returnThis");GL.exports=function(t,e,r,n){var o=e+" Iterator";return t.prototype=Pse(_se,{next:Ese(+!n,r)}),Rse(t,o,!1,!0),Tse[o]=Ase,t}});var Eh=j(function(Sat,ej){"use strict";var Ise=D(),qse=ce(),_h=tt(),QL=ya(),kse=Pe(),xse=Po(),HL=Bt(),VL=zn(),Cse=yr(),Fse=It(),j0=rt(),Lse=ge(),WL=rs(),ZL=is(),jse=QL.PROPER,Nse=QL.CONFIGURABLE,KL=ZL.IteratorPrototype,Ph=ZL.BUGGY_SAFARI_ITERATORS,oc=Lse("iterator"),YL="keys",ac="values",XL="entries",JL=i(function(){return this},"returnThis");ej.exports=function(t,e,r,n,o,a,u){xse(r,e,n);var s=i(function(A){if(A===o&&m)return m;if(!Ph&&A in d)return d[A];switch(A){case YL:return i(function(){return new r(this,A)},"keys");case ac:return i(function(){return new r(this,A)},"values");case XL:return i(function(){return new r(this,A)},"entries")}return function(){return new r(this)}},"getIterationMethod"),l=e+" Iterator",f=!1,d=t.prototype,y=d[oc]||d["@@iterator"]||o&&d[o],m=!Ph&&y||s(o),w=e=="Array"&&d.entries||y,_,T,R;if(w&&(_=HL(w.call(new t)),_!==Object.prototype&&_.next&&(!_h&&HL(_)!==KL&&(VL?VL(_,KL):kse(_[oc])||j0(_,oc,JL)),Cse(_,l,!0,!0),_h&&(WL[l]=JL))),jse&&o==ac&&y&&y.name!==ac&&(!_h&&Nse?Fse(d,"name",ac):(f=!0,m=i(function(){return qse(y,this)},"values"))),o)if(T={values:s(ac),keys:a?m:s(YL),entries:s(XL)},u)for(R in T)(Ph||f||!(R in d))&&j0(d,R,T[R]);else Ise({target:e,proto:!0,forced:Ph||f},T);return(!_h||u)&&d[oc]!==m&&j0(d,oc,m,{name:o}),WL[e]=m,T}});var uc=j(function(_at,oj){"use strict";var Dse=bt(),N0=nt(),tj=rs(),nj=We(),Use=He().f,Mse=Eh(),Bse=tt(),$se=Oe(),ij="Array Iterator",zse=nj.set,Gse=nj.getterFor(ij);oj.exports=Mse(Array,"Array",function(t,e){zse(this,{type:ij,target:Dse(t),index:0,kind:e})},function(){var t=Gse(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):r=="keys"?{value:n,done:!1}:r=="values"?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values");var rj=tj.Arguments=tj.Array;N0("keys");N0("values");N0("entries");if(!Bse&&$se&&rj.name!=="values")try{Use(rj,"name",{value:"values"})}catch(t){}});var Ta=j(function(Pat,aj){"use strict";var Hse=se();aj.exports=function(t,e){var r=[][t];return!!r&&Hse(function(){r.call(null,e||function(){return 1},1)})}});var Rh=j(function(Eat,fj){var cj=Qu(),Ale=Math.floor,Ile=i(function t(e,r){var n=e.length,o=Ale(n/2);return n<8?qle(e,r):kle(e,t(cj(e,0,o),r),t(cj(e,o),r),r)},"mergeSort"),qle=i(function(e,r){for(var n=e.length,o=1,a,u;o<n;){for(u=o,a=e[o];u&&r(e[u-1],a)>0;)e[u]=e[--u];u!==o++&&(e[u]=a)}return e},"insertionSort"),kle=i(function(e,r,n,o){for(var a=r.length,u=n.length,s=0,l=0;s<a||l<u;)e[s+l]=s<a&&l<u?o(r[s],n[l])<=0?r[s++]:n[l++]:s<a?r[s++]:n[l++];return e},"merge");fj.exports=Ile});var U0=j(function(Rat,dj){var xle=gi(),pj=xle.match(/firefox\/(\d+)/i);dj.exports=!!pj&&+pj[1]});var M0=j(function(Tat,hj){var Cle=gi();hj.exports=/MSIE|Trident/.test(Cle)});var Th=j(function(Aat,yj){var Fle=gi(),vj=Fle.match(/AppleWebKit\/(\d+)\./);yj.exports=!!vj&&+vj[1]});var Ro=j(function(Iat,Ej){"use strict";var Yle=ye(),Xle=He(),Jle=ge(),Qle=Oe(),Pj=Jle("species");Ej.exports=function(t){var e=Yle(t),r=Xle.f;Qle&&e&&!e[Pj]&&r(e,Pj,{configurable:!0,get:i(function(){return this},"get")})}});var z0=j(function(qat,Rj){Rj.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var Vn=j(function(kat,Tj){var hce=rt();Tj.exports=function(t,e,r){for(var n in e)hce(t,n,e[n],r);return t}});var br=j(function(xat,Aj){var vce=er(),yce=TypeError;Aj.exports=function(t,e){if(vce(e,t))return t;throw yce("Incorrect invocation")}});var G0=j(function(Cat,Ij){var mce=at(),gce=xr(),bce=RangeError;Ij.exports=function(t){if(t===void 0)return 0;var e=mce(t),r=gce(e);if(e!==r)throw bce("Wrong length or index");return r}});var kj=j(function(Fat,qj){var wce=Array,Oce=Math.abs,_i=Math.pow,Sce=Math.floor,_ce=Math.log,Pce=Math.LN2,Ece=i(function(e,r,n){var o=wce(n),a=n*8-r-1,u=(1<<a)-1,s=u>>1,l=r===23?_i(2,-24)-_i(2,-77):0,f=e<0||e===0&&1/e<0?1:0,d=0,y,m,w;for(e=Oce(e),e!=e||e===1/0?(m=e!=e?1:0,y=u):(y=Sce(_ce(e)/Pce),w=_i(2,-y),e*w<1&&(y--,w*=2),y+s>=1?e+=l/w:e+=l*_i(2,1-s),e*w>=2&&(y++,w/=2),y+s>=u?(m=0,y=u):y+s>=1?(m=(e*w-1)*_i(2,r),y=y+s):(m=e*_i(2,s-1)*_i(2,r),y=0));r>=8;)o[d++]=m&255,m/=256,r-=8;for(y=y<<r|m,a+=r;a>0;)o[d++]=y&255,y/=256,a-=8;return o[--d]|=f*128,o},"pack"),Rce=i(function(e,r){var n=e.length,o=n*8-r-1,a=(1<<o)-1,u=a>>1,s=o-7,l=n-1,f=e[l--],d=f&127,y;for(f>>=7;s>0;)d=d*256+e[l--],s-=8;for(y=d&(1<<-s)-1,d>>=-s,s+=r;s>0;)y=y*256+e[l--],s-=8;if(d===0)d=1-u;else{if(d===a)return y?NaN:f?-1/0:1/0;y=y+_i(2,r),d=d-u}return(f?-1:1)*y*_i(2,d-r)},"unpack");qj.exports={pack:Ece,unpack:Rce}});var Q0=j(function(Lat,Xj){"use strict";var Fh=he(),J0=le(),H0=Oe(),Tce=z0(),zj=ya(),xj=It(),Cj=Vn(),V0=se(),Ah=br(),Ace=at(),Ice=xr(),kh=G0(),Gj=kj(),qce=Bt(),Fj=zn(),kce=bi().f,xce=He().f,Cce=Oh(),Fce=Qu(),Hj=yr(),Vj=We(),Lce=zj.PROPER,Lj=zj.CONFIGURABLE,us=Vj.get,jj=Vj.set,xh="ArrayBuffer",Wj="DataView",as="prototype",jce="Wrong length",Kj="Wrong index",bn=Fh[xh],Cr=bn,os=Cr&&Cr[as],Wn=Fh[Wj],Aa=Wn&&Wn[as],Nj=Object.prototype,Nce=Fh.Array,Ch=Fh.RangeError,Dce=J0(Cce),Uce=J0([].reverse),Yj=Gj.pack,Dj=Gj.unpack,Uj=i(function(e){return[e&255]},"packInt8"),Mj=i(function(e){return[e&255,e>>8&255]},"packInt16"),Bj=i(function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},"packInt32"),$j=i(function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},"unpackInt32"),Mce=i(function(e){return Yj(e,23,4)},"packFloat32"),Bce=i(function(e){return Yj(e,52,8)},"packFloat64"),Ih=i(function(e,r){xce(e[as],r,{get:i(function(){return us(this)[r]},"get")})},"addGetter"),To=i(function(e,r,n,o){var a=kh(n),u=us(e);if(a+r>u.byteLength)throw Ch(Kj);var s=us(u.buffer).bytes,l=a+u.byteOffset,f=Fce(s,l,l+r);return o?f:Uce(f)},"get"),Ao=i(function(e,r,n,o,a,u){var s=kh(n),l=us(e);if(s+r>l.byteLength)throw Ch(Kj);for(var f=us(l.buffer).bytes,d=s+l.byteOffset,y=o(+a),m=0;m<r;m++)f[d+m]=y[u?m:r-m-1]},"set");if(!Tce)Cr=i(function(e){Ah(this,os);var r=kh(e);jj(this,{bytes:Dce(Nce(r),0),byteLength:r}),H0||(this.byteLength=r)},"ArrayBuffer"),os=Cr[as],Wn=i(function(e,r,n){Ah(this,Aa),Ah(e,os);var o=us(e).byteLength,a=Ace(r);if(a<0||a>o)throw Ch("Wrong offset");if(n=n===void 0?o-a:Ice(n),a+n>o)throw Ch(jce);jj(this,{buffer:e,byteLength:n,byteOffset:a}),H0||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},"DataView"),Aa=Wn[as],H0&&(Ih(Cr,"byteLength"),Ih(Wn,"buffer"),Ih(Wn,"byteLength"),Ih(Wn,"byteOffset")),Cj(Aa,{getInt8:i(function(e){return To(this,1,e)[0]<<24>>24},"getInt8"),getUint8:i(function(e){return To(this,1,e)[0]},"getUint8"),getInt16:i(function(e){var r=To(this,2,e,arguments.length>1?arguments[1]:void 0);return(r[1]<<8|r[0])<<16>>16},"getInt16"),getUint16:i(function(e){var r=To(this,2,e,arguments.length>1?arguments[1]:void 0);return r[1]<<8|r[0]},"getUint16"),getInt32:i(function(e){return $j(To(this,4,e,arguments.length>1?arguments[1]:void 0))},"getInt32"),getUint32:i(function(e){return $j(To(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},"getUint32"),getFloat32:i(function(e){return Dj(To(this,4,e,arguments.length>1?arguments[1]:void 0),23)},"getFloat32"),getFloat64:i(function(e){return Dj(To(this,8,e,arguments.length>1?arguments[1]:void 0),52)},"getFloat64"),setInt8:i(function(e,r){Ao(this,1,e,Uj,r)},"setInt8"),setUint8:i(function(e,r){Ao(this,1,e,Uj,r)},"setUint8"),setInt16:i(function(e,r){Ao(this,2,e,Mj,r,arguments.length>2?arguments[2]:void 0)},"setInt16"),setUint16:i(function(e,r){Ao(this,2,e,Mj,r,arguments.length>2?arguments[2]:void 0)},"setUint16"),setInt32:i(function(e,r){Ao(this,4,e,Bj,r,arguments.length>2?arguments[2]:void 0)},"setInt32"),setUint32:i(function(e,r){Ao(this,4,e,Bj,r,arguments.length>2?arguments[2]:void 0)},"setUint32"),setFloat32:i(function(e,r){Ao(this,4,e,Mce,r,arguments.length>2?arguments[2]:void 0)},"setFloat32"),setFloat64:i(function(e,r){Ao(this,8,e,Bce,r,arguments.length>2?arguments[2]:void 0)},"setFloat64")});else{if(W0=Lce&&bn.name!==xh,!V0(function(){bn(1)})||!V0(function(){new bn(-1)})||V0(function(){return new bn,new bn(1.5),new bn(NaN),W0&&!Lj})){for(Cr=i(function(e){return Ah(this,os),new bn(kh(e))},"ArrayBuffer"),Cr[as]=os,K0=kce(bn),Y0=0;K0.length>Y0;)(qh=K0[Y0++])in Cr||xj(Cr,qh,bn[qh]);os.constructor=Cr}else W0&&Lj&&xj(bn,"name",xh);Fj&&qce(Aa)!==Nj&&Fj(Aa,Nj),sc=new Wn(new Cr(2)),X0=J0(Aa.setInt8),sc.setInt8(0,2147483648),sc.setInt8(1,2147483649),(sc.getInt8(0)||!sc.getInt8(1))&&Cj(Aa,{setInt8:i(function(e,r){X0(this,e,r<<24>>24)},"setInt8"),setUint8:i(function(e,r){X0(this,e,r<<24>>24)},"setUint8")},{unsafe:!0})}var W0,K0,Y0,qh,sc,X0;Hj(Cr,xh);Hj(Wn,Wj);Xj.exports={ArrayBuffer:Cr,DataView:Wn}});var Zj=j(function(jat,Qj){"use strict";var Wce=te(),Kce=mw(),Yce=TypeError;Qj.exports=function(t){if(Wce(this),t==="string"||t==="default")t="string";else if(t!=="number")throw Yce("Incorrect hint");return Kce(this,t)}});var Lh=j(function(Nat,uN){var vfe=se();uN.exports=vfe(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})});var lc=j(function(Dat,lN){var yfe=se(),mfe=Te(),gfe=vr(),sN=Lh(),jh=Object.isExtensible,bfe=yfe(function(){jh(1)});lN.exports=bfe||sN?i(function(e){return!mfe(e)||sN&&gfe(e)=="ArrayBuffer"?!1:jh?jh(e):!0},"isExtensible"):jh});var ss=j(function(Uat,cN){var wfe=se();cN.exports=!wfe(function(){return Object.isExtensible(Object.preventExtensions({}))})});var Io=j(function(Mat,dN){function tO(t){return tO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tO(t)}i(tO,"_typeof");var Ofe=D(),Sfe=le(),_fe=Xu(),Pfe=Te(),rO=Ae(),Efe=He().f,fN=bi(),Rfe=ih(),nO=lc(),Tfe=ha(),Afe=ss(),pN=!1,Pi=Tfe("meta"),Ife=0,iO=i(function(e){Efe(e,Pi,{value:{objectID:"O"+Ife++,weakData:{}}})},"setMetadata"),qfe=i(function(e,r){if(!Pfe(e))return tO(e)=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!rO(e,Pi)){if(!nO(e))return"F";if(!r)return"E";iO(e)}return e[Pi].objectID},"fastKey"),kfe=i(function(e,r){if(!rO(e,Pi)){if(!nO(e))return!0;if(!r)return!1;iO(e)}return e[Pi].weakData},"getWeakData"),xfe=i(function(e){return Afe&&pN&&nO(e)&&!rO(e,Pi)&&iO(e),e},"onFreeze"),Cfe=i(function(){Ffe.enable=function(){},pN=!0;var e=fN.f,r=Sfe([].splice),n={};n[Pi]=1,e(n).length&&(fN.f=function(o){for(var a=e(o),u=0,s=a.length;u<s;u++)if(a[u]===Pi){r(a,u,1);break}return a},Ofe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Rfe.f}))},"enable"),Ffe=dN.exports={enable:Cfe,fastKey:qfe,getWeakData:kfe,onFreeze:xfe};_fe[Pi]=!0});var cc=j(function(Bat,vN){"use strict";var Lfe=D(),jfe=he(),Nfe=le(),hN=Ju(),Dfe=rt(),Ufe=Io(),Mfe=be(),Bfe=br(),$fe=Pe(),oO=Te(),aO=se(),zfe=ic(),Gfe=yr(),Hfe=_a();vN.exports=function(t,e,r){var n=t.indexOf("Map")!==-1,o=t.indexOf("Weak")!==-1,a=n?"set":"add",u=jfe[t],s=u&&u.prototype,l=u,f={},d=i(function(A){var k=Nfe(s[A]);Dfe(s,A,A=="add"?i(function(G){return k(this,G===0?0:G),this},"add"):A=="delete"?function(U){return o&&!oO(U)?!1:k(this,U===0?0:U)}:A=="get"?i(function(G){return o&&!oO(G)?void 0:k(this,G===0?0:G)},"get"):A=="has"?i(function(G){return o&&!oO(G)?!1:k(this,G===0?0:G)},"has"):i(function(G,M){return k(this,G===0?0:G,M),this},"set"))},"fixMethod"),y=hN(t,!$fe(u)||!(o||s.forEach&&!aO(function(){new u().entries().next()})));if(y)l=r.getConstructor(e,t,n,a),Ufe.enable();else if(hN(t,!0)){var m=new l,w=m[a](o?{}:-0,1)!=m,_=aO(function(){m.has(1)}),T=zfe(function(E){new u(E)}),R=!o&&aO(function(){for(var E=new u,A=5;A--;)E[a](A,A);return!E.has(-0)});T||(l=e(function(E,A){Bfe(E,s);var k=Hfe(new u,E,l);return A!=null&&Mfe(A,k[a],{that:k,AS_ENTRIES:n}),k}),l.prototype=s,s.constructor=l),(_||R)&&(d("delete"),d("has"),n&&d("get")),(R||w)&&d(a),o&&s.clear&&delete s.clear}return f[t]=l,Lfe({global:!0,constructor:!0,forced:l!=u},f),Gfe(l,t),o||r.setStrong(l,t,n),l}});var sO=j(function($at,wN){"use strict";var Vfe=He().f,Wfe=wt(),yN=Vn(),Kfe=Ke(),Yfe=br(),Xfe=be(),Jfe=Eh(),Qfe=Ro(),fc=Oe(),mN=Io().fastKey,bN=We(),gN=bN.set,uO=bN.getterFor;wN.exports={getConstructor:i(function(e,r,n,o){var a=e(function(d,y){Yfe(d,u),gN(d,{type:r,index:Wfe(null),first:void 0,last:void 0,size:0}),fc||(d.size=0),y!=null&&Xfe(y,d[o],{that:d,AS_ENTRIES:n})}),u=a.prototype,s=uO(r),l=i(function(y,m,w){var _=s(y),T=f(y,m),R,E;return T?T.value=w:(_.last=T={index:E=mN(m,!0),key:m,value:w,previous:R=_.last,next:void 0,removed:!1},_.first||(_.first=T),R&&(R.next=T),fc?_.size++:y.size++,E!=="F"&&(_.index[E]=T)),y},"define"),f=i(function(y,m){var w=s(y),_=mN(m),T;if(_!=="F")return w.index[_];for(T=w.first;T;T=T.next)if(T.key==m)return T},"getEntry");return yN(u,{clear:i(function(){for(var y=this,m=s(y),w=m.index,_=m.first;_;)_.removed=!0,_.previous&&(_.previous=_.previous.next=void 0),delete w[_.index],_=_.next;m.first=m.last=void 0,fc?m.size=0:y.size=0},"clear"),delete:i(function(y){var m=this,w=s(m),_=f(m,y);if(_){var T=_.next,R=_.previous;delete w.index[_.index],_.removed=!0,R&&(R.next=T),T&&(T.previous=R),w.first==_&&(w.first=T),w.last==_&&(w.last=R),fc?w.size--:m.size--}return!!_},"_delete"),forEach:i(function(y){for(var m=s(this),w=Kfe(y,arguments.length>1?arguments[1]:void 0),_;_=_?_.next:m.first;)for(w(_.value,_.key,this);_&&_.removed;)_=_.previous},"forEach"),has:i(function(y){return!!f(this,y)},"has")}),yN(u,n?{get:i(function(y){var m=f(this,y);return m&&m.value},"get"),set:i(function(y,m){return l(this,y===0?0:y,m)},"set")}:{add:i(function(y){return l(this,y=y===0?0:y,y)},"add")}),fc&&Vfe(u,"size",{get:i(function(){return s(this).size},"get")}),a},"getConstructor"),setStrong:i(function(e,r,n){var o=r+" Iterator",a=uO(r),u=uO(o);Jfe(e,r,function(s,l){gN(this,{type:o,target:s,state:a(s),kind:l,last:void 0})},function(){for(var s=u(this),l=s.kind,f=s.last;f&&f.removed;)f=f.previous;return!s.target||!(s.last=f=f?f.next:s.state.first)?(s.target=void 0,{value:void 0,done:!0}):l=="keys"?{value:f.key,done:!1}:l=="values"?{value:f.value,done:!1}:{value:[f.key,f.value],done:!1}},n?"entries":"values",!n,!0),Qfe(r)},"setStrong")}});var ON=j(function(){"use strict";var Zfe=cc(),epe=sO();Zfe("Map",function(t){return i(function(){return t(this,arguments.length?arguments[0]:void 0)},"Map")},epe)});var Nh=j(function(){ON()});var lO=j(function(Wat,SN){var tpe=Math.log;SN.exports=Math.log1p||i(function(e){var r=+e;return r>-1e-8&&r<1e-8?r-r*r/2:tpe(1+r)},"log1p")});var Dh=j(function(Kat,TN){TN.exports=Math.sign||i(function(e){var r=+e;return r==0||r!=r?r:r<0?-1:1},"sign")});var dc=j(function(Yat,AN){var pc=Math.expm1,wpe=Math.exp;AN.exports=!pc||pc(10)>22025.465794806718||pc(10)<22025.465794806718||pc(-2e-17)!=-2e-17?i(function(e){var r=+e;return r==0?r:r>-1e-6&&r<1e-6?r+r*r/2:wpe(r)-1},"expm1"):pc});var hO=j(function(Xat,kN){var Epe=Dh(),Rpe=Math.abs,Mh=Math.pow,dO=Mh(2,-52),Uh=Mh(2,-23),Tpe=Mh(2,127)*(2-Uh),pO=Mh(2,-126),Ape=i(function(e){return e+1/dO-1/dO},"roundTiesToEven");kN.exports=Math.fround||i(function(e){var r=+e,n=Rpe(r),o=Epe(r),a,u;return n<pO?o*Ape(n/pO/Uh)*pO*Uh:(a=(1+Uh/dO)*n,u=a-(a-n),u>Tpe||u!=u?o*(1/0):o*u)},"fround")});var vO=j(function(Jat,FN){var Dpe=Math.log,Upe=Math.LOG10E;FN.exports=Math.log10||i(function(e){return Dpe(e)*Upe},"log10")});var Bh=j(function(Qat,UN){var ide=le();UN.exports=ide(1 .valueOf)});var hc=j(function(Zat,MN){MN.exports="	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"});var Ia=j(function(eut,$N){var ode=le(),ade=gt(),ude=Le(),sde=hc(),BN=ode("".replace),$h="["+sde+"]",lde=RegExp("^"+$h+$h+"*"),cde=RegExp($h+$h+"*$"),yO=i(function(e){return function(r){var n=ude(ade(r));return e&1&&(n=BN(n,lde,"")),e&2&&(n=BN(n,cde,"")),n}},"createMethod");$N.exports={start:yO(1),end:yO(2),trim:yO(3)}});var OO=j(function(tut,VN){var Ade=he(),Ide=Ade.isFinite;VN.exports=Number.isFinite||i(function(e){return typeof e=="number"&&Ide(e)},"isFinite")});var Hh=j(function(rut,WN){var xde=Te(),Cde=Math.floor;WN.exports=Number.isInteger||i(function(e){return!xde(e)&&isFinite(e)&&Cde(e)===e},"isInteger")});var QN=j(function(nut,JN){var XN=he(),$de=se(),zde=le(),Gde=Le(),Hde=Ia().trim,Vde=hc(),Wde=zde("".charAt),Vh=XN.parseFloat,KN=XN.Symbol,YN=KN&&KN.iterator,Kde=1/Vh(Vde+"-0")!==-1/0||YN&&!$de(function(){Vh(Object(YN))});JN.exports=Kde?i(function(e){var r=Hde(Gde(e)),n=Vh(r);return n===0&&Wde(r,0)=="-"?-0:n},"parseFloat"):Vh});var SO=j(function(iut,oD){var nD=he(),Xde=se(),Jde=le(),Qde=Le(),Zde=Ia().trim,eD=hc(),yc=nD.parseInt,tD=nD.Symbol,rD=tD&&tD.iterator,iD=/^[+-]?0x/i,ehe=Jde(iD.exec),the=yc(eD+"08")!==8||yc(eD+"0x16")!==22||rD&&!Xde(function(){yc(Object(rD))});oD.exports=the?i(function(e,r){var n=Zde(Qde(e));return yc(n,r>>>0||(ehe(iD,n)?16:10))},"parseInt"):yc});var mc=j(function(out,uD){"use strict";var nhe=at(),ihe=Le(),ohe=gt(),ahe=RangeError;uD.exports=i(function(e){var r=ihe(ohe(this)),n="",o=nhe(e);if(o<0||o==1/0)throw ahe("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(r+=r))o&1&&(n+=r);return n},"repeat")});var AO=j(function(aut,bD){"use strict";var mD=Oe(),Ahe=le(),Ihe=ce(),qhe=se(),TO=ga(),khe=Hl(),xhe=Ul(),Che=ke(),Fhe=mi(),cs=Object.assign,gD=Object.defineProperty,Lhe=Ahe([].concat);bD.exports=!cs||qhe(function(){if(mD&&cs({b:1},cs(gD({},"a",{enumerable:!0,get:i(function(){gD(this,"b",{value:3,enumerable:!1})},"get")}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(o){e[o]=o}),cs({},t)[r]!=7||TO(cs({},e)).join("")!=n})?i(function(e,r){for(var n=Che(e),o=arguments.length,a=1,u=khe.f,s=xhe.f;o>a;)for(var l=Fhe(arguments[a++]),f=u?Lhe(TO(l),u(l)):TO(l),d=f.length,y=0,m;d>y;)m=f[y++],(!mD||Ihe(s,l,m))&&(n[m]=l[m]);return n},"assign"):cs});var bc=j(function(uut,SD){"use strict";var Nhe=tt(),Dhe=he(),Uhe=se(),OD=Th();SD.exports=Nhe||!Uhe(function(){if(!(OD&&OD<535)){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete Dhe[t]}})});var IO=j(function(sut,ED){var Qhe=Oe(),PD=le(),Zhe=ga(),eve=bt(),tve=Ul().f,rve=PD(tve),nve=PD([].push),_D=i(function(e){return function(r){for(var n=eve(r),o=Zhe(n),a=o.length,u=0,s=[],l;a>u;)l=o[u++],(!Qhe||rve(n,l))&&nve(s,e?[l,n[l]]:n[l]);return s}},"createMethod");ED.exports={entries:_D(!0),values:_D(!1)}});var kO=j(function(lut,ID){ID.exports=Object.is||i(function(e,r){return e===r?e!==0||1/e===1/r:e!=e&&r!=r},"is")});var LD=j(function(cut,FD){"use strict";var Rye=Zd(),Tye=mn();FD.exports=Rye?{}.toString:i(function(){return"[object "+Tye(this)+"]"},"toString")});var ko=j(function(fut,jD){var Cye=vr(),Fye=he();jD.exports=Cye(Fye.process)=="process"});var fs=j(function(put,ND){var Lye=gn(),jye=mo(),Nye=TypeError;ND.exports=function(t){if(Lye(t))return t;throw Nye(jye(t)+" is not a constructor")}});var tr=j(function(dut,UD){var DD=te(),Dye=fs(),Uye=ge(),Mye=Uye("species");UD.exports=function(t,e){var r=DD(t).constructor,n;return r===void 0||(n=DD(r)[Mye])==null?e:Dye(n)}});var xo=j(function(hut,MD){var Bye=TypeError;MD.exports=function(t,e){if(t<e)throw Bye("Not enough arguments");return t}});var jO=j(function(vut,BD){var $ye=gi();BD.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test($ye)});var HO=j(function(yut,YD){var Fr=he(),zye=gr(),Gye=Ke(),$D=Pe(),Hye=Ae(),Vye=se(),zD=Uw(),Wye=So(),GD=Bl(),Kye=xo(),Yye=jO(),Xye=ko(),$O=Fr.setImmediate,zO=Fr.clearImmediate,Jye=Fr.process,NO=Fr.Dispatch,Qye=Fr.Function,HD=Fr.MessageChannel,Zye=Fr.String,DO=0,wc={},VD="onreadystatechange",Oc,ka,UO,MO;try{Oc=Fr.location}catch(t){}var GO=i(function(e){if(Hye(wc,e)){var r=wc[e];delete wc[e],r()}},"run"),BO=i(function(e){return function(){GO(e)}},"runner"),WD=i(function(e){GO(e.data)},"listener"),KD=i(function(e){Fr.postMessage(Zye(e),Oc.protocol+"//"+Oc.host)},"post");(!$O||!zO)&&($O=i(function(e){Kye(arguments.length,1);var r=$D(e)?e:Qye(e),n=Wye(arguments,1);return wc[++DO]=function(){zye(r,void 0,n)},ka(DO),DO},"setImmediate"),zO=i(function(e){delete wc[e]},"clearImmediate"),Xye?ka=i(function(e){Jye.nextTick(BO(e))},"defer"):NO&&NO.now?ka=i(function(e){NO.now(BO(e))},"defer"):HD&&!Yye?(UO=new HD,MO=UO.port2,UO.port1.onmessage=WD,ka=Gye(MO.postMessage,MO)):Fr.addEventListener&&$D(Fr.postMessage)&&!Fr.importScripts&&Oc&&Oc.protocol!=="file:"&&!Vye(KD)?(ka=KD,Fr.addEventListener("message",WD,!1)):VD in GD("script")?ka=i(function(e){zD.appendChild(GD("script"))[VD]=function(){zD.removeChild(this),GO(e)}},"defer"):ka=i(function(e){setTimeout(BO(e),0)},"defer"));YD.exports={set:$O,clear:zO}});var JD=j(function(mut,XD){var eme=gi(),tme=he();XD.exports=/ipad|iphone|ipod/i.test(eme)&&tme.Pebble!==void 0});var ZD=j(function(gut,QD){var rme=gi();QD.exports=/web0s(?!.*chrome)/i.test(rme)});var XO=j(function(but,u3){var Ca=he(),e3=Ke(),nme=Mt().f,VO=HO().set,ime=jO(),ome=JD(),ame=ZD(),WO=ko(),t3=Ca.MutationObserver||Ca.WebKitMutationObserver,r3=Ca.document,n3=Ca.process,Yh=Ca.Promise,i3=nme(Ca,"queueMicrotask"),a3=i3&&i3.value,Sc,xa,_c,ps,KO,YO,Xh,o3;a3||(Sc=i(function(){var e,r;for(WO&&(e=n3.domain)&&e.exit();xa;){r=xa.fn,xa=xa.next;try{r()}catch(n){throw xa?ps():_c=void 0,n}}_c=void 0,e&&e.enter()},"flush"),!ime&&!WO&&!ame&&t3&&r3?(KO=!0,YO=r3.createTextNode(""),new t3(Sc).observe(YO,{characterData:!0}),ps=i(function(){YO.data=KO=!KO},"notify")):!ome&&Yh&&Yh.resolve?(Xh=Yh.resolve(void 0),Xh.constructor=Yh,o3=e3(Xh.then,Xh),ps=i(function(){o3(Sc)},"notify")):WO?ps=i(function(){n3.nextTick(Sc)},"notify"):(VO=e3(VO,Ca),ps=i(function(){VO(Sc)},"notify")));u3.exports=a3||function(t){var e={fn:t,next:void 0};_c&&(_c.next=e),xa||(xa=e,ps()),_c=e}});var JO=j(function(wut,s3){var ume=he();s3.exports=function(t,e){var r=ume.console;r&&r.error&&(arguments.length==1?r.error(t):r.error(t,e))}});var Co=j(function(Out,l3){l3.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}});var p3=j(function(Sut,f3){var c3=i(function(){this.head=null,this.tail=null},"Queue");c3.prototype={add:i(function(e){var r={item:e,next:null};this.head?this.tail.next=r:this.head=r,this.tail=r},"add"),get:i(function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item},"get")};f3.exports=c3});var Fa=j(function(_ut,d3){var sme=he();d3.exports=sme.Promise});var Qh=j(function(Put,h3){function Jh(t){return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}i(Jh,"_typeof");h3.exports=(typeof Deno=="undefined"?"undefined":Jh(Deno))=="object"&&Deno&&Jh(Deno.version)=="object"});var QO=j(function(Eut,v3){function Zh(t){return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}i(Zh,"_typeof");var lme=Qh(),cme=ko();v3.exports=!lme&&!cme&&(typeof window=="undefined"?"undefined":Zh(window))=="object"&&(typeof document=="undefined"?"undefined":Zh(document))=="object"});var ds=j(function(Rut,g3){var fme=he(),Pc=Fa(),pme=Pe(),dme=Ju(),hme=Yu(),vme=ge(),yme=QO(),mme=Qh(),gme=tt(),ZO=vo(),y3=Pc&&Pc.prototype,bme=vme("species"),eS=!1,m3=pme(fme.PromiseRejectionEvent),wme=dme("Promise",function(){var t=hme(Pc),e=t!==String(Pc);if(!e&&ZO===66||gme&&!(y3.catch&&y3.finally))return!0;if(!ZO||ZO<51||!/native code/.test(t)){var r=new Pc(function(a){a(1)}),n=i(function(u){u(function(){},function(){})},"FakePromise"),o=r.constructor={};if(o[bme]=n,eS=r.then(function(){})instanceof n,!eS)return!0}return!e&&(yme||mme)&&!m3});g3.exports={CONSTRUCTOR:wme,REJECTION_EVENT:m3,SUBCLASSING:eS}});var Ei=j(function(Tut,w3){"use strict";var b3=de(),Ome=i(function(e){var r,n;this.promise=new e(function(o,a){if(r!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");r=o,n=a}),this.resolve=b3(r),this.reject=b3(n)},"PromiseCapability");w3.exports.f=function(t){return new Ome(t)}});var M3=j(function(){"use strict";var Sme=D(),_me=tt(),nv=ko(),Fo=he(),ms=ce(),O3=rt(),S3=zn(),Pme=yr(),Eme=Ro(),Rme=de(),rv=Pe(),Tme=Te(),Ame=br(),Ime=tr(),A3=HO().set,iS=XO(),qme=JO(),kme=Co(),xme=p3(),I3=We(),iv=Fa(),oS=ds(),q3=Ei(),ov="Promise",k3=oS.CONSTRUCTOR,Cme=oS.REJECTION_EVENT,Fme=oS.SUBCLASSING,tS=I3.getterFor(ov),Lme=I3.set,hs=iv&&iv.prototype,La=iv,ev=hs,x3=Fo.TypeError,rS=Fo.document,aS=Fo.process,nS=q3.f,jme=nS,Nme=!!(rS&&rS.createEvent&&Fo.dispatchEvent),C3="unhandledrejection",Dme="rejectionhandled",_3=0,F3=1,Ume=2,uS=1,L3=2,tv,P3,Mme,E3,j3=i(function(e){var r;return Tme(e)&&rv(r=e.then)?r:!1},"isThenable"),N3=i(function(e,r){var n=r.value,o=r.state==F3,a=o?e.ok:e.fail,u=e.resolve,s=e.reject,l=e.domain,f,d,y;try{a?(o||(r.rejection===L3&&$me(r),r.rejection=uS),a===!0?f=n:(l&&l.enter(),f=a(n),l&&(l.exit(),y=!0)),f===e.promise?s(x3("Promise-chain cycle")):(d=j3(f))?ms(d,f,u,s):u(f)):s(n)}catch(m){l&&!y&&l.exit(),s(m)}},"callReaction"),D3=i(function(e,r){e.notified||(e.notified=!0,iS(function(){for(var n=e.reactions,o;o=n.get();)N3(o,e);e.notified=!1,r&&!e.rejection&&Bme(e)}))},"notify"),U3=i(function(e,r,n){var o,a;Nme?(o=rS.createEvent("Event"),o.promise=r,o.reason=n,o.initEvent(e,!1,!0),Fo.dispatchEvent(o)):o={promise:r,reason:n},!Cme&&(a=Fo["on"+e])?a(o):e===C3&&qme("Unhandled promise rejection",n)},"dispatchEvent"),Bme=i(function(e){ms(A3,Fo,function(){var r=e.facade,n=e.value,o=R3(e),a;if(o&&(a=kme(function(){nv?aS.emit("unhandledRejection",n,r):U3(C3,r,n)}),e.rejection=nv||R3(e)?L3:uS,a.error))throw a.value})},"onUnhandled"),R3=i(function(e){return e.rejection!==uS&&!e.parent},"isUnhandled"),$me=i(function(e){ms(A3,Fo,function(){var r=e.facade;nv?aS.emit("rejectionHandled",r):U3(Dme,r,e.value)})},"onHandleUnhandled"),vs=i(function(e,r,n){return function(o){e(r,o,n)}},"bind"),ys=i(function(e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=Ume,D3(e,!0))},"internalReject"),T3=i(function t(e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===r)throw x3("Promise can't be resolved itself");var o=j3(r);o?iS(function(){var a={done:!1};try{ms(o,r,vs(t,a,e),vs(ys,a,e))}catch(u){ys(a,u,e)}}):(e.value=r,e.state=F3,D3(e,!1))}catch(a){ys({done:!1},a,e)}}},"internalResolve");if(k3&&(La=i(function(e){Ame(this,ev),Rme(e),ms(tv,this);var r=tS(this);try{e(vs(T3,r),vs(ys,r))}catch(n){ys(r,n)}},"Promise"),ev=La.prototype,tv=i(function(e){Lme(this,{type:ov,done:!1,notified:!1,parent:!1,reactions:new xme,rejection:!1,state:_3,value:void 0})},"Promise"),tv.prototype=O3(ev,"then",i(function(e,r){var n=tS(this),o=nS(Ime(this,La));return n.parent=!0,o.ok=rv(e)?e:!0,o.fail=rv(r)&&r,o.domain=nv?aS.domain:void 0,n.state==_3?n.reactions.add(o):iS(function(){N3(o,n)}),o.promise},"then")),P3=i(function(){var e=new tv,r=tS(e);this.promise=e,this.resolve=vs(T3,r),this.reject=vs(ys,r)},"OwnPromiseCapability"),q3.f=nS=i(function(e){return e===La||e===Mme?new P3(e):jme(e)},"newPromiseCapability"),!_me&&rv(iv)&&hs!==Object.prototype)){E3=hs.then,Fme||O3(hs,"then",i(function(e,r){var n=this;return new La(function(o,a){ms(E3,n,o,a)}).then(e,r)},"then"),{unsafe:!0});try{delete hs.constructor}catch(t){}S3&&S3(hs,ev)}Sme({global:!0,constructor:!0,wrap:!0,forced:k3},{Promise:La});Pme(La,ov,!1,!0);Eme(ov)});var sS=j(function(qut,B3){var zme=Fa(),Gme=ic(),Hme=ds().CONSTRUCTOR;B3.exports=Hme||!Gme(function(t){zme.all(t).then(void 0,function(){})})});var $3=j(function(){"use strict";var Vme=D(),Wme=ce(),Kme=de(),Yme=Ei(),Xme=Co(),Jme=be(),Qme=sS();Vme({target:"Promise",stat:!0,forced:Qme},{all:i(function(e){var r=this,n=Yme.f(r),o=n.resolve,a=n.reject,u=Xme(function(){var s=Kme(r.resolve),l=[],f=0,d=1;Jme(e,function(y){var m=f++,w=!1;d++,Wme(s,r,y).then(function(_){w||(w=!0,l[m]=_,--d||o(l))},a)}),--d||o(l)});return u.error&&a(u.value),n.promise},"all")})});var G3=j(function(){"use strict";var Zme=D(),ege=tt(),tge=ds().CONSTRUCTOR,cS=Fa(),rge=ye(),nge=Pe(),ige=rt(),z3=cS&&cS.prototype;Zme({target:"Promise",proto:!0,forced:tge,real:!0},{catch:i(function(e){return this.then(void 0,e)},"_catch")});!ege&&nge(cS)&&(lS=rge("Promise").prototype.catch,z3.catch!==lS&&ige(z3,"catch",lS,{unsafe:!0}));var lS});var H3=j(function(){"use strict";var oge=D(),age=ce(),uge=de(),sge=Ei(),lge=Co(),cge=be(),fge=sS();oge({target:"Promise",stat:!0,forced:fge},{race:i(function(e){var r=this,n=sge.f(r),o=n.reject,a=lge(function(){var u=uge(r.resolve);cge(e,function(s){age(u,r,s).then(n.resolve,o)})});return a.error&&o(a.value),n.promise},"race")})});var V3=j(function(){"use strict";var pge=D(),dge=ce(),hge=Ei(),vge=ds().CONSTRUCTOR;pge({target:"Promise",stat:!0,forced:vge},{reject:i(function(e){var r=hge.f(this);return dge(r.reject,void 0,e),r.promise},"reject")})});var fS=j(function(Uut,W3){var yge=te(),mge=Te(),gge=Ei();W3.exports=function(t,e){if(yge(t),mge(e)&&e.constructor===t)return e;var r=gge.f(t),n=r.resolve;return n(e),r.promise}});var X3=j(function(){"use strict";var bge=D(),wge=ye(),K3=tt(),Oge=Fa(),Y3=ds().CONSTRUCTOR,Sge=fS(),_ge=wge("Promise"),Pge=K3&&!Y3;bge({target:"Promise",stat:!0,forced:K3||Y3},{resolve:i(function(e){return Sge(Pge&&this===_ge?Oge:this,e)},"resolve")})});var oU=j(function($ut,iU){"use strict";var rU=le(),Xge=de(),Jge=Te(),Qge=Ae(),tU=So(),Zge=Wu(),nU=Function,ebe=rU([].concat),tbe=rU([].join),hS={},rbe=i(function(e,r,n){if(!Qge(hS,r)){for(var o=[],a=0;a<r;a++)o[a]="a["+a+"]";hS[r]=nU("C,a","return new C("+tbe(o,",")+")")}return hS[r](e,n)},"construct");iU.exports=Zge?nU.bind:i(function(e){var r=Xge(this),n=r.prototype,o=tU(arguments,1),a=i(function(){var s=ebe(o,tU(arguments));return this instanceof a?rbe(r,s.length,s):r.apply(e,s)},"bound");return Jge(n)&&(a.prototype=n),a},"bind")});var mS=j(function(zut,vU){var hU=Ae();vU.exports=function(t){return t!==void 0&&(hU(t,"value")||hU(t,"writable"))}});var gs=j(function(Gut,SU){var rwe=Te(),nwe=vr(),iwe=ge(),owe=iwe("match");SU.exports=function(t){var e;return rwe(t)&&((e=t[owe])!==void 0?!!e:nwe(t)=="RegExp")}});var uv=j(function(Hut,_U){"use strict";var awe=te();_U.exports=function(){var t=awe(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}});var bs=j(function(Vut,EU){var uwe=ce(),swe=Ae(),lwe=er(),cwe=uv(),PU=RegExp.prototype;EU.exports=function(t){var e=t.flags;return e===void 0&&!("flags"in PU)&&!swe(t,"flags")&&lwe(PU,t)?uwe(cwe,t):e}});var Ec=j(function(Wut,RU){var bS=se(),fwe=he(),wS=fwe.RegExp,OS=bS(function(){var t=wS("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),pwe=OS||bS(function(){return!wS("a","y").sticky}),dwe=OS||bS(function(){var t=wS("^r","gy");return t.lastIndex=2,t.exec("str")!=null});RU.exports={BROKEN_CARET:dwe,MISSED_STICKY:pwe,UNSUPPORTED_Y:OS}});var sv=j(function(Kut,TU){var hwe=se(),vwe=he(),ywe=vwe.RegExp;TU.exports=hwe(function(){var t=ywe(".","s");return!(t.dotAll&&t.exec("\n")&&t.flags==="s")})});var SS=j(function(Yut,AU){var mwe=se(),gwe=he(),bwe=gwe.RegExp;AU.exports=mwe(function(){var t=bwe("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"})});var Ri=j(function(Xut,DU){var NU=Yd(),Gwe=He();DU.exports=function(t,e,r){return r.get&&NU(r.get,e,{getter:!0}),r.set&&NU(r.set,e,{setter:!0}),Gwe.f(t,e,r)}});var Tc=j(function(Jut,BU){"use strict";var Os=ce(),fv=le(),Jwe=Le(),Qwe=uv(),Zwe=Ec(),e0e=go(),t0e=wt(),r0e=We().get,n0e=sv(),i0e=SS(),o0e=e0e("native-string-replace",String.prototype.replace),cv=RegExp.prototype.exec,AS=cv,a0e=fv("".charAt),u0e=fv("".indexOf),s0e=fv("".replace),TS=fv("".slice),IS=function(){var t=/a/,e=/b*/g;return Os(cv,t,"a"),Os(cv,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),MU=Zwe.BROKEN_CARET,qS=/()??/.exec("")[1]!==void 0,l0e=IS||qS||MU||n0e||i0e;l0e&&(AS=i(function(e){var r=this,n=r0e(r),o=Jwe(e),a=n.raw,u,s,l,f,d,y,m;if(a)return a.lastIndex=r.lastIndex,u=Os(AS,a,o),r.lastIndex=a.lastIndex,u;var w=n.groups,_=MU&&r.sticky,T=Os(Qwe,r),R=r.source,E=0,A=o;if(_&&(T=s0e(T,"y",""),u0e(T,"g")===-1&&(T+="g"),A=TS(o,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&a0e(o,r.lastIndex-1)!=="\n")&&(R="(?: "+R+")",A=" "+A,E++),s=new RegExp("^(?:"+R+")",T)),qS&&(s=new RegExp("^"+R+"$(?!\\s)",T)),IS&&(l=r.lastIndex),f=Os(cv,_?s:r,A),_?f?(f.input=TS(f.input,E),f[0]=TS(f[0],E),f.index=r.lastIndex,r.lastIndex+=f[0].length):r.lastIndex=0:IS&&f&&(r.lastIndex=r.global?f.index+f[0].length:l),qS&&f&&f.length>1&&Os(o0e,f[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(f[d]=void 0)}),f&&w)for(f.groups=y=t0e(null),d=0;d<w.length;d++)m=w[d],y[m[0]]=f[m[1]];return f},"exec"));BU.exports=AS});var pv=j(function(){"use strict";var c0e=D(),$U=Tc();c0e({target:"RegExp",proto:!0,forced:/./.exec!==$U},{exec:$U})});var KU=j(function(){"use strict";var U0e=cc(),M0e=sO();U0e("Set",function(t){return i(function(){return t(this,arguments.length?arguments[0]:void 0)},"Set")},M0e)});var Na=j(function(rst,JU){var xS=le(),Y0e=at(),X0e=Le(),J0e=gt(),Q0e=xS("".charAt),YU=xS("".charCodeAt),Z0e=xS("".slice),XU=i(function(e){return function(r,n){var o=X0e(J0e(r)),a=Y0e(n),u=o.length,s,l;return a<0||a>=u?e?"":void 0:(s=YU(o,a),s<55296||s>56319||a+1===u||(l=YU(o,a+1))<56320||l>57343?e?Q0e(o,a):s:e?Z0e(o,a,a+2):(s-55296<<10)+(l-56320)+65536)}},"createMethod");JU.exports={codeAt:XU(!1),charAt:XU(!0)}});var dv=j(function(nst,QU){var rOe=gs(),nOe=TypeError;QU.exports=function(t){if(rOe(t))throw nOe("The method doesn't accept regular expressions");return t}});var hv=j(function(ist,ZU){var iOe=ge(),oOe=iOe("match");ZU.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[oOe]=!1,"/./"[t](e)}catch(n){}}return!1}});var CS=j(function(){"use strict";var AOe=Na().charAt,IOe=Le(),uM=We(),qOe=Eh(),sM="String Iterator",kOe=uM.set,xOe=uM.getterFor(sM);qOe(String,"String",function(t){kOe(this,{type:sM,string:IOe(t),index:0})},i(function(){var e=xOe(this),r=e.string,n=e.index,o;return n>=r.length?{value:void 0,done:!0}:(o=AOe(r,n),e.index+=o.length,{value:o,done:!1})},"next"))});var Ac=j(function(ust,dM){"use strict";pv();var lM=le(),cM=rt(),COe=Tc(),fM=se(),pM=ge(),FOe=It(),LOe=pM("species"),FS=RegExp.prototype;dM.exports=function(t,e,r,n){var o=pM(t),a=!fM(function(){var f={};return f[o]=function(){return 7},""[t](f)!=7}),u=a&&!fM(function(){var f=!1,d=/a/;return t==="split"&&(d={},d.constructor={},d.constructor[LOe]=function(){return d},d.flags="",d[o]=/./[o]),d.exec=function(){return f=!0,null},d[o](""),!f});if(!a||!u||r){var s=lM(/./[o]),l=e(o,""[t],function(f,d,y,m,w){var _=lM(f),T=d.exec;return T===COe||T===FS.exec?a&&!w?{done:!0,value:s(d,y,m)}:{done:!0,value:_(y,d,m)}:{done:!1}});cM(String.prototype,t,l[0]),cM(FS,o,l[1])}n&&FOe(FS[o],"sham",!0)}});var Ic=j(function(sst,hM){"use strict";var jOe=Na().charAt;hM.exports=function(t,e,r){return e+(r?jOe(t,e).length:1)}});var Ss=j(function(lst,yM){var vM=ce(),NOe=te(),DOe=Pe(),UOe=vr(),MOe=Tc(),BOe=TypeError;yM.exports=function(t,e){var r=t.exec;if(DOe(r)){var n=vM(r,t,e);return n!==null&&NOe(n),n}if(UOe(t)==="RegExp")return vM(MOe,t,e);throw BOe("RegExp#exec called on incompatible receiver")}});var MS=j(function(cst,qM){var IM=le(),fSe=xr(),TM=Le(),pSe=mc(),dSe=gt(),hSe=IM(pSe),vSe=IM("".slice),ySe=Math.ceil,AM=i(function(e){return function(r,n,o){var a=TM(dSe(r)),u=fSe(n),s=a.length,l=o===void 0?" ":TM(o),f,d;return u<=s||l==""?a:(f=u-s,d=hSe(l,ySe(f/l.length)),d.length>f&&(d=vSe(d,0,f)),e?a+d:d+a)}},"createMethod");qM.exports={start:AM(!1),end:AM(!0)}});var BS=j(function(fst,kM){var mSe=gi();kM.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(mSe)});var HS=j(function(pst,LM){var GS=le(),kSe=ke(),xSe=Math.floor,$S=GS("".charAt),CSe=GS("".replace),zS=GS("".slice),FSe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,LSe=/\$([$&'`]|\d{1,2})/g;LM.exports=function(t,e,r,n,o,a){var u=r+t.length,s=n.length,l=LSe;return o!==void 0&&(o=kSe(o),l=FSe),CSe(a,l,function(f,d){var y;switch($S(d,0)){case"$":return"$";case"&":return t;case"`":return zS(e,0,r);case"'":return zS(e,u);case"<":y=o[zS(d,1,-1)];break;default:var m=+d;if(m===0)return f;if(m>s){var w=xSe(m/10);return w===0?f:w<=s?n[w-1]===void 0?$S(d,1):n[w-1]+$S(d,1):f}y=n[m-1]}return y===void 0?"":y})}});var gv=j(function(dst,n5){var G_e=ya().PROPER,H_e=se(),t5=hc(),r5="\u200B\x85\u180E";n5.exports=function(t){return H_e(function(){return!!t5[t]()||r5[t]()!==r5||G_e&&t5[t].name!==t})}});var JS=j(function(hst,i5){"use strict";var Y_e=Ia().end,X_e=gv();i5.exports=X_e("trimEnd")?i(function(){return Y_e(this)},"trimEnd"):"".trimEnd});var a5=j(function(){var J_e=D(),o5=JS();J_e({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==o5},{trimRight:o5})});var QS=j(function(mst,s5){"use strict";var Z_e=Ia().start,e1e=gv();s5.exports=e1e("trimStart")?i(function(){return Z_e(this)},"trimStart"):"".trimStart});var c5=j(function(){var t1e=D(),l5=QS();t1e({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==l5},{trimLeft:l5})});var wr=j(function(wst,d5){var n1e=le(),i1e=gt(),p5=Le(),o1e=/"/g,a1e=n1e("".replace);d5.exports=function(t,e,r,n){var o=p5(i1e(t)),a="<"+e;return r!==""&&(a+=" "+r+'="'+a1e(p5(n),o1e,"&quot;")+'"'),a+">"+o+"</"+e+">"}});var Or=j(function(Ost,h5){var u1e=se();h5.exports=function(t){return u1e(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})}});var _e=j(function(Sst,_5){"use strict";var W1e=z0(),r_=Oe(),rr=he(),g5=Pe(),Ov=Te(),Do=Ae(),n_=mn(),K1e=mo(),Y1e=It(),ZS=rt(),X1e=He().f,J1e=er(),Sv=Bt(),As=zn(),Q1e=ge(),Z1e=ha(),b5=We(),w5=b5.enforce,ePe=b5.get,bv=rr.Int8Array,e_=bv&&bv.prototype,v5=rr.Uint8ClampedArray,y5=v5&&v5.prototype,Yn=bv&&Sv(bv),wn=e_&&Sv(e_),tPe=Object.prototype,i_=rr.TypeError,m5=Q1e("toStringTag"),t_=Z1e("TYPED_ARRAY_TAG"),wv="TypedArrayConstructor",Ti=W1e&&!!As&&n_(rr.opera)!=="Opera",O5=!1,Sr,No,Ts,Ai={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},o_={BigInt64Array:8,BigUint64Array:8},rPe=i(function(e){if(!Ov(e))return!1;var r=n_(e);return r==="DataView"||Do(Ai,r)||Do(o_,r)},"isView"),nPe=i(function t(e){var r=Sv(e);if(!!Ov(r)){var n=ePe(r);return n&&Do(n,wv)?n[wv]:t(r)}},"getTypedArrayConstructor"),S5=i(function(e){if(!Ov(e))return!1;var r=n_(e);return Do(Ai,r)||Do(o_,r)},"isTypedArray"),iPe=i(function(e){if(S5(e))return e;throw i_("Target is not a typed array")},"aTypedArray"),oPe=i(function(e){if(g5(e)&&(!As||J1e(Yn,e)))return e;throw i_(K1e(e)+" is not a typed array constructor")},"aTypedArrayConstructor"),aPe=i(function(e,r,n,o){if(!!r_){if(n)for(var a in Ai){var u=rr[a];if(u&&Do(u.prototype,e))try{delete u.prototype[e]}catch(s){try{u.prototype[e]=r}catch(l){}}}(!wn[e]||n)&&ZS(wn,e,n?r:Ti&&e_[e]||r,o)}},"exportTypedArrayMethod"),uPe=i(function(e,r,n){var o,a;if(!!r_){if(As){if(n){for(o in Ai)if(a=rr[o],a&&Do(a,e))try{delete a[e]}catch(u){}}if(!Yn[e]||n)try{return ZS(Yn,e,n?r:Ti&&Yn[e]||r)}catch(u){}else return}for(o in Ai)a=rr[o],a&&(!a[e]||n)&&ZS(a,e,r)}},"exportTypedArrayStaticMethod");for(Sr in Ai)No=rr[Sr],Ts=No&&No.prototype,Ts?w5(Ts)[wv]=No:Ti=!1;for(Sr in o_)No=rr[Sr],Ts=No&&No.prototype,Ts&&(w5(Ts)[wv]=No);if((!Ti||!g5(Yn)||Yn===Function.prototype)&&(Yn=i(function(){throw i_("Incorrect invocation")},"TypedArray"),Ti))for(Sr in Ai)rr[Sr]&&As(rr[Sr],Yn);if((!Ti||!wn||wn===tPe)&&(wn=Yn.prototype,Ti))for(Sr in Ai)rr[Sr]&&As(rr[Sr].prototype,wn);Ti&&Sv(y5)!==wn&&As(y5,wn);if(r_&&!Do(wn,m5)){O5=!0,X1e(wn,m5,{get:i(function(){return Ov(this)?this[t_]:void 0},"get")});for(Sr in Ai)rr[Sr]&&Y1e(rr[Sr],t_,Sr)}_5.exports={NATIVE_ARRAY_BUFFER_VIEWS:Ti,TYPED_ARRAY_TAG:O5&&t_,aTypedArray:iPe,aTypedArrayConstructor:oPe,exportTypedArrayMethod:aPe,exportTypedArrayStaticMethod:uPe,getTypedArrayConstructor:nPe,isView:rPe,isTypedArray:S5,TypedArray:Yn,TypedArrayPrototype:wn}});var _v=j(function(_st,E5){var P5=he(),a_=se(),sPe=ic(),lPe=_e().NATIVE_ARRAY_BUFFER_VIEWS,cPe=P5.ArrayBuffer,Da=P5.Int8Array;E5.exports=!lPe||!a_(function(){Da(1)})||!a_(function(){new Da(-1)})||!sPe(function(t){new Da,new Da(null),new Da(1.5),new Da(t)},!0)||a_(function(){return new Da(new cPe(2),1,void 0).length!==1})});var Is=j(function(Pst,R5){var fPe=at(),pPe=RangeError;R5.exports=function(t){var e=fPe(t);if(e<0)throw pPe("The argument can't be less than 0");return e}});var u_=j(function(Est,T5){var dPe=Is(),hPe=RangeError;T5.exports=function(t,e){var r=dPe(t);if(r%e)throw hPe("Wrong offset");return r}});var s_=j(function(Rst,A5){var vPe=Ke(),yPe=ce(),mPe=fs(),gPe=ke(),bPe=Fe(),wPe=Jr(),OPe=Hn(),SPe=vh(),_Pe=_e().aTypedArrayConstructor;A5.exports=i(function(e){var r=mPe(this),n=gPe(e),o=arguments.length,a=o>1?arguments[1]:void 0,u=a!==void 0,s=OPe(n),l,f,d,y,m,w;if(s&&!SPe(s))for(m=wPe(n,s),w=m.next,n=[];!(y=yPe(w,m)).done;)n.push(y.value);for(u&&o>2&&(a=vPe(a,arguments[2])),f=bPe(n),d=new(_Pe(r))(f),l=0;f>l;l++)d[l]=u?a(n[l],l):n[l];return d},"from")});var Xn=j(function(Tst,v_){"use strict";var I5=D(),M5=he(),q5=ce(),PPe=Oe(),EPe=_v(),qs=_e(),B5=Q0(),k5=br(),RPe=kr(),Cc=It(),TPe=Hh(),APe=xr(),x5=G0(),l_=u_(),$5=Bn(),Fc=Ae(),IPe=mn(),p_=Te(),qPe=yo(),kPe=wt(),xPe=er(),Pv=zn(),CPe=bi().f,C5=s_(),FPe=Ot().forEach,LPe=Ro(),z5=He(),G5=Mt(),y_=We(),jPe=_a(),d_=y_.get,NPe=y_.set,DPe=y_.enforce,m_=z5.f,UPe=G5.f,MPe=Math.round,c_=M5.RangeError,H5=B5.ArrayBuffer,BPe=H5.prototype,$Pe=B5.DataView,Ev=qs.NATIVE_ARRAY_BUFFER_VIEWS,F5=qs.TYPED_ARRAY_TAG,L5=qs.TypedArray,Lc=qs.TypedArrayPrototype,zPe=qs.aTypedArrayConstructor,h_=qs.isTypedArray,Rv="BYTES_PER_ELEMENT",f_="Wrong length",j5=i(function(e,r){zPe(e);for(var n=0,o=r.length,a=new e(o);o>n;)a[n]=r[n++];return a},"fromList"),Tv=i(function(e,r){m_(e,r,{get:i(function(){return d_(this)[r]},"get")})},"addGetter"),N5=i(function(e){var r;return xPe(BPe,e)||(r=IPe(e))=="ArrayBuffer"||r=="SharedArrayBuffer"},"isArrayBuffer"),V5=i(function(e,r){return h_(e)&&!qPe(r)&&r in e&&TPe(+r)&&r>=0},"isTypedArrayIndex"),D5=i(function(e,r){return r=$5(r),V5(e,r)?RPe(2,e[r]):UPe(e,r)},"getOwnPropertyDescriptor"),U5=i(function(e,r,n){return r=$5(r),V5(e,r)&&p_(n)&&Fc(n,"value")&&!Fc(n,"get")&&!Fc(n,"set")&&!n.configurable&&(!Fc(n,"writable")||n.writable)&&(!Fc(n,"enumerable")||n.enumerable)?(e[r]=n.value,e):m_(e,r,n)},"defineProperty");PPe?(Ev||(G5.f=D5,z5.f=U5,Tv(Lc,"buffer"),Tv(Lc,"byteOffset"),Tv(Lc,"byteLength"),Tv(Lc,"length")),I5({target:"Object",stat:!0,forced:!Ev},{getOwnPropertyDescriptor:D5,defineProperty:U5}),v_.exports=function(t,e,r){var n=t.match(/\d+$/)[0]/8,o=t+(r?"Clamped":"")+"Array",a="get"+t,u="set"+t,s=M5[o],l=s,f=l&&l.prototype,d={},y=i(function(R,E){var A=d_(R);return A.view[a](E*n+A.byteOffset,!0)},"getter"),m=i(function(R,E,A){var k=d_(R);r&&(A=(A=MPe(A))<0?0:A>255?255:A&255),k.view[u](E*n+k.byteOffset,A,!0)},"setter"),w=i(function(R,E){m_(R,E,{get:i(function(){return y(this,E)},"get"),set:i(function(k){return m(this,E,k)},"set"),enumerable:!0})},"addElement");Ev?EPe&&(l=e(function(T,R,E,A){return k5(T,f),jPe(function(){return p_(R)?N5(R)?A!==void 0?new s(R,l_(E,n),A):E!==void 0?new s(R,l_(E,n)):new s(R):h_(R)?j5(l,R):q5(C5,l,R):new s(x5(R))}(),T,l)}),Pv&&Pv(l,L5),FPe(CPe(s),function(T){T in l||Cc(l,T,s[T])}),l.prototype=f):(l=e(function(T,R,E,A){k5(T,f);var k=0,U=0,G,M,z;if(!p_(R))z=x5(R),M=z*n,G=new H5(M);else if(N5(R)){G=R,U=l_(E,n);var W=R.byteLength;if(A===void 0){if(W%n||(M=W-U,M<0))throw c_(f_)}else if(M=APe(A)*n,M+U>W)throw c_(f_);z=M/n}else return h_(R)?j5(l,R):q5(C5,l,R);for(NPe(T,{buffer:G,byteOffset:U,byteLength:M,length:z,view:new $Pe(G)});k<z;)w(T,k++)}),Pv&&Pv(l,L5),f=l.prototype=kPe(Lc)),f.constructor!==l&&Cc(f,"constructor",l),DPe(f).TypedArrayConstructor=l,F5&&Cc(f,F5,o);var _=l!=s;d[o]=l,I5({global:!0,constructor:!0,forced:_,sham:!Ev},d),Rv in l||Cc(l,Rv,n),Rv in f||Cc(f,Rv,n),LPe(o)}):v_.exports=function(){}});var g_=j(function(Ast,X5){var fEe=zd(),pEe=TypeError;X5.exports=function(t){var e=fEe(t,"number");if(typeof e=="number")throw pEe("Can't convert number to bigint");return BigInt(e)}});var ks=j(function(Ist,Q5){var _Ee=Fe();Q5.exports=function(t,e){for(var r=0,n=_Ee(e),o=new t(n);n>r;)o[r]=e[r++];return o}});var xs=j(function(qst,e8){var Z5=_e(),PEe=tr(),EEe=Z5.aTypedArrayConstructor,REe=Z5.getTypedArrayConstructor;e8.exports=function(t){return EEe(PEe(t,REe(t)))}});var jc=j(function(kst,t8){var TEe=ks(),AEe=xs();t8.exports=function(t,e){return TEe(AEe(t),e)}});var m8=j(function(xst,y8){"use strict";var dRe=gr(),hRe=bt(),vRe=at(),yRe=Fe(),mRe=Ta(),gRe=Math.min,__=[].lastIndexOf,v8=!!__&&1/[1].lastIndexOf(1,-0)<0,bRe=mRe("lastIndexOf"),wRe=v8||!bRe;y8.exports=wRe?i(function(e){if(v8)return dRe(__,this,arguments)||0;var r=hRe(this),n=yRe(r),o=n-1;for(arguments.length>1&&(o=gRe(o,vRe(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in r&&r[o]===e)return o||0;return-1},"lastIndexOf"):__});var P_=j(function(Cst,S8){var xRe=de(),CRe=ke(),FRe=mi(),LRe=Fe(),jRe=TypeError,O8=i(function(e){return function(r,n,o,a){xRe(n);var u=CRe(r),s=FRe(u),l=LRe(u),f=e?l-1:0,d=e?-1:1;if(o<2)for(;;){if(f in s){a=s[f],f+=d;break}if(f+=d,e?f<0:l<=f)throw jRe("Reduce of empty array with no initial value")}for(;e?f>=0:l>f;f+=d)f in s&&(a=n(a,s[f],f,u));return a}},"createMethod");S8.exports={left:O8(!1),right:O8(!0)}});var x_=j(function(Fst,X8){"use strict";var CTe=le(),H8=Vn(),xv=Io().getWeakData,FTe=te(),q_=Te(),LTe=br(),jTe=be(),W8=Ot(),V8=Ae(),K8=We(),NTe=K8.set,DTe=K8.getterFor,UTe=W8.find,MTe=W8.findIndex,BTe=CTe([].splice),$Te=0,Cv=i(function(e){return e.frozen||(e.frozen=new Y8)},"uncaughtFrozenStore"),Y8=i(function(){this.entries=[]},"UncaughtFrozenStore"),k_=i(function(e,r){return UTe(e.entries,function(n){return n[0]===r})},"findUncaughtFrozen");Y8.prototype={get:i(function(e){var r=k_(this,e);if(r)return r[1]},"get"),has:i(function(e){return!!k_(this,e)},"has"),set:i(function(e,r){var n=k_(this,e);n?n[1]=r:this.entries.push([e,r])},"set"),delete:i(function(e){var r=MTe(this.entries,function(n){return n[0]===e});return~r&&BTe(this.entries,r,1),!!~r},"_delete")};X8.exports={getConstructor:i(function(e,r,n,o){var a=e(function(f,d){LTe(f,u),NTe(f,{type:r,id:$Te++,frozen:void 0}),d!=null&&jTe(d,f[o],{that:f,AS_ENTRIES:n})}),u=a.prototype,s=DTe(r),l=i(function(d,y,m){var w=s(d),_=xv(FTe(y),!0);return _===!0?Cv(w).set(y,m):_[w.id]=m,d},"define");return H8(u,{delete:i(function(d){var y=s(this);if(!q_(d))return!1;var m=xv(d);return m===!0?Cv(y).delete(d):m&&V8(m,y.id)&&delete m[y.id]},"_delete"),has:i(function(d){var y=s(this);if(!q_(d))return!1;var m=xv(d);return m===!0?Cv(y).has(d):m&&V8(m,y.id)},"has")}),H8(u,n?{get:i(function(d){var y=s(this);if(q_(d)){var m=xv(d);return m===!0?Cv(y).get(d):m?m[y.id]:void 0}},"get"),set:i(function(d,y){return l(this,d,y)},"set")}:{add:i(function(d){return l(this,d,!0)},"add")}),a},"getConstructor")}});var eB=j(function(){"use strict";var J8=he(),Fv=le(),zTe=Vn(),GTe=Io(),HTe=cc(),Q8=x_(),Lv=Te(),jv=lc(),Nv=We().enforce,VTe=Aw(),WTe=!J8.ActiveXObject&&"ActiveXObject"in J8,Dc,Z8=i(function(e){return i(function(){return e(this,arguments.length?arguments[0]:void 0)},"WeakMap")},"wrapper"),KTe=HTe("WeakMap",Z8,Q8);VTe&&WTe&&(Dc=Q8.getConstructor(Z8,"WeakMap",!0),GTe.enable(),Ls=KTe.prototype,C_=Fv(Ls.delete),Uc=Fv(Ls.has),F_=Fv(Ls.get),L_=Fv(Ls.set),zTe(Ls,{delete:i(function(e){if(Lv(e)&&!jv(e)){var r=Nv(this);return r.frozen||(r.frozen=new Dc),C_(this,e)||r.frozen.delete(e)}return C_(this,e)},"_delete"),has:i(function(e){if(Lv(e)&&!jv(e)){var r=Nv(this);return r.frozen||(r.frozen=new Dc),Uc(this,e)||r.frozen.has(e)}return Uc(this,e)},"has"),get:i(function(e){if(Lv(e)&&!jv(e)){var r=Nv(this);return r.frozen||(r.frozen=new Dc),Uc(this,e)?F_(this,e):r.frozen.get(e)}return F_(this,e)},"get"),set:i(function(e,r){if(Lv(e)&&!jv(e)){var n=Nv(this);n.frozen||(n.frozen=new Dc),Uc(this,e)?L_(this,e,r):n.frozen.set(e,r)}else L_(this,e,r);return this},"set")}));var Ls,C_,Uc,F_,L_});var Dv=j(function(){eB()});var tB=j(function(){"use strict";var YTe=cc(),XTe=x_();YTe("WeakSet",function(t){return i(function(){return t(this,arguments.length?arguments[0]:void 0)},"WeakSet")},XTe)});var Mc=j(function(Bst,lB){var aB=he(),uB=Ml(),sB=Pe(),JTe=wt(),Uv=Bt(),QTe=rt(),ZTe=ge(),eAe=tt(),rB="USE_FUNCTION_CONSTRUCTOR",nB=ZTe("asyncIterator"),iB=aB.AsyncIterator,oB=uB.AsyncIteratorPrototype,Jn,j_;if(oB)Jn=oB;else if(sB(iB))Jn=iB.prototype;else if(uB[rB]||aB[rB])try{j_=Uv(Uv(Uv(Function("return async function*(){}()")()))),Uv(j_)===Object.prototype&&(Jn=j_)}catch(t){}Jn?eAe&&(Jn=JTe(Jn)):Jn={};sB(Jn[nB])||QTe(Jn,nB,function(){return this});lB.exports=Jn});var Bc=j(function($st,yB){"use strict";var cB=ce(),N_=te(),tAe=wt(),rAe=At(),nAe=Vn(),dB=We(),iAe=ye(),oAe=Mc(),D_=iAe("Promise"),hB="AsyncFromSyncIterator",aAe=dB.set,fB=dB.getterFor(hB),pB=i(function(e,r,n){var o=e.done;D_.resolve(e.value).then(function(a){r({done:o,value:a})},n)},"asyncFromSyncIteratorContinuation"),vB=i(function(e){aAe(this,{type:hB,iterator:N_(e),next:e.next})},"AsyncIterator");vB.prototype=nAe(tAe(oAe),{next:i(function(){var e=fB(this);return new D_(function(r,n){var o=N_(cB(e.next,e.iterator));pB(o,r,n)})},"next"),return:i(function(){var e=fB(this).iterator;return new D_(function(r,n){var o=rAe(e,"return");if(o===void 0)return r({done:!0,value:void 0});var a=N_(cB(o,e));pB(a,r,n)})},"_return")});yB.exports=vB});var Mv=j(function(zst,mB){var uAe=ce(),sAe=Bc(),lAe=te(),cAe=Jr(),fAe=At(),pAe=ge(),dAe=pAe("asyncIterator");mB.exports=function(t,e){var r=arguments.length<2?fAe(t,dAe):e;return r?lAe(uAe(r,t)):new sAe(cAe(t))}});var U_=j(function(Gst,gB){var hAe=he();gB.exports=function(t){return hAe[t].prototype}});var it=j(function(Hst,bB){var vAe=de(),yAe=te();bB.exports=function(t){return{iterator:t,next:vAe(yAe(t).next)}}});var js=j(function(Vst,wB){var mAe=ce(),gAe=ye(),bAe=At();wB.exports=function(t,e,r,n){try{var o=bAe(t,"return");if(o)return gAe("Promise").resolve(mAe(o,t)).then(function(){e(r)},function(a){n(a)})}catch(a){return n(a)}e(r)}});var Ua=j(function(Wst,SB){"use strict";var wAe=ce(),OAe=de(),OB=te(),SAe=Ra(),_Ae=ye(),PAe=it(),M_=js(),$c=i(function(e){var r=e==0,n=e==1,o=e==2,a=e==3;return function(u,s,l){var f=PAe(u),d=_Ae("Promise"),y=f.iterator,m=f.next,w=0,_=s!==void 0;return(_||!r)&&OAe(s),new d(function(T,R){var E=i(function(U){M_(y,R,U,R)},"ifAbruptCloseAsyncIterator"),A=i(function k(){try{if(r&&_)try{SAe(w)}catch(U){E(U)}d.resolve(OB(wAe(m,y))).then(function(U){try{if(OB(U).done)r?(l.length=w,T(l)):T(a?!1:o||void 0);else{var G=U.value;try{_?d.resolve(r?s(G,w):s(G)).then(function(M){if(n)k();else if(o)M?k():M_(y,T,!1,R);else if(r)try{l[w++]=M,k()}catch(z){E(z)}else M?M_(y,T,a||G,R):k()},E):(l[w++]=G,k())}catch(M){E(M)}}}catch(M){R(M)}},R)}catch(U){R(U)}},"loop");A()})}},"createMethod");SB.exports={toArray:$c(0),forEach:$c(1),every:$c(2),some:$c(3),find:$c(4)}});var B_=j(function(Kst,_B){"use strict";var EAe=Ke(),RAe=ke(),TAe=gn(),AAe=Mv(),IAe=Jr(),qAe=Hn(),kAe=At(),xAe=U_(),CAe=ye(),FAe=ge(),LAe=Bc(),jAe=Ua().toArray,NAe=FAe("asyncIterator"),DAe=xAe("Array").values;_B.exports=i(function(e){var r=this,n=arguments.length,o=n>1?arguments[1]:void 0,a=n>2?arguments[2]:void 0;return new(CAe("Promise"))(function(u){var s=RAe(e);o!==void 0&&(o=EAe(o,a));var l=kAe(s,NAe),f=l?void 0:qAe(s)||DAe,d=TAe(r)?new r:[],y=l?AAe(s,l):new LAe(IAe(s,f));u(jAe(y,o,d))})},"fromAsync")});var Bv=j(function(Yst,PB){var WAe=Ke(),KAe=le(),YAe=mi(),XAe=ke(),JAe=Bn(),QAe=Fe(),ZAe=wt(),eIe=ks(),tIe=Array,rIe=KAe([].push);PB.exports=function(t,e,r,n){for(var o=XAe(t),a=YAe(o),u=WAe(e,r),s=ZAe(null),l=QAe(a),f=0,d,y,m;l>f;f++)m=a[f],y=JAe(u(m,f,o)),y in s?rIe(s[y],m):s[y]=[m];if(n&&(d=n(o),d!==tIe))for(y in s)s[y]=eIe(d,s[y]);return s}});var z_=j(function(Xst,RB){"use strict";var cIe=ye(),fIe=Ke(),$v=le(),pIe=mi(),dIe=ke(),hIe=Fe(),EB=cIe("Map"),$_=EB.prototype,vIe=$v($_.get),yIe=$v($_.has),mIe=$v($_.set),gIe=$v([].push);RB.exports=i(function(e){for(var r=dIe(this),n=pIe(r),o=fIe(e,arguments.length>1?arguments[1]:void 0),a=new EB,u=hIe(n),s=0,l,f;u>s;s++)f=n[s],l=o(f,s,r),yIe(a,l)?gIe(vIe(a,l),f):mIe(a,l,[f]);return a},"groupToMap")});var G_=j(function(Jst,kB){var jIe=Fe();kB.exports=function(t,e){for(var r=jIe(t),n=new e(r),o=0;o<r;o++)n[o]=t[r-o-1];return n}});var Gv=j(function(Qst,CB){"use strict";var uqe=ye(),zv=le(),sqe=de(),lqe=Fe(),cqe=ke(),fqe=wa(),xB=uqe("Map"),H_=xB.prototype,pqe=zv(H_.forEach),dqe=zv(H_.has),hqe=zv(H_.set),vqe=zv([].push);CB.exports=i(function(e){var r=cqe(this),n=lqe(r),o=fqe(r,0),a=new xB,u=e!=null?sqe(e):function(d){return d},s,l,f;for(s=0;s<n;s++)l=r[s],f=u(l),dqe(a,f)||hqe(a,f,l);return pqe(a,function(d){vqe(o,d)}),o},"uniqueBy")});var V_=j(function(Zst,FB){var bqe=Fe(),wqe=at(),Oqe=RangeError;FB.exports=function(t,e,r,n){var o=bqe(t),a=wqe(r),u=a<0?o+a:a;if(u>=o||u<0)throw Oqe("Incorrect index");for(var s=new e(o),l=0;l<o;l++)s[l]=l===u?n:t[l];return s}});var Uo=j(function(elt,VB){"use strict";var Iqe=ce(),UB=Co(),MB=te(),qqe=wt(),kqe=It(),xqe=Vn(),Cqe=ge(),$B=We(),Fqe=ye(),Lqe=At(),jqe=Mc(),BB=Ea(),Ba=Fqe("Promise"),zB="AsyncIteratorHelper",GB="WrapForValidAsyncIterator",Nqe=$B.set,Dqe=Cqe("toStringTag"),HB=i(function(e){var r=!e,n=e?GB:zB,o=$B.getterFor(n),a=i(function(f){var d=UB(function(){return o(f)}),y=d.error,m=d.value;return y||r&&m.done?{exit:!0,value:y?Ba.reject(m):Ba.resolve({done:!0,value:void 0})}:{exit:!1,value:m}},"getStateOrEarlyExit"),u=i(function(f,d){var y=i(function(){var w=d();if(r){f.awaiting=w;var _=i(function(){f.awaiting===w&&(f.awaiting=null)},"clean");w.then(_,_)}return w},"task");return f.awaiting?f.awaiting=f.awaiting.then(y,y):y()},"enqueue"),s=xqe(qqe(jqe),{next:i(function(){var f=a(this),d=f.exit,y=f.value;return d?y:u(y,function(){var m=UB(function(){return MB(y.nextHandler(Ba))}),w=m.error,_=m.value;return w&&(y.done=!0),w?Ba.reject(_):Ba.resolve(_)})},"next"),return:i(function(){var f=a(this),d=f.exit,y=f.value;return d?y:u(y,function(){return new Ba(function(m,w){var _=y.iterator,T=y.innerIterator;if(y.done=!0,T)try{BB(T,"return")}catch(E){return BB(_,"throw",E)}var R=Lqe(_,"return");if(R===void 0)return m({done:!0,value:void 0});Ba.resolve(Iqe(R,_)).then(function(E){MB(E),m({done:!0,value:void 0})},w)})})},"_return")});return r&&kqe(s,Dqe,"Async Iterator Helper"),s},"createAsyncIteratorProxyPrototype"),Uqe=HB(!1),Mqe=HB(!0);VB.exports=function(t,e){var r=e?GB:zB,n=i(function(a,u){u?(u.iterator=a.iterator,u.next=a.next):u=a,u.type=r,u.nextHandler=t,u.done=!1,u.awaiting=null,Nqe(this,u)},"AsyncIterator");return n.prototype=e?Mqe:Uqe,n}});var K_=j(function(tlt,KB){"use strict";var Bqe=ce(),WB=te(),$qe=it(),zqe=Uo(),Gqe=zqe(function(t){var e=this,r=e.iterator;return t.resolve(WB(Bqe(e.next,r))).then(function(n){return WB(n).done?(e.done=!0,{done:!0,value:void 0}):{done:!1,value:[e.index++,n.value]}}).then(null,function(n){throw e.done=!0,n})});KB.exports=i(function(){return new Gqe($qe(this),{index:0})},"indexed")});var zc=j(function(rlt,YB){var Wqe=RangeError;YB.exports=function(t){if(t===t)return t;throw Wqe("NaN is not allowed")}});var Y_=j(function(nlt,e4){var wke=ce(),Oke=Uo();e4.exports=Oke(function(){return wke(this.next,this.iterator)},!0)});var Z_=j(function(ilt,s4){"use strict";function Ns(t){return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}i(Ns,"_typeof");var o4=We(),s2e=Po(),l2e=Te(),c2e=th().f,a4=Oe(),Gc="Incorrect Number.range arguments",Q_="NumericRangeIterator",f2e=o4.set,Hc=o4.getterFor(Q_),i4=RangeError,J_=TypeError,u4=s2e(i(function(e,r,n,o,a,u){if(Ns(e)!=o||r!==1/0&&r!==-1/0&&Ns(r)!=o)throw new J_(Gc);if(e===1/0||e===-1/0)throw new i4(Gc);var s=r>e,l=!1,f;if(n===void 0)f=void 0;else if(l2e(n))f=n.step,l=!!n.inclusive;else if(Ns(n)==o)f=n;else throw new J_(Gc);if(f==null&&(f=s?u:-u),Ns(f)!=o)throw new J_(Gc);if(f===1/0||f===-1/0||f===a&&e!==r)throw new i4(Gc);var d=e!=e||r!=r||f!=f||r>e!=f>a;f2e(this,{type:Q_,start:e,end:r,step:f,inclusiveEnd:l,hitsEnd:d,currentCount:a,zero:a}),a4||(this.start=e,this.end=r,this.step=f,this.inclusive=l)},"NumericRangeIterator"),Q_,i(function(){var e=Hc(this);if(e.hitsEnd)return{value:void 0,done:!0};var r=e.start,n=e.end,o=e.step,a=r+o*e.currentCount++;a===n&&(e.hitsEnd=!0);var u=e.inclusiveEnd,s;return n>r?s=u?a>n:a>=n:s=u?n>a:n>=a,s?{value:void 0,done:e.hitsEnd=!0}:{value:a,done:!1}},"next")),Vv=i(function(e){return{get:e,set:i(function(){},"set"),configurable:!0,enumerable:!1}},"getter");a4&&c2e(u4.prototype,{start:Vv(function(){return Hc(this).start}),end:Vv(function(){return Hc(this).end}),inclusive:Vv(function(){return Hc(this).inclusiveEnd}),step:Vv(function(){return Hc(this).step})});s4.exports=u4});var e1=j(function(olt,p4){Nh();Dv();var f4=ye(),h2e=wt(),l4=Te(),v2e=Object,y2e=TypeError,m2e=f4("Map"),g2e=f4("WeakMap"),Wv=i(function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=h2e(null)},"Node");Wv.prototype.get=function(t,e){return this[t]||(this[t]=e())};Wv.prototype.next=function(t,e,r){var n=r?this.objectsByIndex[t]||(this.objectsByIndex[t]=new g2e):this.primitives||(this.primitives=new m2e),o=n.get(e);return o||n.set(e,o=new Wv),o};var c4=new Wv;p4.exports=function(){var t=c4,e=arguments.length,r,n;for(r=0;r<e;r++)l4(n=arguments[r])&&(t=t.next(r,n,!0));if(this===v2e&&t===c4)throw y2e("Composite keys must contain a non-primitive component");for(r=0;r<e;r++)l4(n=arguments[r])||(t=t.next(r,n,!1));return t}});var Bo=j(function(alt,E4){"use strict";var Y2e=ce(),X2e=te(),J2e=wt(),Q2e=It(),Z2e=Vn(),exe=ge(),O4=We(),txe=At(),rxe=is().IteratorPrototype,w4=Ea(),S4="IteratorHelper",_4="WrapForValidIterator",nxe=O4.set,ixe=exe("toStringTag"),P4=i(function(e){var r=e?_4:S4,n=O4.getterFor(r),o=Z2e(J2e(rxe),{next:i(function(){var u=n(this);if(e)return u.nextHandler();try{var s=u.done?void 0:u.nextHandler();return{done:u.done,value:s}}catch(l){throw u.done=!0,l}},"next"),return:i(function(){var u=n(this),s=u.iterator,l=u.innerIterator;if(u.done=!0,l)try{w4(l,"return")}catch(d){return w4(s,"throw",d)}var f=txe(s,"return");return{done:!0,value:f?X2e(Y2e(f,s)).value:void 0}},"_return")});return e||Q2e(o,ixe,"Iterator Helper"),o},"createIteratorProxyPrototype"),oxe=P4(!1),axe=P4(!0);E4.exports=function(t,e){var r=e?_4:S4,n=i(function(a,u){u?(u.iterator=a.iterator,u.next=a.next):u=a,u.type=r,u.nextHandler=t,u.done=!1,nxe(this,u)},"Iterator");return n.prototype=e?axe:oxe,n}});var n1=j(function(ult,R4){"use strict";var uxe=ce(),sxe=te(),lxe=it(),cxe=Bo(),fxe=cxe(function(){var t=sxe(uxe(this.next,this.iterator)),e=this.done=!!t.done;if(!e)return[this.index++,t.value]});R4.exports=i(function(){return new fxe(lxe(this),{index:0})},"indexed")});var Vc=j(function(slt,k4){"use strict";var NCe=ce(),DCe=de(),UCe=te();k4.exports=i(function(){for(var e=UCe(this),r=DCe(e.delete),n=!0,o,a=0,u=arguments.length;a<u;a++)o=NCe(r,e,arguments[a]),n=n&&o;return!!n},"deleteAll")});var u1=j(function(llt,x4){"use strict";var Kv=ce(),a1=de(),$Ce=te();x4.exports=i(function(e,r){var n=$Ce(this),o=a1(n.get),a=a1(n.has),u=a1(n.set),s,l;return Kv(a,n,e)?(s=Kv(o,n,e),"update"in r&&(s=r.update(s,e,n),Kv(u,n,e,s)),s):(l=r.insert(e,n),Kv(u,n,e,l),l)},"emplace")});var On=j(function(clt,C4){var HCe=ce();C4.exports=function(t){return HCe(Map.prototype.entries,t)}});var Wc=j(function(flt,j4){"use strict";var yFe=Ke(),mFe=ce(),gFe=de(),bFe=fs(),F4=be(),L4=[].push;j4.exports=i(function(e){var r=arguments.length,n=r>1?arguments[1]:void 0,o,a,u,s;return bFe(this),o=n!==void 0,o&&gFe(n),e==null?new this:(a=[],o?(u=0,s=yFe(n,r>2?arguments[2]:void 0),F4(e,function(l){mFe(L4,a,s(l,u++))})):F4(e,L4,{that:a}),new this(a))},"from")});var D4=j(function(plt,N4){N4.exports=function(t,e){return t===e||t!=t&&e!=e}});var Kc=j(function(dlt,M4){"use strict";var uLe=So();M4.exports=i(function(){return new this(uLe(arguments))},"of")});var Qv=j(function(hlt,B4){"use strict";var Xv=ce(),c1=de(),Jv=Pe(),PLe=te(),ELe=TypeError;B4.exports=i(function(e,r){var n=PLe(this),o=c1(n.get),a=c1(n.has),u=c1(n.set),s=arguments.length>2?arguments[2]:void 0,l;if(!Jv(r)&&!Jv(s))throw ELe("At least one callback required");return Xv(a,n,e)?(l=Xv(o,n,e),Jv(r)&&(l=r(l),Xv(u,n,e,l))):Jv(s)&&(l=s(),Xv(u,n,e,l)),l},"upsert")});var f1=j(function(vlt,$4){$4.exports=Math.scale||i(function(e,r,n,o,a){var u=+e,s=+r,l=+n,f=+o,d=+a;return u!=u||s!=s||l!=l||f!=f||d!=d?NaN:u===1/0||u===-1/0?u:(u-s)*(d-f)/(l-s)+f},"scale")});var ty=j(function(ylt,Y4){"use strict";var W4=We(),yje=Po(),mje=Ae(),gje=ga(),bje=ke(),K4="Object Iterator",wje=W4.set,Oje=W4.getterFor(K4);Y4.exports=yje(i(function(e,r){var n=bje(e);wje(this,{type:K4,mode:r,object:n,keys:gje(n),index:0})},"ObjectIterator"),"Object",i(function(){for(var e=Oje(this),r=e.keys;;){if(r===null||e.index>=r.length)return e.object=e.keys=null,{value:void 0,done:!0};var n=r[e.index++],o=e.object;if(!!mje(o,n)){switch(e.mode){case"keys":return{value:n,done:!1};case"values":return{value:o[n],done:!1}}return{value:[n,o[n]],done:!1}}}},"next"))});var ry=j(function(mlt,J4){var Aje=he(),Xc=Pe(),Ije=ge(),qje=Ije("observable"),Jc=Aje.Observable,X4=Jc&&Jc.prototype;J4.exports=!Xc(Jc)||!Xc(Jc.from)||!Xc(Jc.of)||!Xc(X4.subscribe)||!Xc(X4[qje])});var u6=j(function(){"use strict";var kje=D(),ny=ce(),Qc=Oe(),xje=Ro(),Q4=de(),Z4=Pe(),Cje=te(),Fje=Te(),Lje=br(),iy=At(),jje=rt(),d1=Vn(),e6=Ri(),Ds=JO(),Nje=ge(),t6=We(),Dje=ry(),Uje=Nje("observable"),h1="Observable",r6="Subscription",n6="SubscriptionObserver",v1=t6.getterFor,y1=t6.set,Mje=v1(h1),i6=v1(r6),oy=v1(n6),o6=i(function(e){this.observer=Cje(e),this.cleanup=void 0,this.subscriptionObserver=void 0},"SubscriptionState");o6.prototype={type:r6,clean:i(function(){var e=this.cleanup;if(e){this.cleanup=void 0;try{e()}catch(r){Ds(r)}}},"clean"),close:i(function(){if(!Qc){var e=this.facade,r=this.subscriptionObserver;e.closed=!0,r&&(r.closed=!0)}this.observer=void 0},"close"),isClosed:i(function(){return this.observer===void 0},"isClosed")};var m1=i(function(e,r){var n=y1(this,new o6(e)),o;Qc||(this.closed=!1);try{(o=iy(e,"start"))&&ny(o,e,this)}catch(l){Ds(l)}if(!n.isClosed()){var a=n.subscriptionObserver=new g1(n);try{var u=r(a),s=u;u!=null&&(n.cleanup=Z4(u.unsubscribe)?function(){s.unsubscribe()}:Q4(u))}catch(l){a.error(l);return}n.isClosed()&&n.clean()}},"Subscription");m1.prototype=d1({},{unsubscribe:i(function(){var e=i6(this);e.isClosed()||(e.close(),e.clean())},"unsubscribe")});Qc&&e6(m1.prototype,"closed",{configurable:!0,get:i(function(){return i6(this).isClosed()},"closed")});var g1=i(function(e){y1(this,{type:n6,subscriptionState:e}),Qc||(this.closed=!1)},"SubscriptionObserver");g1.prototype=d1({},{next:i(function(e){var r=oy(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var o=iy(n,"next");o&&ny(o,n,e)}catch(a){Ds(a)}}},"next"),error:i(function(e){var r=oy(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var o=iy(n,"error");o?ny(o,n,e):Ds(e)}catch(a){Ds(a)}r.clean()}},"error"),complete:i(function(){var e=oy(this).subscriptionState;if(!e.isClosed()){var r=e.observer;e.close();try{var n=iy(r,"complete");n&&ny(n,r)}catch(o){Ds(o)}e.clean()}},"complete")});Qc&&e6(g1.prototype,"closed",{configurable:!0,get:i(function(){return oy(this).subscriptionState.isClosed()},"closed")});var a6=i(function(e){Lje(this,b1),y1(this,{type:h1,subscriber:Q4(e)})},"Observable"),b1=a6.prototype;d1(b1,{subscribe:i(function(e){var r=arguments.length;return new m1(Z4(e)?{next:e,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:Fje(e)?e:{},Mje(this).subscriber)},"subscribe")});jje(b1,Uje,function(){return this});kje({global:!0,constructor:!0,forced:Dje},{Observable:a6});xje(h1)});var l6=j(function(){"use strict";var Bje=D(),$je=ye(),zje=ce(),s6=te(),Gje=gn(),Hje=Jr(),Vje=At(),Wje=be(),Kje=ge(),Yje=ry(),Xje=Kje("observable");Bje({target:"Observable",stat:!0,forced:Yje},{from:i(function(e){var r=Gje(this)?this:$je("Observable"),n=Vje(s6(e),Xje);if(n){var o=s6(zje(n,e));return o.constructor===r?o:new r(function(u){return o.subscribe(u)})}var a=Hje(e);return new r(function(u){Wje(a,function(s,l){if(u.next(s),u.closed)return l()},{IS_ITERATOR:!0,INTERRUPTED:!0}),u.complete()})},"from")})});var f6=j(function(){"use strict";var Jje=D(),c6=ye(),Qje=gn(),Zje=ry(),eNe=c6("Array");Jje({target:"Observable",stat:!0,forced:Zje},{of:i(function(){for(var e=Qje(this)?this:c6("Observable"),r=arguments.length,n=eNe(r),o=0;o<r;)n[o]=arguments[o++];return new e(function(a){for(var u=0;u<r;u++)if(a.next(n[u]),a.closed)return;a.complete()})},"of")})});var Qn=j(function(Plt,v6){function w1(t){return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w1(t)}i(w1,"_typeof");Nh();Dv();var h6=ye(),iNe=le(),oNe=go(),p6=h6("Map"),aNe=h6("WeakMap"),uNe=iNe([].push),d6=oNe("metadata"),O1=d6.store||(d6.store=new aNe),Zc=i(function(e,r,n){var o=O1.get(e);if(!o){if(!n)return;O1.set(e,o=new p6)}var a=o.get(r);if(!a){if(!n)return;o.set(r,a=new p6)}return a},"getOrCreateMetadataMap"),sNe=i(function(e,r,n){var o=Zc(r,n,!1);return o===void 0?!1:o.has(e)},"ordinaryHasOwnMetadata"),lNe=i(function(e,r,n){var o=Zc(r,n,!1);return o===void 0?void 0:o.get(e)},"ordinaryGetOwnMetadata"),cNe=i(function(e,r,n,o){Zc(n,o,!0).set(e,r)},"ordinaryDefineOwnMetadata"),fNe=i(function(e,r){var n=Zc(e,r,!1),o=[];return n&&n.forEach(function(a,u){uNe(o,u)}),o},"ordinaryOwnMetadataKeys"),pNe=i(function(e){return e===void 0||w1(e)=="symbol"?e:String(e)},"toMetadataKey");v6.exports={store:O1,getMap:Zc,has:sNe,get:lNe,set:cNe,keys:fNe,toKey:pNe}});var P1=j(function(Elt,E6){"use strict";var oDe=ce(),aDe=de(),uDe=te();E6.exports=i(function(){for(var e=uDe(this),r=aDe(e.add),n=0,o=arguments.length;n<o;n++)oDe(r,e,arguments[n]);return e},"addAll")});var $o=j(function(Rlt,R6){var bDe=ce();R6.exports=function(t){return bDe(Set.prototype.values,t)}});var G6=j(function(Tlt,z6){var vMe=mn(),yMe=le(),mMe=yMe("".slice);z6.exports=function(t){return mMe(vMe(t),0,3)==="Big"}});var A1=j(function(Alt,W6){var H6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",V6={};for(ef=0;ef<66;ef++)V6[H6.charAt(ef)]=ef;var ef;W6.exports={itoc:H6,ctoi:V6}});var F1=j(function(Ilt,u7){u7.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var j1=j(function(qlt,l7){var n5e=Bl(),L1=n5e("span").classList,s7=L1&&L1.constructor&&L1.constructor.prototype;l7.exports=s7===Object.prototype?void 0:s7});var f7=j(function(klt,c7){"use strict";var i5e=Ot().forEach,o5e=Ta(),a5e=o5e("forEach");c7.exports=a5e?[].forEach:i(function(e){return i5e(this,e,arguments.length>1?arguments[1]:void 0)},"forEach")});var O7=j(function(xlt,w7){var c5e=ko();w7.exports=function(t){try{if(c5e)return Function('return require("'+t+'")')()}catch(e){}}});var P7=j(function(Clt,_7){"use strict";var f5e=Oe(),p5e=se(),d5e=te(),h5e=wt(),S7=ts(),ly=Error.prototype.toString,v5e=p5e(function(){if(f5e){var t=h5e(Object.defineProperty({},"name",{get:i(function(){return this===t},"get")}));if(ly.call(t)!=="true")return!0}return ly.call({message:1,name:2})!=="2: 1"||ly.call({})!=="Error"});_7.exports=v5e?i(function(){var e=d5e(this),r=S7(e.name,"Error"),n=S7(e.message);return r?n?r+": "+n:r:n},"toString"):ly});var B1=j(function(Flt,E7){E7.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var yP=j(function(Llt,Z7){var A8e=se(),I8e=ge(),q8e=tt(),k8e=I8e("iterator");Z7.exports=!A8e(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach(function(n,o){e.delete("b"),r+=o+n}),q8e&&!t.toJSON||!e.sort||t.href!=="http://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[k8e]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"})});var s9=j(function(jlt,u9){"use strict";var Ga=le(),mP=2147483647,hf=36,i9=1,wP=26,x8e=38,C8e=700,F8e=72,L8e=128,j8e="-",N8e=/[^\0-\u007E]/,o9=/[.\u3002\uFF0E\uFF61]/g,e9="Overflow: input needs wider integers to process",gP=hf-i9,t9=RangeError,D8e=Ga(o9.exec),$s=Math.floor,bP=String.fromCharCode,r9=Ga("".charCodeAt),a9=Ga([].join),Ho=Ga([].push),U8e=Ga("".replace),M8e=Ga("".split),B8e=Ga("".toLowerCase),$8e=i(function(e){for(var r=[],n=0,o=e.length;n<o;){var a=r9(e,n++);if(a>=55296&&a<=56319&&n<o){var u=r9(e,n++);(u&64512)==56320?Ho(r,((a&1023)<<10)+(u&1023)+65536):(Ho(r,a),n--)}else Ho(r,a)}return r},"ucs2decode"),n9=i(function(e){return e+22+75*(e<26)},"digitToBasic"),z8e=i(function(e,r,n){var o=0;for(e=n?$s(e/C8e):e>>1,e+=$s(e/r);e>gP*wP>>1;)e=$s(e/gP),o+=hf;return $s(o+(gP+1)*e/(e+x8e))},"adapt"),G8e=i(function(e){var r=[];e=$8e(e);var n=e.length,o=L8e,a=0,u=F8e,s,l;for(s=0;s<e.length;s++)l=e[s],l<128&&Ho(r,bP(l));var f=r.length,d=f;for(f&&Ho(r,j8e);d<n;){var y=mP;for(s=0;s<e.length;s++)l=e[s],l>=o&&l<y&&(y=l);var m=d+1;if(y-o>$s((mP-a)/m))throw t9(e9);for(a+=(y-o)*m,o=y,s=0;s<e.length;s++){if(l=e[s],l<o&&++a>mP)throw t9(e9);if(l==o){for(var w=a,_=hf;;){var T=_<=u?i9:_>=u+wP?wP:_-u;if(w<T)break;var R=w-T,E=hf-T;Ho(r,bP(n9(T+R%E))),w=$s(R/E),_+=hf}Ho(r,bP(n9(w))),u=z8e(a,m,d==f),a=0,d++}}a++,o++}return a9(r,"")},"encode");u9.exports=function(t){var e=[],r=M8e(U8e(B8e(t),o9,"."),"."),n,o;for(n=0;n<r.length;n++)o=r[n],Ho(e,D8e(N8e,o)?"xn--"+G8e(o):o);return a9(e,".")}});var qP=j(function(Nlt,A9){"use strict";uc();var EP=D(),Gs=he(),wy=ce(),Zn=le(),H8e=Oe(),w9=yP(),O9=rt(),V8e=Vn(),W8e=yr(),K8e=Po(),AP=We(),S9=br(),OP=Pe(),Y8e=Ae(),X8e=Ke(),J8e=mn(),Q8e=te(),_9=Te(),Lr=Le(),Z8e=wt(),l9=kr(),RP=Jr(),eBe=Hn(),zs=xo(),tBe=ge(),rBe=Rh(),nBe=tBe("iterator"),mf="URLSearchParams",P9=mf+"Iterator",E9=AP.set,Sn=AP.getterFor(mf),iBe=AP.getterFor(P9),oBe=Object.getOwnPropertyDescriptor,IP=i(function(e){if(!H8e)return Gs[e];var r=oBe(Gs,e);return r&&r.value},"safeGetBuiltIn"),c9=IP("fetch"),Sy=IP("Request"),vf=IP("Headers"),SP=Sy&&Sy.prototype,f9=vf&&vf.prototype,aBe=Gs.RegExp,uBe=Gs.TypeError,R9=Gs.decodeURIComponent,sBe=Gs.encodeURIComponent,lBe=Zn("".charAt),p9=Zn([].join),Ha=Zn([].push),TP=Zn("".replace),cBe=Zn([].shift),d9=Zn([].splice),h9=Zn("".split),fBe=Zn("".slice),pBe=/\+/g,v9=Array(4),dBe=i(function(e){return v9[e-1]||(v9[e-1]=aBe("((?:%[\\da-f]{2}){"+e+"})","gi"))},"percentSequence"),hBe=i(function(e){try{return R9(e)}catch(r){return e}},"percentDecode"),y9=i(function(e){var r=TP(e,pBe," "),n=4;try{return R9(r)}catch(o){for(;n;)r=TP(r,dBe(n--),hBe);return r}},"deserialize"),vBe=/[!'()~]|%20/g,yBe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},mBe=i(function(e){return yBe[e]},"replacer"),m9=i(function(e){return TP(sBe(e),vBe,mBe)},"serialize"),_P=K8e(i(function(e,r){E9(this,{type:P9,iterator:RP(Sn(e).entries),kind:r})},"Iterator"),"Iterator",i(function(){var e=iBe(this),r=e.kind,n=e.iterator.next(),o=n.value;return n.done||(n.value=r==="keys"?o.key:r==="values"?o.value:[o.key,o.value]),n},"next"),!0),T9=i(function(e){this.entries=[],this.url=null,e!==void 0&&(_9(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?lBe(e,0)==="?"?fBe(e,1):e:Lr(e)))},"URLSearchParamsState");T9.prototype={type:mf,bindURL:i(function(e){this.url=e,this.update()},"bindURL"),parseObject:i(function(e){var r=eBe(e),n,o,a,u,s,l,f;if(r)for(n=RP(e,r),o=n.next;!(a=wy(o,n)).done;){if(u=RP(Q8e(a.value)),s=u.next,(l=wy(s,u)).done||(f=wy(s,u)).done||!wy(s,u).done)throw uBe("Expected sequence with length 2");Ha(this.entries,{key:Lr(l.value),value:Lr(f.value)})}else for(var d in e)Y8e(e,d)&&Ha(this.entries,{key:d,value:Lr(e[d])})},"parseObject"),parseQuery:i(function(e){if(e)for(var r=h9(e,"&"),n=0,o,a;n<r.length;)o=r[n++],o.length&&(a=h9(o,"="),Ha(this.entries,{key:y9(cBe(a)),value:y9(p9(a,"="))}))},"parseQuery"),serialize:i(function(){for(var e=this.entries,r=[],n=0,o;n<e.length;)o=e[n++],Ha(r,m9(o.key)+"="+m9(o.value));return p9(r,"&")},"serialize"),update:i(function(){this.entries.length=0,this.parseQuery(this.url.query)},"update"),updateURL:i(function(){this.url&&this.url.update()},"updateURL")};var _y=i(function(){S9(this,yf);var e=arguments.length>0?arguments[0]:void 0;E9(this,new T9(e))},"URLSearchParams"),yf=_y.prototype;V8e(yf,{append:i(function(e,r){zs(arguments.length,2);var n=Sn(this);Ha(n.entries,{key:Lr(e),value:Lr(r)}),n.updateURL()},"append"),delete:i(function(e){zs(arguments.length,1);for(var r=Sn(this),n=r.entries,o=Lr(e),a=0;a<n.length;)n[a].key===o?d9(n,a,1):a++;r.updateURL()},"_delete"),get:i(function(e){zs(arguments.length,1);for(var r=Sn(this).entries,n=Lr(e),o=0;o<r.length;o++)if(r[o].key===n)return r[o].value;return null},"get"),getAll:i(function(e){zs(arguments.length,1);for(var r=Sn(this).entries,n=Lr(e),o=[],a=0;a<r.length;a++)r[a].key===n&&Ha(o,r[a].value);return o},"getAll"),has:i(function(e){zs(arguments.length,1);for(var r=Sn(this).entries,n=Lr(e),o=0;o<r.length;)if(r[o++].key===n)return!0;return!1},"has"),set:i(function(e,r){zs(arguments.length,1);for(var n=Sn(this),o=n.entries,a=!1,u=Lr(e),s=Lr(r),l=0,f;l<o.length;l++)f=o[l],f.key===u&&(a?d9(o,l--,1):(a=!0,f.value=s));a||Ha(o,{key:u,value:s}),n.updateURL()},"set"),sort:i(function(){var e=Sn(this);rBe(e.entries,function(r,n){return r.key>n.key?1:-1}),e.updateURL()},"sort"),forEach:i(function(e){for(var r=Sn(this).entries,n=X8e(e,arguments.length>1?arguments[1]:void 0),o=0,a;o<r.length;)a=r[o++],n(a.value,a.key,this)},"forEach"),keys:i(function(){return new _P(this,"keys")},"keys"),values:i(function(){return new _P(this,"values")},"values"),entries:i(function(){return new _P(this,"entries")},"entries")},{enumerable:!0});O9(yf,nBe,yf.entries,{name:"entries"});O9(yf,"toString",i(function(){return Sn(this).serialize()},"toString"),{enumerable:!0});W8e(_y,mf);EP({global:!0,constructor:!0,forced:!w9},{URLSearchParams:_y});!w9&&OP(vf)&&(g9=Zn(f9.has),b9=Zn(f9.set),PP=i(function(e){if(_9(e)){var r=e.body,n;if(J8e(r)===mf)return n=e.headers?new vf(e.headers):new vf,g9(n,"content-type")||b9(n,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Z8e(e,{body:l9(0,Lr(r)),headers:l9(0,n)})}return e},"wrapRequestOptions"),OP(c9)&&EP({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:i(function(e){return c9(e,arguments.length>1?PP(arguments[1]):{})},"fetch")}),OP(Sy)&&(Oy=i(function(e){return S9(this,SP),new Sy(e,arguments.length>1?PP(arguments[1]):{})},"Request"),SP.constructor=Oy,Oy.prototype=SP,EP({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Oy})));var g9,b9,PP,Oy;A9.exports={URLSearchParams:_y,getState:Sn}});var K9=j(function(){"use strict";function zP(t){return zP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zP(t)}i(zP,"_typeof");CS();var gBe=D(),WP=Oe(),bBe=yP(),KP=he(),I9=Ke(),rn=le(),Ay=rt(),Qr=Ri(),wBe=br(),GP=Ae(),YP=AO(),Hs=k0(),_n=Qu(),OBe=Na().codeAt,SBe=s9(),xi=Le(),_Be=yr(),PBe=xo(),B9=qP(),$9=We(),EBe=$9.set,Iy=$9.getterFor("URL"),RBe=B9.URLSearchParams,TBe=B9.getState,gf=KP.URL,HP=KP.TypeError,qy=KP.parseInt,ABe=Math.floor,q9=Math.pow,tn=rn("".charAt),Pn=rn(/./.exec),wf=rn([].join),IBe=rn(1 .toString),qBe=rn([].pop),Ws=rn([].push),k9=rn("".replace),kBe=rn([].shift),xBe=rn("".split),Sf=rn("".slice),ky=rn("".toLowerCase),CBe=rn([].unshift),FBe="Invalid authority",kP="Invalid scheme",Va="Invalid host",x9="Invalid port",z9=/[a-z]/i,LBe=/[\d+-.a-z]/i,VP=/\d/,jBe=/^0x/i,NBe=/^[0-7]+$/,DBe=/^\d+$/,G9=/^[\da-f]+$/i,UBe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,MBe=/[\0\t\n\r #/:<>?@[\\\]^|]/,BBe=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,$Be=/[\t\n\r]/g,Zr,zBe=i(function(e){var r=xBe(e,"."),n,o,a,u,s,l,f;if(r.length&&r[r.length-1]==""&&r.length--,n=r.length,n>4)return e;for(o=[],a=0;a<n;a++){if(u=r[a],u=="")return e;if(s=10,u.length>1&&tn(u,0)=="0"&&(s=Pn(jBe,u)?16:8,u=Sf(u,s==8?1:2)),u==="")l=0;else{if(!Pn(s==10?DBe:s==8?NBe:G9,u))return e;l=qy(u,s)}Ws(o,l)}for(a=0;a<n;a++)if(l=o[a],a==n-1){if(l>=q9(256,5-n))return null}else if(l>255)return null;for(f=qBe(o),a=0;a<o.length;a++)f+=o[a]*q9(256,3-a);return f},"parseIPv4"),GBe=i(function(e){var r=[0,0,0,0,0,0,0,0],n=0,o=null,a=0,u,s,l,f,d,y,m,w=i(function(){return tn(e,a)},"chr");if(w()==":"){if(tn(e,1)!=":")return;a+=2,n++,o=n}for(;w();){if(n==8)return;if(w()==":"){if(o!==null)return;a++,n++,o=n;continue}for(u=s=0;s<4&&Pn(G9,w());)u=u*16+qy(w(),16),a++,s++;if(w()=="."){if(s==0||(a-=s,n>6))return;for(l=0;w();){if(f=null,l>0)if(w()=="."&&l<4)a++;else return;if(!Pn(VP,w()))return;for(;Pn(VP,w());){if(d=qy(w(),10),f===null)f=d;else{if(f==0)return;f=f*10+d}if(f>255)return;a++}r[n]=r[n]*256+f,l++,(l==2||l==4)&&n++}if(l!=4)return;break}else if(w()==":"){if(a++,!w())return}else if(w())return;r[n++]=u}if(o!==null)for(y=n-o,n=7;n!=0&&y>0;)m=r[n],r[n--]=r[o+y-1],r[o+--y]=m;else if(n!=8)return;return r},"parseIPv6"),HBe=i(function(e){for(var r=null,n=1,o=null,a=0,u=0;u<8;u++)e[u]!==0?(a>n&&(r=o,n=a),o=null,a=0):(o===null&&(o=u),++a);return a>n&&(r=o,n=a),r},"findLongestZeroSequence"),bf=i(function(e){var r,n,o,a;if(typeof e=="number"){for(r=[],n=0;n<4;n++)CBe(r,e%256),e=ABe(e/256);return wf(r,".")}else if(zP(e)=="object"){for(r="",o=HBe(e),n=0;n<8;n++)a&&e[n]===0||(a&&(a=!1),o===n?(r+=n?":":"::",a=!0):(r+=IBe(e[n],16),n<7&&(r+=":")));return"["+r+"]"}return e},"serializeHost"),Ty={},H9=YP({},Ty,{" ":1,'"':1,"<":1,">":1,"`":1}),V9=YP({},H9,{"#":1,"?":1,"{":1,"}":1}),xP=YP({},V9,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Vo=i(function(e,r){var n=OBe(e,0);return n>32&&n<127&&!GP(r,e)?e:encodeURIComponent(e)},"percentEncode"),Py={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Of=i(function(e,r){var n;return e.length==2&&Pn(z9,tn(e,0))&&((n=tn(e,1))==":"||!r&&n=="|")},"isWindowsDriveLetter"),C9=i(function(e){var r;return e.length>1&&Of(Sf(e,0,2))&&(e.length==2||(r=tn(e,2))==="/"||r==="\\"||r==="?"||r==="#")},"startsWithWindowsDriveLetter"),VBe=i(function(e){return e==="."||ky(e)==="%2e"},"isSingleDot"),WBe=i(function(e){return e=ky(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},"isDoubleDot"),CP={},F9={},FP={},L9={},j9={},LP={},N9={},D9={},Ey={},Ry={},jP={},NP={},DP={},UP={},U9={},MP={},Vs={},ei={},M9={},Wa={},ki={},W9=i(function t(e,r,n){var o=xi(e),a,u,s;if(r){if(u=this.parse(o),u)throw HP(u);this.searchParams=null}else{if(n!==void 0&&(a=new t(n,!0)),u=this.parse(o,null,a),u)throw HP(u);s=TBe(new RBe),s.bindURL(this),this.searchParams=s}},"URLState");W9.prototype={type:"URL",parse:i(function(e,r,n){var o=this,a=r||CP,u=0,s="",l=!1,f=!1,d=!1,y,m,w,_;for(e=xi(e),r||(o.scheme="",o.username="",o.password="",o.host=null,o.port=null,o.path=[],o.query=null,o.fragment=null,o.cannotBeABaseURL=!1,e=k9(e,BBe,"")),e=k9(e,$Be,""),y=Hs(e);u<=y.length;){switch(m=y[u],a){case CP:if(m&&Pn(z9,m))s+=ky(m),a=F9;else{if(r)return kP;a=FP;continue}break;case F9:if(m&&(Pn(LBe,m)||m=="+"||m=="-"||m=="."))s+=ky(m);else if(m==":"){if(r&&(o.isSpecial()!=GP(Py,s)||s=="file"&&(o.includesCredentials()||o.port!==null)||o.scheme=="file"&&!o.host))return;if(o.scheme=s,r){o.isSpecial()&&Py[o.scheme]==o.port&&(o.port=null);return}s="",o.scheme=="file"?a=UP:o.isSpecial()&&n&&n.scheme==o.scheme?a=L9:o.isSpecial()?a=D9:y[u+1]=="/"?(a=j9,u++):(o.cannotBeABaseURL=!0,Ws(o.path,""),a=M9)}else{if(r)return kP;s="",a=FP,u=0;continue}break;case FP:if(!n||n.cannotBeABaseURL&&m!="#")return kP;if(n.cannotBeABaseURL&&m=="#"){o.scheme=n.scheme,o.path=_n(n.path),o.query=n.query,o.fragment="",o.cannotBeABaseURL=!0,a=ki;break}a=n.scheme=="file"?UP:LP;continue;case L9:if(m=="/"&&y[u+1]=="/")a=Ey,u++;else{a=LP;continue}break;case j9:if(m=="/"){a=Ry;break}else{a=ei;continue}case LP:if(o.scheme=n.scheme,m==Zr)o.username=n.username,o.password=n.password,o.host=n.host,o.port=n.port,o.path=_n(n.path),o.query=n.query;else if(m=="/"||m=="\\"&&o.isSpecial())a=N9;else if(m=="?")o.username=n.username,o.password=n.password,o.host=n.host,o.port=n.port,o.path=_n(n.path),o.query="",a=Wa;else if(m=="#")o.username=n.username,o.password=n.password,o.host=n.host,o.port=n.port,o.path=_n(n.path),o.query=n.query,o.fragment="",a=ki;else{o.username=n.username,o.password=n.password,o.host=n.host,o.port=n.port,o.path=_n(n.path),o.path.length--,a=ei;continue}break;case N9:if(o.isSpecial()&&(m=="/"||m=="\\"))a=Ey;else if(m=="/")a=Ry;else{o.username=n.username,o.password=n.password,o.host=n.host,o.port=n.port,a=ei;continue}break;case D9:if(a=Ey,m!="/"||tn(s,u+1)!="/")continue;u++;break;case Ey:if(m!="/"&&m!="\\"){a=Ry;continue}break;case Ry:if(m=="@"){l&&(s="%40"+s),l=!0,w=Hs(s);for(var T=0;T<w.length;T++){var R=w[T];if(R==":"&&!d){d=!0;continue}var E=Vo(R,xP);d?o.password+=E:o.username+=E}s=""}else if(m==Zr||m=="/"||m=="?"||m=="#"||m=="\\"&&o.isSpecial()){if(l&&s=="")return FBe;u-=Hs(s).length+1,s="",a=jP}else s+=m;break;case jP:case NP:if(r&&o.scheme=="file"){a=MP;continue}else if(m==":"&&!f){if(s=="")return Va;if(_=o.parseHost(s),_)return _;if(s="",a=DP,r==NP)return}else if(m==Zr||m=="/"||m=="?"||m=="#"||m=="\\"&&o.isSpecial()){if(o.isSpecial()&&s=="")return Va;if(r&&s==""&&(o.includesCredentials()||o.port!==null))return;if(_=o.parseHost(s),_)return _;if(s="",a=Vs,r)return;continue}else m=="["?f=!0:m=="]"&&(f=!1),s+=m;break;case DP:if(Pn(VP,m))s+=m;else if(m==Zr||m=="/"||m=="?"||m=="#"||m=="\\"&&o.isSpecial()||r){if(s!=""){var A=qy(s,10);if(A>65535)return x9;o.port=o.isSpecial()&&A===Py[o.scheme]?null:A,s=""}if(r)return;a=Vs;continue}else return x9;break;case UP:if(o.scheme="file",m=="/"||m=="\\")a=U9;else if(n&&n.scheme=="file")if(m==Zr)o.host=n.host,o.path=_n(n.path),o.query=n.query;else if(m=="?")o.host=n.host,o.path=_n(n.path),o.query="",a=Wa;else if(m=="#")o.host=n.host,o.path=_n(n.path),o.query=n.query,o.fragment="",a=ki;else{C9(wf(_n(y,u),""))||(o.host=n.host,o.path=_n(n.path),o.shortenPath()),a=ei;continue}else{a=ei;continue}break;case U9:if(m=="/"||m=="\\"){a=MP;break}n&&n.scheme=="file"&&!C9(wf(_n(y,u),""))&&(Of(n.path[0],!0)?Ws(o.path,n.path[0]):o.host=n.host),a=ei;continue;case MP:if(m==Zr||m=="/"||m=="\\"||m=="?"||m=="#"){if(!r&&Of(s))a=ei;else if(s==""){if(o.host="",r)return;a=Vs}else{if(_=o.parseHost(s),_)return _;if(o.host=="localhost"&&(o.host=""),r)return;s="",a=Vs}continue}else s+=m;break;case Vs:if(o.isSpecial()){if(a=ei,m!="/"&&m!="\\")continue}else if(!r&&m=="?")o.query="",a=Wa;else if(!r&&m=="#")o.fragment="",a=ki;else if(m!=Zr&&(a=ei,m!="/"))continue;break;case ei:if(m==Zr||m=="/"||m=="\\"&&o.isSpecial()||!r&&(m=="?"||m=="#")){if(WBe(s)?(o.shortenPath(),m!="/"&&!(m=="\\"&&o.isSpecial())&&Ws(o.path,"")):VBe(s)?m!="/"&&!(m=="\\"&&o.isSpecial())&&Ws(o.path,""):(o.scheme=="file"&&!o.path.length&&Of(s)&&(o.host&&(o.host=""),s=tn(s,0)+":"),Ws(o.path,s)),s="",o.scheme=="file"&&(m==Zr||m=="?"||m=="#"))for(;o.path.length>1&&o.path[0]==="";)kBe(o.path);m=="?"?(o.query="",a=Wa):m=="#"&&(o.fragment="",a=ki)}else s+=Vo(m,V9);break;case M9:m=="?"?(o.query="",a=Wa):m=="#"?(o.fragment="",a=ki):m!=Zr&&(o.path[0]+=Vo(m,Ty));break;case Wa:!r&&m=="#"?(o.fragment="",a=ki):m!=Zr&&(m=="'"&&o.isSpecial()?o.query+="%27":m=="#"?o.query+="%23":o.query+=Vo(m,Ty));break;case ki:m!=Zr&&(o.fragment+=Vo(m,H9));break}u++}},"parse"),parseHost:i(function(e){var r,n,o;if(tn(e,0)=="["){if(tn(e,e.length-1)!="]"||(r=GBe(Sf(e,1,-1)),!r))return Va;this.host=r}else if(this.isSpecial()){if(e=SBe(e),Pn(UBe,e)||(r=zBe(e),r===null))return Va;this.host=r}else{if(Pn(MBe,e))return Va;for(r="",n=Hs(e),o=0;o<n.length;o++)r+=Vo(n[o],Ty);this.host=r}},"parseHost"),cannotHaveUsernamePasswordPort:i(function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},"cannotHaveUsernamePasswordPort"),includesCredentials:i(function(){return this.username!=""||this.password!=""},"includesCredentials"),isSpecial:i(function(){return GP(Py,this.scheme)},"isSpecial"),shortenPath:i(function(){var e=this.path,r=e.length;r&&(this.scheme!="file"||r!=1||!Of(e[0],!0))&&e.length--},"shortenPath"),serialize:i(function(){var e=this,r=e.scheme,n=e.username,o=e.password,a=e.host,u=e.port,s=e.path,l=e.query,f=e.fragment,d=r+":";return a!==null?(d+="//",e.includesCredentials()&&(d+=n+(o?":"+o:"")+"@"),d+=bf(a),u!==null&&(d+=":"+u)):r=="file"&&(d+="//"),d+=e.cannotBeABaseURL?s[0]:s.length?"/"+wf(s,"/"):"",l!==null&&(d+="?"+l),f!==null&&(d+="#"+f),d},"serialize"),setHref:i(function(e){var r=this.parse(e);if(r)throw HP(r);this.searchParams.update()},"setHref"),getOrigin:i(function(){var e=this.scheme,r=this.port;if(e=="blob")try{return new Ks(e.path[0]).origin}catch(n){return"null"}return e=="file"||!this.isSpecial()?"null":e+"://"+bf(this.host)+(r!==null?":"+r:"")},"getOrigin"),getProtocol:i(function(){return this.scheme+":"},"getProtocol"),setProtocol:i(function(e){this.parse(xi(e)+":",CP)},"setProtocol"),getUsername:i(function(){return this.username},"getUsername"),setUsername:i(function(e){var r=Hs(xi(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<r.length;n++)this.username+=Vo(r[n],xP)}},"setUsername"),getPassword:i(function(){return this.password},"getPassword"),setPassword:i(function(e){var r=Hs(xi(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<r.length;n++)this.password+=Vo(r[n],xP)}},"setPassword"),getHost:i(function(){var e=this.host,r=this.port;return e===null?"":r===null?bf(e):bf(e)+":"+r},"getHost"),setHost:i(function(e){this.cannotBeABaseURL||this.parse(e,jP)},"setHost"),getHostname:i(function(){var e=this.host;return e===null?"":bf(e)},"getHostname"),setHostname:i(function(e){this.cannotBeABaseURL||this.parse(e,NP)},"setHostname"),getPort:i(function(){var e=this.port;return e===null?"":xi(e)},"getPort"),setPort:i(function(e){this.cannotHaveUsernamePasswordPort()||(e=xi(e),e==""?this.port=null:this.parse(e,DP))},"setPort"),getPathname:i(function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+wf(e,"/"):""},"getPathname"),setPathname:i(function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Vs))},"setPathname"),getSearch:i(function(){var e=this.query;return e?"?"+e:""},"getSearch"),setSearch:i(function(e){e=xi(e),e==""?this.query=null:(tn(e,0)=="?"&&(e=Sf(e,1)),this.query="",this.parse(e,Wa)),this.searchParams.update()},"setSearch"),getSearchParams:i(function(){return this.searchParams.facade},"getSearchParams"),getHash:i(function(){var e=this.fragment;return e?"#"+e:""},"getHash"),setHash:i(function(e){if(e=xi(e),e==""){this.fragment=null;return}tn(e,0)=="#"&&(e=Sf(e,1)),this.fragment="",this.parse(e,ki)},"setHash"),update:i(function(){this.query=this.searchParams.serialize()||null},"update")};var Ks=i(function(e){var r=wBe(this,ir),n=PBe(arguments.length,1)>1?arguments[1]:void 0,o=EBe(r,new W9(e,!1,n));WP||(r.href=o.serialize(),r.origin=o.getOrigin(),r.protocol=o.getProtocol(),r.username=o.getUsername(),r.password=o.getPassword(),r.host=o.getHost(),r.hostname=o.getHostname(),r.port=o.getPort(),r.pathname=o.getPathname(),r.search=o.getSearch(),r.searchParams=o.getSearchParams(),r.hash=o.getHash())},"URL"),ir=Ks.prototype,en=i(function(e,r){return{get:i(function(){return Iy(this)[e]()},"get"),set:r&&function(n){return Iy(this)[r](n)},configurable:!0,enumerable:!0}},"accessorDescriptor");WP&&(Qr(ir,"href",en("serialize","setHref")),Qr(ir,"origin",en("getOrigin")),Qr(ir,"protocol",en("getProtocol","setProtocol")),Qr(ir,"username",en("getUsername","setUsername")),Qr(ir,"password",en("getPassword","setPassword")),Qr(ir,"host",en("getHost","setHost")),Qr(ir,"hostname",en("getHostname","setHostname")),Qr(ir,"port",en("getPort","setPort")),Qr(ir,"pathname",en("getPathname","setPathname")),Qr(ir,"search",en("getSearch","setSearch")),Qr(ir,"searchParams",en("getSearchParams")),Qr(ir,"hash",en("getHash","setHash")));Ay(ir,"toJSON",i(function(){return Iy(this).serialize()},"toJSON"),{enumerable:!0});Ay(ir,"toString",i(function(){return Iy(this).serialize()},"toString"),{enumerable:!0});gf&&(BP=gf.createObjectURL,$P=gf.revokeObjectURL,BP&&Ay(Ks,"createObjectURL",I9(BP,gf)),$P&&Ay(Ks,"revokeObjectURL",I9($P,gf)));var BP,$P;_Be(Ks,"URL");gBe({global:!0,constructor:!0,forced:!bBe,sham:!WP},{URL:Ks})});var s$=j(function($lt,Ly){function Pf(t){return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}i(Pf,"_typeof");var rE=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n,o=typeof Symbol=="function"?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(P,x,L){return Object.defineProperty(P,x,{value:L,enumerable:!0,configurable:!0,writable:!0}),P[x]}i(l,"define");try{l({},"")}catch(P){l=i(function(L,S,I){return L[S]=I},"define")}function f(P,x,L,S){var I=x&&x.prototype instanceof R?x:R,N=Object.create(I.prototype),re=new v(S||[]);return N._invoke=K(P,L,re),N}i(f,"wrap"),t.wrap=f;function d(P,x,L){try{return{type:"normal",arg:P.call(x,L)}}catch(S){return{type:"throw",arg:S}}}i(d,"tryCatch");var y="suspendedStart",m="suspendedYield",w="executing",_="completed",T={};function R(){}i(R,"Generator");function E(){}i(E,"GeneratorFunction");function A(){}i(A,"GeneratorFunctionPrototype");var k={};l(k,a,function(){return this});var U=Object.getPrototypeOf,G=U&&U(U(g([])));G&&G!==e&&r.call(G,a)&&(k=G);var M=A.prototype=R.prototype=Object.create(k);E.prototype=A,l(M,"constructor",A),l(A,"constructor",E),E.displayName=l(A,s,"GeneratorFunction");function z(P){["next","throw","return"].forEach(function(x){l(P,x,function(L){return this._invoke(x,L)})})}i(z,"defineIteratorMethods"),t.isGeneratorFunction=function(P){var x=typeof P=="function"&&P.constructor;return x?x===E||(x.displayName||x.name)==="GeneratorFunction":!1},t.mark=function(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,A):(P.__proto__=A,l(P,s,"GeneratorFunction")),P.prototype=Object.create(M),P},t.awrap=function(P){return{__await:P}};function W(P,x){function L(N,re,oe,Q){var Y=d(P[N],P,re);if(Y.type==="throw")Q(Y.arg);else{var Xt=Y.arg,Ct=Xt.value;return Ct&&Pf(Ct)==="object"&&r.call(Ct,"__await")?x.resolve(Ct.__await).then(function(Jt){L("next",Jt,oe,Q)},function(Jt){L("throw",Jt,oe,Q)}):x.resolve(Ct).then(function(Jt){Xt.value=Jt,oe(Xt)},function(Jt){return L("throw",Jt,oe,Q)})}}i(L,"invoke");var S;function I(N,re){function oe(){return new x(function(Q,Y){L(N,re,Q,Y)})}return i(oe,"callInvokeWithMethodAndArg"),S=S?S.then(oe,oe):oe()}i(I,"enqueue"),this._invoke=I}i(W,"AsyncIterator"),z(W.prototype),l(W.prototype,u,function(){return this}),t.AsyncIterator=W,t.async=function(P,x,L,S,I){I===void 0&&(I=Promise);var N=new W(f(P,x,L,S),I);return t.isGeneratorFunction(x)?N:N.next().then(function(re){return re.done?re.value:N.next()})};function K(P,x,L){var S=y;return i(function(N,re){if(S===w)throw new Error("Generator is already running");if(S===_){if(N==="throw")throw re;return b()}for(L.method=N,L.arg=re;;){var oe=L.delegate;if(oe){var Q=p(oe,L);if(Q){if(Q===T)continue;return Q}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(S===y)throw S=_,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);S=w;var Y=d(P,x,L);if(Y.type==="normal"){if(S=L.done?_:m,Y.arg===T)continue;return{value:Y.arg,done:L.done}}else Y.type==="throw"&&(S=_,L.method="throw",L.arg=Y.arg)}},"invoke")}i(K,"makeInvokeMethod");function p(P,x){var L=P.iterator[x.method];if(L===n){if(x.delegate=null,x.method==="throw"){if(P.iterator.return&&(x.method="return",x.arg=n,p(P,x),x.method==="throw"))return T;x.method="throw",x.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var S=d(L,P.iterator,x.arg);if(S.type==="throw")return x.method="throw",x.arg=S.arg,x.delegate=null,T;var I=S.arg;if(!I)return x.method="throw",x.arg=new TypeError("iterator result is not an object"),x.delegate=null,T;if(I.done)x[P.resultName]=I.value,x.next=P.nextLoc,x.method!=="return"&&(x.method="next",x.arg=n);else return I;return x.delegate=null,T}i(p,"maybeInvokeDelegate"),z(M),l(M,s,"Generator"),l(M,a,function(){return this}),l(M,"toString",function(){return"[object Generator]"});function c(P){var x={tryLoc:P[0]};1 in P&&(x.catchLoc=P[1]),2 in P&&(x.finallyLoc=P[2],x.afterLoc=P[3]),this.tryEntries.push(x)}i(c,"pushTryEntry");function h(P){var x=P.completion||{};x.type="normal",delete x.arg,P.completion=x}i(h,"resetTryEntry");function v(P){this.tryEntries=[{tryLoc:"root"}],P.forEach(c,this),this.reset(!0)}i(v,"Context"),t.keys=function(P){var x=[];for(var L in P)x.push(L);return x.reverse(),i(function S(){for(;x.length;){var I=x.pop();if(I in P)return S.value=I,S.done=!1,S}return S.done=!0,S},"next")};function g(P){if(P){var x=P[a];if(x)return x.call(P);if(typeof P.next=="function")return P;if(!isNaN(P.length)){var L=-1,S=i(function I(){for(;++L<P.length;)if(r.call(P,L))return I.value=P[L],I.done=!1,I;return I.value=n,I.done=!0,I},"next");return S.next=S}}return{next:b}}i(g,"values"),t.values=g;function b(){return{value:n,done:!0}}return i(b,"doneResult"),v.prototype={constructor:v,reset:i(function(x){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(h),!x)for(var L in this)L.charAt(0)==="t"&&r.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=n)},"reset"),stop:i(function(){this.done=!0;var x=this.tryEntries[0],L=x.completion;if(L.type==="throw")throw L.arg;return this.rval},"stop"),dispatchException:i(function(x){if(this.done)throw x;var L=this;function S(Y,Xt){return re.type="throw",re.arg=x,L.next=Y,Xt&&(L.method="next",L.arg=n),!!Xt}i(S,"handle");for(var I=this.tryEntries.length-1;I>=0;--I){var N=this.tryEntries[I],re=N.completion;if(N.tryLoc==="root")return S("end");if(N.tryLoc<=this.prev){var oe=r.call(N,"catchLoc"),Q=r.call(N,"finallyLoc");if(oe&&Q){if(this.prev<N.catchLoc)return S(N.catchLoc,!0);if(this.prev<N.finallyLoc)return S(N.finallyLoc)}else if(oe){if(this.prev<N.catchLoc)return S(N.catchLoc,!0)}else if(Q){if(this.prev<N.finallyLoc)return S(N.finallyLoc)}else throw new Error("try statement without catch or finally")}}},"dispatchException"),abrupt:i(function(x,L){for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S];if(I.tryLoc<=this.prev&&r.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var N=I;break}}N&&(x==="break"||x==="continue")&&N.tryLoc<=L&&L<=N.finallyLoc&&(N=null);var re=N?N.completion:{};return re.type=x,re.arg=L,N?(this.method="next",this.next=N.finallyLoc,T):this.complete(re)},"abrupt"),complete:i(function(x,L){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&L&&(this.next=L),T},"complete"),finish:i(function(x){for(var L=this.tryEntries.length-1;L>=0;--L){var S=this.tryEntries[L];if(S.finallyLoc===x)return this.complete(S.completion,S.afterLoc),h(S),T}},"finish"),catch:i(function(x){for(var L=this.tryEntries.length-1;L>=0;--L){var S=this.tryEntries[L];if(S.tryLoc===x){var I=S.completion;if(I.type==="throw"){var N=I.arg;h(S)}return N}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(x,L,S){return this.delegate={iterator:g(x),resultName:L,nextLoc:S},this.method==="next"&&(this.arg=n),T},"delegateYield")},t}((typeof Ly=="undefined"?"undefined":Pf(Ly))==="object"?Ly.exports:{});try{regeneratorRuntime=rE}catch(t){(typeof globalThis=="undefined"?"undefined":Pf(globalThis))==="object"?globalThis.regeneratorRuntime=rE:Function("r","regeneratorRuntime = r")(rE)}});var iE=j(function(Vlt,d$){d$.exports=i(function(){var e={},r=e._fns={};e.emit=i(function(u,s,l,f,d,y,m){var w=n(u);w.length&&o(u,w,[s,l,f,d,y,m])},"emit"),e.on=i(function(u,s){r[u]||(r[u]=[]),r[u].push(s)},"on"),e.once=i(function(u,s){function l(){s.apply(this,arguments),e.off(u,l)}i(l,"one"),this.on(u,l)},"once"),e.off=i(function(u,s){var l=[];if(u&&s){var f=this._fns[u],d=0,y=f?f.length:0;for(d;d<y;d++)f[d]!==s&&l.push(f[d])}l.length?this._fns[u]=l:delete this._fns[u]},"off");function n(a){var u=r[a]?r[a]:[],s=a.indexOf(":"),l=s===-1?[a]:[a.substring(0,s),a.substring(s+1)],f=Object.keys(r),d=0,y=f.length;for(d;d<y;d++){var m=f[d];if(m==="*"&&(u=u.concat(r[m])),l.length===2&&l[0]===m){u=u.concat(r[m]);break}}return u}i(n,"getListeners");function o(a,u,s){var l=0,f=u.length;for(l;l<f&&u[l];l++)u[l].event=a,u[l].apply(u[l],s)}return i(o,"emitAll"),e},"createNamespaceEmitter")});var Rf=j(function(Klt,m$){function Xa(t){return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}i(Xa,"_typeof");var y$="Expected a function",h$=0/0,k4e="[object Symbol]",x4e=/^\s+|\s+$/g,C4e=/^[-+]0x[0-9a-f]+$/i,F4e=/^0b[01]+$/i,L4e=/^0o[0-7]+$/i,j4e=parseInt,N4e=(typeof global=="undefined"?"undefined":Xa(global))=="object"&&global&&global.Object===Object&&global,D4e=(typeof self=="undefined"?"undefined":Xa(self))=="object"&&self&&self.Object===Object&&self,U4e=N4e||D4e||Function("return this")(),M4e=Object.prototype,B4e=M4e.toString,$4e=Math.max,z4e=Math.min,oE=i(function(){return U4e.Date.now()},"now");function G4e(t,e,r){var n,o,a,u,s,l,f=0,d=!1,y=!1,m=!0;if(typeof t!="function")throw new TypeError(y$);e=v$(e)||0,Dy(r)&&(d=!!r.leading,y="maxWait"in r,a=y?$4e(v$(r.maxWait)||0,e):a,m="trailing"in r?!!r.trailing:m);function w(M){var z=n,W=o;return n=o=void 0,f=M,u=t.apply(W,z),u}i(w,"invokeFunc");function _(M){return f=M,s=setTimeout(E,e),d?w(M):u}i(_,"leadingEdge");function T(M){var z=M-l,W=M-f,K=e-z;return y?z4e(K,a-W):K}i(T,"remainingWait");function R(M){var z=M-l,W=M-f;return l===void 0||z>=e||z<0||y&&W>=a}i(R,"shouldInvoke");function E(){var M=oE();if(R(M))return A(M);s=setTimeout(E,T(M))}i(E,"timerExpired");function A(M){return s=void 0,m&&n?w(M):(n=o=void 0,u)}i(A,"trailingEdge");function k(){s!==void 0&&clearTimeout(s),f=0,n=l=o=s=void 0}i(k,"cancel");function U(){return s===void 0?u:A(oE())}i(U,"flush");function G(){var M=oE(),z=R(M);if(n=arguments,o=this,l=M,z){if(s===void 0)return _(l);if(y)return s=setTimeout(E,e),w(l)}return s===void 0&&(s=setTimeout(E,e)),u}return i(G,"debounced"),G.cancel=k,G.flush=U,G}i(G4e,"debounce");function H4e(t,e,r){var n=!0,o=!0;if(typeof t!="function")throw new TypeError(y$);return Dy(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),G4e(t,e,{leading:n,maxWait:e,trailing:o})}i(H4e,"throttle");function Dy(t){var e=Xa(t);return!!t&&(e=="object"||e=="function")}i(Dy,"isObject");function V4e(t){return!!t&&Xa(t)=="object"}i(V4e,"isObjectLike");function W4e(t){return Xa(t)=="symbol"||V4e(t)&&B4e.call(t)==k4e}i(W4e,"isSymbol");function v$(t){if(typeof t=="number")return t;if(W4e(t))return h$;if(Dy(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Dy(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(x4e,"");var r=F4e.test(t);return r||L4e.test(t)?j4e(t.slice(2),r?2:8):C4e.test(t)?h$:+t}i(v$,"toNumber");m$.exports=H4e});var By=j(function(uct,E$){function fE(t){return fE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fE(t)}i(fE,"_typeof");E$.exports=i(function(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got ".concat(fE(e)));var r=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(r&&(e=-e),e<1)return"".concat((r?"-":"")+e," B");var o=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,o));var a=n[o];return e>=10||e%1===0?"".concat((r?"-":"")+e.toFixed(0)," ").concat(a):"".concat((r?"-":"")+e.toFixed(1)," ").concat(a)},"prettierBytes")});var A$=j(function(sct,T$){"use strict";function pE(t){return pE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pE(t)}i(pE,"_typeof");function R$(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}i(R$,"WildcardMatcher");R$.prototype.match=function(t){var e=!0,r=this.parts,n,o=r.length,a;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(a=(t||"").split(this.separator),n=0;e&&n<o;n++)r[n]!=="*"&&(n<a.length?e=r[n]===a[n]:e=!1);e=e&&a}else if(typeof t.splice=="function")for(e=[],n=t.length;n--;)this.match(t[n])&&(e[e.length]=t[n]);else if(pE(t)=="object"){e={};for(var u in t)this.match(u)&&(e[u]=t[u])}return e};T$.exports=function(t,e,r){var n=new R$(t,r||/[\/\.]/);return typeof e!="undefined"?n.match(e):n}});var q$=j(function(lct,I$){var a6e=A$(),u6e=/[\/\+\.]/;I$.exports=function(t,e){function r(n){var o=a6e(n,t,u6e);return o&&o.length>=2}return i(r,"test"),e?r(e.split(";")[0]):r}});var Dr=j(function(yft,sm){function lm(t){return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}i(lm,"_typeof");(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var r=[],n=0;n<arguments.length;n++){var o=arguments[n];if(!!o){var a=lm(o);if(a==="string"||a==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var u=e.apply(null,o);u&&r.push(u)}}else if(a==="object")if(o.toString===Object.prototype.toString)for(var s in o)t.call(o,s)&&o[s]&&r.push(s);else r.push(o.toString())}}return r.join(" ")}i(e,"classNames"),typeof sm!="undefined"&&sm.exports?(e.default=e,sm.exports=e):typeof define=="function"&&lm(define.amd)==="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var EH=j(function(UR){"use strict";function Ize(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Ize,"_defineProperty");function we(){"use strict";we=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&Xo(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(we,"_regeneratorRuntime");function xn(t,e){return xze(t)||kze(t,e)||LR(t,e)||qze()}i(xn,"_slicedToArray");function qze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(qze,"_nonIterableRest");function kze(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],o=!0,a=!1,u,s;try{for(r=r.call(t);!(o=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));o=!0);}catch(l){a=!0,s=l}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw s}}return n}}i(kze,"_iterableToArrayLimit");function xze(t){if(Array.isArray(t))return t}i(xze,"_arrayWithHoles");function Ne(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=LR(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,o=i(function(){},"F");return{s:o,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return a=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!a&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(Ne,"_createForOfIteratorHelper");function Xo(t){return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(t)}i(Xo,"_typeof");function Fm(t){return Lze(t)||Fze(t)||LR(t)||Cze()}i(Fm,"_toConsumableArray");function Cze(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(Cze,"_nonIterableSpread");function LR(t,e){if(!!t){if(typeof t=="string")return TR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TR(t,e)}}i(LR,"_unsupportedIterableToArray");function Fze(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(Fze,"_iterableToArray");function Lze(t){if(Array.isArray(t))return TR(t)}i(Lze,"_arrayWithoutHoles");function TR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(TR,"_arrayLikeToArray");function YG(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(YG,"asyncGeneratorStep");function dt(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){YG(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){YG(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(dt,"_asyncToGenerator");function xm(){return typeof Reflect!="undefined"&&Reflect.get?xm=Reflect.get.bind():xm=i(function(e,r,n){var o=jze(e,r);if(!!o){var a=Object.getOwnPropertyDescriptor(o,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},"_get"),xm.apply(this,arguments)}i(xm,"_get");function jze(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=uu(t),t!==null););return t}i(jze,"_superPropBase");function il(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lp(t,e)}i(il,"_inherits");function ol(t){var e=mH();return i(function(){var n=uu(t),o;if(e){var a=uu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return yH(this,o)},"_createSuperInternal")}i(ol,"_createSuper");function yH(t,e){if(e&&(Xo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qn(t)}i(yH,"_possibleConstructorReturn");function qn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(qn,"_assertThisInitialized");function AR(t){var e=typeof Map=="function"?new Map:void 0;return AR=i(function(n){if(n===null||!Nze(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return Cm(n,arguments,uu(this).constructor)}return i(o,"Wrapper"),o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),lp(o,n)},"_wrapNativeSuper"),AR(t)}i(AR,"_wrapNativeSuper");function Cm(t,e,r){return mH()?Cm=Reflect.construct.bind():Cm=i(function(o,a,u){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(o,s),f=new l;return u&&lp(f,u.prototype),f},"_construct"),Cm.apply(null,arguments)}i(Cm,"_construct");function mH(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(mH,"_isNativeReflectConstruct");function Nze(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(Nze,"_isNativeFunction");function lp(t,e){return lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),lp(t,e)}i(lp,"_setPrototypeOf");function uu(t){return uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),uu(t)}i(uu,"_getPrototypeOf");function Cn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Cn,"_classCallCheck");function XG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(XG,"_defineProperties");function Fn(t,e,r){return e&&XG(t.prototype,e),r&&XG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Fn,"_createClass");function Ye(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Ye,"e");Object.defineProperty(UR,"__esModule",{value:!0});var gH=typeof self!="undefined"?self:global,Jo=typeof navigator!="undefined",Lm=Jo&&typeof HTMLImageElement=="undefined",JG=!(typeof global=="undefined"||typeof process=="undefined"||!process.versions||!process.versions.node),Dze=!!gH.Buffer,Uze=i(function(e){return e!==void 0},"a");function bH(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(Uze).length===0)}i(bH,"h");function Ut(t){var e=new Error(t);throw delete e.stack,e}i(Ut,"f");function QG(t){var e=function(r){var n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}i(QG,"o");var SR=i(function(e){return String.fromCharCode.apply(null,e)},"l"),ZG=typeof TextDecoder!="undefined"?new TextDecoder("utf-8"):void 0,jm=function(){function t(e){Cn(this,t);var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(typeof o=="boolean"&&(this.le=o),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-r);var a=new DataView(e,r,n);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof t){n===void 0&&(n=e.byteLength-r),r+=e.byteOffset,r+n>e.byteOffset+e.byteLength&&Ut("Creating view outside of available memory in ArrayBuffer");var u=new DataView(e.buffer,r,n);this._swapDataView(u)}else if(typeof e=="number"){var s=new DataView(new ArrayBuffer(e));this._swapDataView(s)}else Ut("Invalid input argument for BufferView: "+e)}return i(t,"u"),Fn(t,[{key:"_swapArrayBuffer",value:i(function(r){this._swapDataView(new DataView(r))},"_swapArrayBuffer")},{key:"_swapBuffer",value:i(function(r){this._swapDataView(new DataView(r.buffer,r.byteOffset,r.byteLength))},"_swapBuffer")},{key:"_swapDataView",value:i(function(r){this.dataView=r,this.buffer=r.buffer,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength},"_swapDataView")},{key:"_lengthToEnd",value:i(function(r){return this.byteLength-r},"_lengthToEnd")},{key:"set",value:i(function(r,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;return r instanceof DataView||r instanceof t?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer&&(r=new Uint8Array(r)),r instanceof Uint8Array||Ut("BufferView.set(): Invalid data argument."),this.toUint8().set(r,n),new o(this,n,r.byteLength)},"set")},{key:"subarray",value:i(function(r,n){return n=n||this._lengthToEnd(r),new t(this,r,n)},"subarray")},{key:"toUint8",value:i(function(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)},"toUint8")},{key:"getUint8Array",value:i(function(r,n){return new Uint8Array(this.buffer,this.byteOffset+r,n)},"getUint8Array")},{key:"getString",value:i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,o=this.getUint8Array(r,n);return a=o,ZG?ZG.decode(a):Dze?Buffer.from(a).toString("utf8"):decodeURIComponent(escape(SR(a)));var a},"getString")},{key:"getLatin1String",value:i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,o=this.getUint8Array(r,n);return SR(o)},"getLatin1String")},{key:"getUnicodeString",value:i(function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,o=[],a=0;a<n&&r+a<this.byteLength;a+=2)o.push(this.getUint16(r+a));return SR(o)},"getUnicodeString")},{key:"getInt8",value:i(function(r){return this.dataView.getInt8(r)},"getInt8")},{key:"getUint8",value:i(function(r){return this.dataView.getUint8(r)},"getUint8")},{key:"getInt16",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt16(r,n)},"getInt16")},{key:"getInt32",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt32(r,n)},"getInt32")},{key:"getUint16",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint16(r,n)},"getUint16")},{key:"getUint32",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint32(r,n)},"getUint32")},{key:"getFloat32",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,n)},"getFloat32")},{key:"getFloat64",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,n)},"getFloat64")},{key:"getFloat",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,n)},"getFloat")},{key:"getDouble",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,n)},"getDouble")},{key:"getUintBytes",value:i(function(r,n,o){switch(n){case 1:return this.getUint8(r,o);case 2:return this.getUint16(r,o);case 4:return this.getUint32(r,o);case 8:return this.getUint64&&this.getUint64(r,o)}},"getUintBytes")},{key:"getUint",value:i(function(r,n,o){switch(n){case 8:return this.getUint8(r,o);case 16:return this.getUint16(r,o);case 32:return this.getUint32(r,o);case 64:return this.getUint64&&this.getUint64(r,o)}},"getUint")},{key:"toString",value:i(function(r){return this.dataView.toString(r,this.constructor.name)},"toString")},{key:"ensureChunk",value:i(function(){},"ensureChunk")}],[{key:"from",value:i(function(r,n){return r instanceof this&&r.le===n?r:new t(r,void 0,void 0,n)},"from")}]),t}();function IR(t,e){Ut("".concat(t," '").concat(e,"' was not loaded, try using full build of exifr."))}i(IR,"p");var jR=function(t){il(r,t);var e=ol(r);function r(n){var o;return Cn(this,r),o=e.call(this),o.kind=n,o}return i(r,"c"),Fn(r,[{key:"get",value:i(function(o,a){return this.has(o)||IR(this.kind,o),a&&(o in a||function(u,s){Ut("Unknown ".concat(u," '").concat(s,"'."))}(this.kind,o),a[o].enabled||IR(this.kind,o)),xm(uu(r.prototype),"get",this).call(this,o)},"get")},{key:"keyList",value:i(function(){return Array.from(this.keys())},"keyList")}]),r}(AR(Map)),wH=new jR("file parser"),kn=new jR("segment parser"),OH=new jR("file reader"),Mze=gH.fetch;function eH(t,e){return(r=t).startsWith("data:")||r.length>1e4?xR(t,e,"base64"):JG&&t.includes("://")?qR(t,e,"url",tH):JG?xR(t,e,"fs"):Jo?qR(t,e,"url",tH):void Ut("Invalid input argument");var r}i(eH,"w");function qR(t,e,r,n){return kR.apply(this,arguments)}i(qR,"k");function kR(){return kR=dt(we().mark(i(function t(e,r,n,o){return we().wrap(i(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",OH.has(n)?xR(e,r,n):o?function(){var s=dt(we().mark(i(function l(f,d){var y;return we().wrap(i(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,d(f);case 2:return y=w.sent,w.abrupt("return",new jm(y));case 4:case"end":return w.stop()}},"_callee20$"),l)},"_callee20")));return function(l,f){return s.apply(this,arguments)}}()(e,o):void Ut("Parser ".concat(n," is not loaded")));case 1:case"end":return u.stop()}},"_callee21$"),t)},"_callee21"))),kR.apply(this,arguments)}i(kR,"_k");function xR(t,e,r){return CR.apply(this,arguments)}i(xR,"v");function CR(){return CR=dt(we().mark(i(function t(e,r,n){var o;return we().wrap(i(function(u){for(;;)switch(u.prev=u.next){case 0:return o=new(OH.get(n))(e,r),u.next=3,o.read();case 3:return u.abrupt("return",o);case 4:case"end":return u.stop()}},"_callee22$"),t)},"_callee22"))),CR.apply(this,arguments)}i(CR,"_v");var tH=i(function(e){return Mze(e).then(function(r){return r.arrayBuffer()})},"S"),Bze=i(function(e){return new Promise(function(r,n){var o=new FileReader;o.onloadend=function(){return r(o.result||new ArrayBuffer)},o.onerror=n,o.readAsArrayBuffer(e)})},"O"),NR=new Map,$ze=new Map,zze=new Map,Am=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],SH=["jfif","xmp","icc","iptc","ihdr"],FR=["tiff"].concat(SH),Dt=["ifd0","ifd1","exif","gps","interop"],Im=[].concat(Fm(FR),Dt),qm=["makerNote","userComment"],_H=["translateKeys","translateValues","reviveValues","multiSegment"],km=[].concat(_H,["sanitize","mergeOutput","silentErrors"]),PH=function(){function t(){Cn(this,t)}return i(t,"z"),Fn(t,[{key:"translate",get:i(function(){return this.translateKeys||this.translateValues||this.reviveValues},"get")}]),t}(),ap=function(t){il(r,t);var e=ol(r);function r(n,o,a,u){var s;if(Cn(this,r),s=e.call(this),Ye(qn(s),"enabled",!1),Ye(qn(s),"skip",new Set),Ye(qn(s),"pick",new Set),Ye(qn(s),"deps",new Set),Ye(qn(s),"translateKeys",!1),Ye(qn(s),"translateValues",!1),Ye(qn(s),"reviveValues",!1),s.key=n,s.enabled=o,s.parse=s.enabled,s.applyInheritables(u),s.canBeFiltered=Dt.includes(n),s.canBeFiltered&&(s.dict=NR.get(n)),a!==void 0)if(Array.isArray(a))s.parse=s.enabled=!0,s.canBeFiltered&&a.length>0&&s.translateTagSet(a,s.pick);else if(Xo(a)=="object"){if(s.enabled=!0,s.parse=a.parse!==!1,s.canBeFiltered){var l=a.pick,f=a.skip;l&&l.length>0&&s.translateTagSet(l,s.pick),f&&f.length>0&&s.translateTagSet(f,s.skip)}s.applyInheritables(a)}else a===!0||a===!1?s.parse=s.enabled=a:Ut("Invalid options argument: ".concat(a));return yH(s)}return i(r,"j"),Fn(r,[{key:"needed",get:i(function(){return this.enabled||this.deps.size>0},"get")},{key:"applyInheritables",value:i(function(o){var a,u,s=Ne(_H),l;try{for(s.s();!(l=s.n()).done;)a=l.value,u=o[a],u!==void 0&&(this[a]=u)}catch(f){s.e(f)}finally{s.f()}},"applyInheritables")},{key:"translateTagSet",value:i(function(o,a){if(this.dict){var u,s,l=this.dict,f=l.tagKeys,d=l.tagValues,y=Ne(o),m;try{for(y.s();!(m=y.n()).done;)u=m.value,typeof u=="string"?(s=d.indexOf(u),s===-1&&(s=f.indexOf(Number(u))),s!==-1&&a.add(Number(f[s]))):a.add(u)}catch(R){y.e(R)}finally{y.f()}}else{var w=Ne(o),_;try{for(w.s();!(_=w.n()).done;){var T=_.value;a.add(T)}}catch(R){w.e(R)}finally{w.f()}}},"translateTagSet")},{key:"finalizeFilters",value:i(function(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Nm(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Nm(this.pick,this.deps)},"finalizeFilters")}]),r}(PH),ar={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},rH=new Map,DR=function(t){il(r,t);var e=ol(r);function r(n){var o;return Cn(this,r),o=e.call(this),n===!0?o.setupFromTrue():n===void 0?o.setupFromUndefined():Array.isArray(n)?o.setupFromArray(n):Xo(n)=="object"?o.setupFromObject(n):Ut("Invalid options argument ".concat(n)),o.firstChunkSize===void 0&&(o.firstChunkSize=Jo?o.firstChunkSizeBrowser:o.firstChunkSizeNode),o.mergeOutput&&(o.ifd1.enabled=!1),o.filterNestedSegmentTags(),o.traverseTiffDependencyTree(),o.checkLoadedPlugins(),o}return i(r,"N"),Fn(r,[{key:"setupFromUndefined",value:i(function(){var o,a=Ne(Am),u;try{for(a.s();!(u=a.n()).done;)o=u.value,this[o]=ar[o]}catch(w){a.e(w)}finally{a.f()}var s=Ne(km),l;try{for(s.s();!(l=s.n()).done;)o=l.value,this[o]=ar[o]}catch(w){s.e(w)}finally{s.f()}var f=Ne(qm),d;try{for(f.s();!(d=f.n()).done;)o=d.value,this[o]=ar[o]}catch(w){f.e(w)}finally{f.f()}var y=Ne(Im),m;try{for(y.s();!(m=y.n()).done;)o=m.value,this[o]=new ap(o,ar[o],void 0,this)}catch(w){y.e(w)}finally{y.f()}},"setupFromUndefined")},{key:"setupFromTrue",value:i(function(){var o,a=Ne(Am),u;try{for(a.s();!(u=a.n()).done;)o=u.value,this[o]=ar[o]}catch(w){a.e(w)}finally{a.f()}var s=Ne(km),l;try{for(s.s();!(l=s.n()).done;)o=l.value,this[o]=ar[o]}catch(w){s.e(w)}finally{s.f()}var f=Ne(qm),d;try{for(f.s();!(d=f.n()).done;)o=d.value,this[o]=!0}catch(w){f.e(w)}finally{f.f()}var y=Ne(Im),m;try{for(y.s();!(m=y.n()).done;)o=m.value,this[o]=new ap(o,!0,void 0,this)}catch(w){y.e(w)}finally{y.f()}},"setupFromTrue")},{key:"setupFromArray",value:i(function(o){var a,u=Ne(Am),s;try{for(u.s();!(s=u.n()).done;)a=s.value,this[a]=ar[a]}catch(_){u.e(_)}finally{u.f()}var l=Ne(km),f;try{for(l.s();!(f=l.n()).done;)a=f.value,this[a]=ar[a]}catch(_){l.e(_)}finally{l.f()}var d=Ne(qm),y;try{for(d.s();!(y=d.n()).done;)a=y.value,this[a]=ar[a]}catch(_){d.e(_)}finally{d.f()}var m=Ne(Im),w;try{for(m.s();!(w=m.n()).done;)a=w.value,this[a]=new ap(a,!1,void 0,this)}catch(_){m.e(_)}finally{m.f()}this.setupGlobalFilters(o,void 0,Dt)},"setupFromArray")},{key:"setupFromObject",value:i(function(o){var a,u=Ne((Dt.ifd0=Dt.ifd0||Dt.image,Dt.ifd1=Dt.ifd1||Dt.thumbnail,Object.assign(this,o),Am)),s;try{for(u.s();!(s=u.n()).done;)a=s.value,this[a]=_R(o[a],ar[a])}catch(R){u.e(R)}finally{u.f()}var l=Ne(km),f;try{for(l.s();!(f=l.n()).done;)a=f.value,this[a]=_R(o[a],ar[a])}catch(R){l.e(R)}finally{l.f()}var d=Ne(qm),y;try{for(d.s();!(y=d.n()).done;)a=y.value,this[a]=_R(o[a],ar[a])}catch(R){d.e(R)}finally{d.f()}var m=Ne(FR),w;try{for(m.s();!(w=m.n()).done;)a=w.value,this[a]=new ap(a,ar[a],o[a],this)}catch(R){m.e(R)}finally{m.f()}var _=Ne(Dt),T;try{for(_.s();!(T=_.n()).done;)a=T.value,this[a]=new ap(a,ar[a],o[a],this.tiff)}catch(R){_.e(R)}finally{_.f()}this.setupGlobalFilters(o.pick,o.skip,Dt,Im),o.tiff===!0?this.batchEnableWithBool(Dt,!0):o.tiff===!1?this.batchEnableWithUserValue(Dt,o):Array.isArray(o.tiff)?this.setupGlobalFilters(o.tiff,void 0,Dt):Xo(o.tiff)=="object"&&this.setupGlobalFilters(o.tiff.pick,o.tiff.skip,Dt)},"setupFromObject")},{key:"batchEnableWithBool",value:i(function(o,a){var u=Ne(o),s;try{for(u.s();!(s=u.n()).done;){var l=s.value;this[l].enabled=a}}catch(f){u.e(f)}finally{u.f()}},"batchEnableWithBool")},{key:"batchEnableWithUserValue",value:i(function(o,a){var u=Ne(o),s;try{for(u.s();!(s=u.n()).done;){var l=s.value,f=a[l];this[l].enabled=f!==!1&&f!==void 0}}catch(d){u.e(d)}finally{u.f()}},"batchEnableWithUserValue")},{key:"setupGlobalFilters",value:i(function(o,a,u){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:u;if(o&&o.length){var l=Ne(s),f;try{for(l.s();!(f=l.n()).done;){var d=f.value;this[d].enabled=!1}}catch(z){l.e(z)}finally{l.f()}var y=nH(o,u),m=Ne(y),w;try{for(m.s();!(w=m.n()).done;){var _=xn(w.value,2),T=_[0],R=_[1];Nm(this[T].pick,R),this[T].enabled=!0}}catch(z){m.e(z)}finally{m.f()}}else if(a&&a.length){var E=nH(a,u),A=Ne(E),k;try{for(A.s();!(k=A.n()).done;){var U=xn(k.value,2),G=U[0],M=U[1];Nm(this[G].skip,M)}}catch(z){A.e(z)}finally{A.f()}}},"setupGlobalFilters")},{key:"filterNestedSegmentTags",value:i(function(){var o=this.ifd0,a=this.exif,u=this.xmp,s=this.iptc,l=this.icc;this.makerNote?a.deps.add(37500):a.skip.add(37500),this.userComment?a.deps.add(37510):a.skip.add(37510),u.enabled||o.skip.add(700),s.enabled||o.skip.add(33723),l.enabled||o.skip.add(34675)},"filterNestedSegmentTags")},{key:"traverseTiffDependencyTree",value:i(function(){var o=this,a=this.ifd0,u=this.exif,s=this.gps,l=this.interop;l.needed&&(u.deps.add(40965),a.deps.add(40965)),u.needed&&a.deps.add(34665),s.needed&&a.deps.add(34853),this.tiff.enabled=Dt.some(function(m){return o[m].enabled===!0})||this.makerNote||this.userComment;var f=Ne(Dt),d;try{for(f.s();!(d=f.n()).done;){var y=d.value;this[y].finalizeFilters()}}catch(m){f.e(m)}finally{f.f()}},"traverseTiffDependencyTree")},{key:"onlyTiff",get:i(function(){var o=this;return!SH.map(function(a){return o[a].enabled}).some(function(a){return a===!0})&&this.tiff.enabled},"get")},{key:"checkLoadedPlugins",value:i(function(){var o=Ne(FR),a;try{for(o.s();!(a=o.n()).done;){var u=a.value;this[u].enabled&&!kn.has(u)&&IR("segment parser",u)}}catch(s){o.e(s)}finally{o.f()}},"checkLoadedPlugins")}],[{key:"useCached",value:i(function(o){var a=rH.get(o);return a!==void 0||(a=new this(o),rH.set(o,a)),a},"useCached")}]),r}(PH);function nH(t,e){var r,n,o,a,u=[],s=Ne(e),l;try{for(s.s();!(l=s.n()).done;){o=l.value;var f=Ne((r=NR.get(o),n=[],r)),d;try{for(f.s();!(d=f.n()).done;)a=d.value,(t.includes(a[0])||t.includes(a[1]))&&n.push(a[0])}catch(y){f.e(y)}finally{f.f()}n.length&&u.push([o,n])}}catch(y){s.e(y)}finally{s.f()}return u}i(nH,"D");function _R(t,e){return t!==void 0?t:e!==void 0?e:void 0}i(_R,"$");function Nm(t,e){var r=Ne(e),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;t.add(o)}}catch(a){r.e(a)}finally{r.f()}}i(Nm,"_");Ye(DR,"default",ar);var Gze=function(){function t(e){var r=this;Cn(this,t),Ye(this,"parsers",{}),Ye(this,"output",{}),Ye(this,"errors",[]),Ye(this,"pushToErrors",function(n){return r.errors.push(n)}),this.options=DR.useCached(e)}return i(t,"X"),Fn(t,[{key:"read",value:function(){var e=dt(we().mark(i(function n(o){return we().wrap(i(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,function(s,l){return typeof s=="string"?eH(s,l):Jo&&!Lm&&s instanceof HTMLImageElement?eH(s.src,l):s instanceof Uint8Array||s instanceof ArrayBuffer||s instanceof DataView?new jm(s):Jo&&s instanceof Blob?qR(s,l,"blob",Bze):void Ut("Invalid input argument")}(o,this.options);case 2:this.file=u.sent;case 3:case"end":return u.stop()}},"_callee$"),n,this)},"_callee")));function r(n){return e.apply(this,arguments)}return i(r,"read"),r}()},{key:"setup",value:i(function(){if(!this.fileParser){var r=this.file,n=r.getUint16(0),o=Ne(wH),a;try{for(o.s();!(a=o.n()).done;){var u=xn(a.value,2),s=u[0],l=u[1];if(l.canHandle(r,n))return this.fileParser=new l(this.options,this.file,this.parsers),r[s]=!0}}catch(f){o.e(f)}finally{o.f()}this.file.close&&this.file.close(),Ut("Unknown file format")}},"setup")},{key:"parse",value:function(){var e=dt(we().mark(i(function n(){var o,a,u;return we().wrap(i(function(l){for(;;)switch(l.prev=l.next){case 0:if(o=this.output,a=this.errors,this.setup(),!this.options.silentErrors){l.next=8;break}return l.next=5,this.executeParsers().catch(this.pushToErrors);case 5:a.push.apply(a,Fm(this.fileParser.errors)),l.next=10;break;case 8:return l.next=10,this.executeParsers();case 10:return this.file.close&&this.file.close(),this.options.silentErrors&&a.length>0&&(o.errors=a),l.abrupt("return",bH(u=o)?void 0:u);case 13:case"end":return l.stop()}},"_callee2$"),n,this)},"_callee2")));function r(){return e.apply(this,arguments)}return i(r,"parse"),r}()},{key:"executeParsers",value:function(){var e=dt(we().mark(i(function n(){var o=this,a,u;return we().wrap(i(function(l){for(;;)switch(l.prev=l.next){case 0:return a=this.output,l.next=3,this.fileParser.parse();case 3:return u=Object.values(this.parsers).map(function(){var f=dt(we().mark(i(function d(y){var m;return we().wrap(i(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,y.parse();case 2:m=_.sent,y.assignToOutput(a,m);case 4:case"end":return _.stop()}},"_callee3$"),d)},"_callee3")));return function(d){return f.apply(this,arguments)}}()),this.options.silentErrors&&(u=u.map(function(f){return f.catch(o.pushToErrors)})),l.next=7,Promise.all(u);case 7:case"end":return l.stop()}},"_callee4$"),n,this)},"_callee4")));function r(){return e.apply(this,arguments)}return i(r,"executeParsers"),r}()},{key:"extractThumbnail",value:function(){var e=dt(we().mark(i(function n(){var o,a,u,s,l,f,d;return we().wrap(i(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.setup(),o=this.options,a=this.file,u=kn.get("tiff",o),!a.tiff){m.next=6;break}s={start:0,type:"tiff"},m.next=11;break;case 6:if(m.t0=a.jpeg,!m.t0){m.next=11;break}return m.next=10,this.fileParser.getOrFindSegment("tiff");case 10:s=m.sent;case 11:if(s!==void 0){m.next=13;break}return m.abrupt("return");case 13:return m.next=15,this.fileParser.ensureSegmentChunk(s);case 15:return l=m.sent,f=this.parsers.tiff=new u(l,o,a),m.next=19,f.extractThumbnail();case 19:return d=m.sent,m.abrupt("return",(a.close&&a.close(),d));case 21:case"end":return m.stop()}},"_callee5$"),n,this)},"_callee5")));function r(){return e.apply(this,arguments)}return i(r,"extractThumbnail"),r}()}]),t}(),nl=function(){function t(e){var r=this;Cn(this,t);var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;Ye(this,"errors",[]),Ye(this,"raw",new Map),Ye(this,"handleError",function(a){if(!r.options.silentErrors)throw a;r.errors.push(a.message)}),this.chunk=this.normalizeInput(e),this.file=o,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}return i(t,"H"),Fn(t,[{key:"normalizeInput",value:i(function(r){return r instanceof jm?r:new jm(r)},"normalizeInput")},{key:"translate",value:i(function(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))},"translate")},{key:"output",get:i(function(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0},"get")},{key:"translateBlock",value:i(function(r,n){var o=zze.get(n),a=$ze.get(n),u=NR.get(n),s=this.options[n],l=s.reviveValues&&!!o,f=s.translateValues&&!!a,d=s.translateKeys&&!!u,y={},m=Ne(r),w;try{for(m.s();!(w=m.n()).done;){var _=xn(w.value,2),T=_[0],R=_[1];l&&o.has(T)?R=o.get(T)(R):f&&a.has(T)&&(R=this.translateValue(R,a.get(T))),d&&u.has(T)&&(T=u.get(T)||T),y[T]=R}}catch(E){m.e(E)}finally{m.f()}return y},"translateBlock")},{key:"translateValue",value:i(function(r,n){return n[r]||n.DEFAULT||r},"translateValue")},{key:"assignToOutput",value:i(function(r,n){this.assignObjectToOutput(r,this.constructor.type,n)},"assignToOutput")},{key:"assignObjectToOutput",value:i(function(r,n,o){if(this.globalOptions.mergeOutput)return Object.assign(r,o);r[n]?Object.assign(r[n],o):r[n]=o},"assignObjectToOutput")}],[{key:"findPosition",value:i(function(r,n){var o=r.getUint16(n+2)+2,a=typeof this.headerLength=="function"?this.headerLength(r,n,o):this.headerLength,u=n+a,s=o-a;return{offset:n,length:o,headerLength:a,start:u,size:s,end:u+s}},"findPosition")},{key:"parse",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new this(r,new DR(Ize({},this.type,n)),r).parse()},"parse")}]),t}();Ye(nl,"headerLength",4),Ye(nl,"type",void 0),Ye(nl,"multiSegment",!1),Ye(nl,"canHandle",function(){return!1});function Hze(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}i(Hze,"W");function Vze(t){return t>=224&&t<=239}i(Vze,"Y");function Wze(t,e,r){var n=Ne(kn),o;try{for(n.s();!(o=n.n()).done;){var a=xn(o.value,2),u=a[0],s=a[1];if(s.canHandle(t,e,r))return u}}catch(l){n.e(l)}finally{n.f()}}i(Wze,"G");var iH=function(t){il(r,t);var e=ol(r);function r(){var n;return Cn(this,r),n=e.apply(this,arguments),Ye(qn(n),"appSegments",[]),Ye(qn(n),"jpegSegments",[]),Ye(qn(n),"unknownSegments",[]),n}return i(r,"K"),Fn(r,[{key:"parse",value:function(){var n=dt(we().mark(i(function a(){return we().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.findAppSegments();case 2:return s.next=4,this.readSegments(this.appSegments);case 4:this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments);case 6:case"end":return s.stop()}},"_callee6$"),a,this)},"_callee6")));function o(){return n.apply(this,arguments)}return i(o,"parse"),o}()},{key:"setupSegmentFinderArgs",value:i(function(o){var a=this;o===!0?(this.findAll=!0,this.wanted=new Set(kn.keyList())):(o=o===void 0?kn.keyList().filter(function(u){return a.options[u].enabled}):o.filter(function(u){return a.options[u].enabled&&kn.has(u)}),this.findAll=!1,this.remaining=new Set(o),this.wanted=new Set(o)),this.unfinishedMultiSegment=!1},"setupSegmentFinderArgs")},{key:"findAppSegments",value:function(){var n=dt(we().mark(i(function a(){var u=this,s,l,f,d,y,m,w,_,T,R=arguments;return we().wrap(i(function(A){for(;;)switch(A.prev=A.next){case 0:if(s=R.length>0&&R[0]!==void 0?R[0]:0,l=R.length>1?R[1]:void 0,this.setupSegmentFinderArgs(l),f=this.file,d=this.findAll,y=this.wanted,m=this.remaining,A.t0=!d&&this.file.chunked,!A.t0){A.next=10;break}if(d=Array.from(y).some(function(k){var U=kn.get(k),G=u.options[k];return U.multiSegment&&G.multiSegment}),A.t1=d,!A.t1){A.next=10;break}return A.next=10,this.file.readWhole();case 10:if(s=this.findAppSegmentsInRange(s,f.byteLength),!(!this.options.onlyTiff&&f.chunked)){A.next=30;break}w=!1;case 13:if(!(m.size>0&&!w&&(f.canReadNextChunk||this.unfinishedMultiSegment))){A.next=30;break}if(_=f.nextChunkOffset,T=this.appSegments.some(function(k){return!u.file.available(k.offset||k.start,k.length||k.size)}),!(s>_&&!T)){A.next=21;break}return A.next=18,f.readNextChunk(s);case 18:A.t2=!A.sent,A.next=24;break;case 21:return A.next=23,f.readNextChunk(_);case 23:A.t2=!A.sent;case 24:if(w=A.t2,s=this.findAppSegmentsInRange(s,f.byteLength),s!==void 0){A.next=28;break}return A.abrupt("return");case 28:A.next=13;break;case 30:case"end":return A.stop()}},"_callee7$"),a,this)},"_callee7")));function o(){return n.apply(this,arguments)}return i(o,"findAppSegments"),o}()},{key:"findAppSegmentsInRange",value:i(function(o,a){a-=2;for(var u,s,l,f,d,y,m=this.file,w=this.findAll,_=this.wanted,T=this.remaining,R=this.options;o<a;o++)if(m.getUint8(o)===255){if(u=m.getUint8(o+1),Vze(u)){if(s=m.getUint16(o+2),l=Wze(m,o,s),l&&_.has(l)&&(f=kn.get(l),d=f.findPosition(m,o),y=R[l],d.type=l,this.appSegments.push(d),!w&&(f.multiSegment&&y.multiSegment?(this.unfinishedMultiSegment=d.chunkNumber<d.chunkCount,this.unfinishedMultiSegment||T.delete(l)):T.delete(l),T.size===0)))break;R.recordUnknownSegments&&(d=nl.findPosition(m,o),d.marker=u,this.unknownSegments.push(d)),o+=s+1}else if(Hze(u)){if(s=m.getUint16(o+2),u===218&&R.stopAfterSos!==!1)return;R.recordJpegSegments&&this.jpegSegments.push({offset:o,length:s,marker:u}),o+=s+1}}return o},"findAppSegmentsInRange")},{key:"mergeMultiSegments",value:i(function(){var o=this;if(!!this.appSegments.some(function(u){return u.multiSegment})){var a=function(u,s){for(var l,f,d,y=new Map,m=0;m<u.length;m++)l=u[m],f=l[s],y.has(f)?d=y.get(f):y.set(f,d=[]),d.push(l);return Array.from(y)}(this.appSegments,"type");this.mergedAppSegments=a.map(function(u){var s=xn(u,2),l=s[0],f=s[1],d=kn.get(l,o.options);return d.handleMultiSegments?{type:l,chunk:d.handleMultiSegments(f)}:f[0]})}},"mergeMultiSegments")},{key:"getSegment",value:i(function(o){return this.appSegments.find(function(a){return a.type===o})},"getSegment")},{key:"getOrFindSegment",value:function(){var n=dt(we().mark(i(function a(u){var s;return we().wrap(i(function(f){for(;;)switch(f.prev=f.next){case 0:if(s=this.getSegment(u),f.t0=s===void 0,!f.t0){f.next=6;break}return f.next=5,this.findAppSegments(0,[u]);case 5:s=this.getSegment(u);case 6:return f.abrupt("return",s);case 7:case"end":return f.stop()}},"_callee8$"),a,this)},"_callee8")));function o(a){return n.apply(this,arguments)}return i(o,"getOrFindSegment"),o}()}],[{key:"canHandle",value:i(function(o,a){return a===65496},"canHandle")}]),r}(function(){function t(e,r,n){var o=this;Cn(this,t),Ye(this,"errors",[]),Ye(this,"ensureSegmentChunk",function(){var a=dt(we().mark(i(function u(s){var l,f;return we().wrap(i(function(y){for(;;)switch(y.prev=y.next){case 0:if(l=s.start,f=s.size||65536,!o.file.chunked){y.next=17;break}if(!o.file.available(l,f)){y.next=6;break}s.chunk=o.file.subarray(l,f),y.next=15;break;case 6:return y.prev=6,y.next=9,o.file.readChunk(l,f);case 9:s.chunk=y.sent,y.next=15;break;case 12:y.prev=12,y.t0=y.catch(6),Ut("Couldn't read segment: ".concat(JSON.stringify(s),". ").concat(y.t0.message));case 15:y.next=18;break;case 17:o.file.byteLength>l+f?s.chunk=o.file.subarray(l,f):s.size===void 0?s.chunk=o.file.subarray(l):Ut("Segment unreachable: "+JSON.stringify(s));case 18:return y.abrupt("return",s.chunk);case 19:case"end":return y.stop()}},"_callee9$"),u,null,[[6,12]])},"_callee9")));return function(u){return a.apply(this,arguments)}}()),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=r,this.parsers=n}return i(t,"_class"),Fn(t,[{key:"injectSegment",value:i(function(r,n){this.options[r].enabled&&this.createParser(r,n)},"injectSegment")},{key:"createParser",value:i(function(r,n){var o=new(kn.get(r))(n,this.options,this.file);return this.parsers[r]=o},"createParser")},{key:"createParsers",value:i(function(r){var n=Ne(r),o;try{for(n.s();!(o=n.n()).done;){var a=o.value,u=a.type,s=a.chunk,l=this.options[u];if(l&&l.enabled){var f=this.parsers[u];f&&f.append||f||this.createParser(u,s)}}}catch(d){n.e(d)}finally{n.f()}},"createParsers")},{key:"readSegments",value:function(){var e=dt(we().mark(i(function n(o){var a;return we().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:return a=o.map(this.ensureSegmentChunk),s.next=3,Promise.all(a);case 3:case"end":return s.stop()}},"_callee10$"),n,this)},"_callee10")));function r(n){return e.apply(this,arguments)}return i(r,"readSegments"),r}()}]),t}());Ye(iH,"type","jpeg"),wH.set("jpeg",iH);var Kze=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],Yze=function(t){il(r,t);var e=ol(r);function r(){return Cn(this,r),e.apply(this,arguments)}return i(r,"J"),Fn(r,[{key:"parseHeader",value:i(function(){var o=this.chunk.getUint16();o===18761?this.le=!0:o===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0},"parseHeader")},{key:"parseTags",value:i(function(o,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Map,s=this.options[a],l=s.pick,f=s.skip;l=new Set(l);var d=l.size>0,y=f.size===0,m=this.chunk.getUint16(o);o+=2;for(var w=0;w<m;w++){var _=this.chunk.getUint16(o);if(d){if(l.has(_)&&(u.set(_,this.parseTag(o,_,a)),l.delete(_),l.size===0))break}else!y&&f.has(_)||u.set(_,this.parseTag(o,_,a));o+=12}return u},"parseTags")},{key:"parseTag",value:i(function(o,a,u){var s=this.chunk,l=s.getUint16(o+2),f=s.getUint32(o+4),d=Kze[l];if(d*f<=4?o+=8:o=s.getUint32(o+8),(l<1||l>13)&&Ut("Invalid TIFF value type. block: ".concat(u.toUpperCase(),", tag: ").concat(a.toString(16),", type: ").concat(l,", offset ").concat(o)),o>s.byteLength&&Ut("Invalid TIFF value offset. block: ".concat(u.toUpperCase(),", tag: ").concat(a.toString(16),", type: ").concat(l,", offset ").concat(o," is outside of chunk size ").concat(s.byteLength)),l===1)return s.getUint8Array(o,f);if(l===2)return(y=function(R){for(;R.endsWith("\0");)R=R.slice(0,-1);return R}(y=s.getString(o,f)).trim())===""?void 0:y;var y;if(l===7)return s.getUint8Array(o,f);if(f===1)return this.parseTagValue(l,o);{for(var m=function(R){switch(R){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(l),w=new m(f),_=d,T=0;T<f;T++)w[T]=this.parseTagValue(l,o),o+=_;return w}},"parseTag")},{key:"parseTagValue",value:i(function(o,a){var u=this.chunk;switch(o){case 1:return u.getUint8(a);case 3:return u.getUint16(a);case 4:case 13:return u.getUint32(a);case 5:return u.getUint32(a)/u.getUint32(a+4);case 6:return u.getInt8(a);case 8:return u.getInt16(a);case 9:return u.getInt32(a);case 10:return u.getInt32(a)/u.getInt32(a+4);case 11:return u.getFloat(a);case 12:return u.getDouble(a);default:Ut("Invalid tiff type ".concat(o))}},"parseTagValue")}]),r}(nl),PR=function(t){il(r,t);var e=ol(r);function r(){return Cn(this,r),e.apply(this,arguments)}return i(r,"q"),Fn(r,[{key:"parse",value:function(){var n=dt(we().mark(i(function a(){var u;return we().wrap(i(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.parseHeader(),u=this.options,l.t0=u.ifd0.enabled,!l.t0){l.next=6;break}return l.next=6,this.parseIfd0Block();case 6:if(l.t1=u.exif.enabled,!l.t1){l.next=10;break}return l.next=10,this.safeParse("parseExifBlock");case 10:if(l.t2=u.gps.enabled,!l.t2){l.next=14;break}return l.next=14,this.safeParse("parseGpsBlock");case 14:if(l.t3=u.interop.enabled,!l.t3){l.next=18;break}return l.next=18,this.safeParse("parseInteropBlock");case 18:if(l.t4=u.ifd1.enabled,!l.t4){l.next=22;break}return l.next=22,this.safeParse("parseThumbnailBlock");case 22:return l.abrupt("return",this.createOutput());case 23:case"end":return l.stop()}},"_callee11$"),a,this)},"_callee11")));function o(){return n.apply(this,arguments)}return i(o,"parse"),o}()},{key:"safeParse",value:i(function(o){var a=this[o]();return a.catch!==void 0&&(a=a.catch(this.handleError)),a},"safeParse")},{key:"findIfd0Offset",value:i(function(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))},"findIfd0Offset")},{key:"findIfd1Offset",value:i(function(){if(this.ifd1Offset===void 0){this.findIfd0Offset();var o=this.chunk.getUint16(this.ifd0Offset),a=this.ifd0Offset+2+12*o;this.ifd1Offset=this.chunk.getUint32(a)}},"findIfd1Offset")},{key:"parseBlock",value:i(function(o,a){var u=new Map;return this[a]=u,this.parseTags(o,a,u),u},"parseBlock")},{key:"parseIfd0Block",value:function(){var n=dt(we().mark(i(function a(){var u,s;return we().wrap(i(function(f){for(;;)switch(f.prev=f.next){case 0:if(!this.ifd0){f.next=2;break}return f.abrupt("return");case 2:if(u=this.file,this.findIfd0Offset(),this.ifd0Offset<8&&Ut("Malformed EXIF data"),!u.chunked&&this.ifd0Offset>u.byteLength&&Ut("IFD0 offset points to outside of file.\nthis.ifd0Offset: ".concat(this.ifd0Offset,", file.byteLength: ").concat(u.byteLength)),f.t0=u.tiff,!f.t0){f.next=10;break}return f.next=10,u.ensureChunk(this.ifd0Offset,QG(this.options));case 10:return s=this.parseBlock(this.ifd0Offset,"ifd0"),f.abrupt("return",s.size!==0?(this.exifOffset=s.get(34665),this.interopOffset=s.get(40965),this.gpsOffset=s.get(34853),this.xmp=s.get(700),this.iptc=s.get(33723),this.icc=s.get(34675),this.options.sanitize&&(s.delete(34665),s.delete(40965),s.delete(34853),s.delete(700),s.delete(33723),s.delete(34675)),s):void 0);case 12:case"end":return f.stop()}},"_callee12$"),a,this)},"_callee12")));function o(){return n.apply(this,arguments)}return i(o,"parseIfd0Block"),o}()},{key:"parseExifBlock",value:function(){var n=dt(we().mark(i(function a(){var u;return we().wrap(i(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.exif){l.next=2;break}return l.abrupt("return");case 2:if(l.t0=this.ifd0,l.t0){l.next=6;break}return l.next=6,this.parseIfd0Block();case 6:if(this.exifOffset!==void 0){l.next=8;break}return l.abrupt("return");case 8:if(l.t1=this.file.tiff,!l.t1){l.next=12;break}return l.next=12,this.file.ensureChunk(this.exifOffset,QG(this.options));case 12:return u=this.parseBlock(this.exifOffset,"exif"),l.abrupt("return",(this.interopOffset||(this.interopOffset=u.get(40965)),this.makerNote=u.get(37500),this.userComment=u.get(37510),this.options.sanitize&&(u.delete(40965),u.delete(37500),u.delete(37510)),this.unpack(u,41728),this.unpack(u,41729),u));case 14:case"end":return l.stop()}},"_callee13$"),a,this)},"_callee13")));function o(){return n.apply(this,arguments)}return i(o,"parseExifBlock"),o}()},{key:"unpack",value:i(function(o,a){var u=o.get(a);u&&u.length===1&&o.set(a,u[0])},"unpack")},{key:"parseGpsBlock",value:function(){var n=dt(we().mark(i(function a(){var u;return we().wrap(i(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.gps){l.next=2;break}return l.abrupt("return");case 2:if(l.t0=this.ifd0,l.t0){l.next=6;break}return l.next=6,this.parseIfd0Block();case 6:if(this.gpsOffset!==void 0){l.next=8;break}return l.abrupt("return");case 8:return u=this.parseBlock(this.gpsOffset,"gps"),l.abrupt("return",(u&&u.has(2)&&u.has(4)&&(u.set("latitude",oH.apply(void 0,Fm(u.get(2)).concat([u.get(1)]))),u.set("longitude",oH.apply(void 0,Fm(u.get(4)).concat([u.get(3)])))),u));case 10:case"end":return l.stop()}},"_callee14$"),a,this)},"_callee14")));function o(){return n.apply(this,arguments)}return i(o,"parseGpsBlock"),o}()},{key:"parseInteropBlock",value:function(){var n=dt(we().mark(i(function a(){return we().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.t0=!this.interop,!s.t0){s.next=11;break}if(s.t1=this.ifd0,s.t1){s.next=6;break}return s.next=6,this.parseIfd0Block();case 6:if(s.t2=this.interopOffset!==void 0||this.exif,s.t2){s.next=10;break}return s.next=10,this.parseExifBlock();case 10:s.t0=this.interopOffset!==void 0;case 11:if(!s.t0){s.next=13;break}return s.abrupt("return",this.parseBlock(this.interopOffset,"interop"));case 13:case"end":return s.stop()}},"_callee15$"),a,this)},"_callee15")));function o(){return n.apply(this,arguments)}return i(o,"parseInteropBlock"),o}()},{key:"parseThumbnailBlock",value:function(){var n=dt(we().mark(i(function a(){var u,s=arguments;return we().wrap(i(function(f){for(;;)switch(f.prev=f.next){case 0:if(u=s.length>0&&s[0]!==void 0&&s[0],!(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||u))){f.next=3;break}return f.abrupt("return",(this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1));case 3:case"end":return f.stop()}},"_callee16$"),a,this)},"_callee16")));function o(){return n.apply(this,arguments)}return i(o,"parseThumbnailBlock"),o}()},{key:"extractThumbnail",value:function(){var n=dt(we().mark(i(function a(){var u,s;return we().wrap(i(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.headerParsed||this.parseHeader(),f.t0=this.ifd1Parsed,f.t0){f.next=5;break}return f.next=5,this.parseThumbnailBlock(!0);case 5:if(this.ifd1!==void 0){f.next=7;break}return f.abrupt("return");case 7:return u=this.ifd1.get(513),s=this.ifd1.get(514),f.abrupt("return",this.chunk.getUint8Array(u,s));case 9:case"end":return f.stop()}},"_callee17$"),a,this)},"_callee17")));function o(){return n.apply(this,arguments)}return i(o,"extractThumbnail"),o}()},{key:"image",get:i(function(){return this.ifd0},"get")},{key:"thumbnail",get:i(function(){return this.ifd1},"get")},{key:"createOutput",value:i(function(){var o,a,u,s={},l=Ne(Dt),f;try{for(l.s();!(f=l.n()).done;)if(a=f.value,o=this[a],!bH(o))if(u=this.canTranslate?this.translateBlock(o,a):Object.fromEntries(o),this.options.mergeOutput){if(a==="ifd1")continue;Object.assign(s,u)}else s[a]=u}catch(d){l.e(d)}finally{l.f()}return this.makerNote&&(s.makerNote=this.makerNote),this.userComment&&(s.userComment=this.userComment),s},"createOutput")},{key:"assignToOutput",value:i(function(o,a){if(this.globalOptions.mergeOutput)Object.assign(o,a);else for(var u=0,s=Object.entries(a);u<s.length;u++){var l=xn(s[u],2),f=l[0],d=l[1];this.assignObjectToOutput(o,f,d)}},"assignToOutput")}],[{key:"canHandle",value:i(function(o,a){return o.getUint8(a+1)===225&&o.getUint32(a+4)===1165519206&&o.getUint16(a+8)===0},"canHandle")}]),r}(Yze);function oH(t,e,r,n){var o=t+e/60+r/3600;return n!=="S"&&n!=="W"||(o*=-1),o}i(oH,"Q");Ye(PR,"type","tiff"),Ye(PR,"headerLength",10),kn.set("tiff",PR);var Xze=Object.assign({},{ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},{firstChunkSize:4e4,ifd0:[274]}),Jze=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),up=!0,sp=!0;(typeof navigator=="undefined"?"undefined":Xo(navigator))=="object"&&(ai=navigator.userAgent,ai.includes("iPad")||ai.includes("iPhone")?(ER=ai.match(/OS (\d+)_(\d+)/),ER&&(RR=xn(ER,3),aH=RR[1],Jo=RR[2],Lm=Number(aH)+.1*Number(Jo),up=Lm<13.4,sp=!1)):ai.includes("OS X 10")&&(uH=ai.match(/OS X 10[_.](\d+)/),sH=xn(uH,2),lH=sH[1],up=sp=Number(lH)<15),ai.includes("Chrome/")?(cH=ai.match(/Chrome\/(\d+)/),fH=xn(cH,2),pH=fH[1],up=sp=Number(pH)<81):ai.includes("Firefox/")&&(dH=ai.match(/Firefox\/(\d+)/),hH=xn(dH,2),vH=hH[1],up=sp=Number(vH)<77));var ai,ER,RR,aH,Jo,Lm,uH,sH,lH,cH,fH,pH,dH,hH,vH;UR.rotation=function(){var t=dt(we().mark(i(function e(r){var n;return we().wrap(i(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,function(){var u=dt(we().mark(i(function s(l){var f,d;return we().wrap(i(function(m){for(;;)switch(m.prev=m.next){case 0:return f=new Gze(Xze),m.next=3,f.read(l);case 3:return m.next=5,f.parse();case 5:if(d=m.sent,!(d&&d.ifd0)){m.next=8;break}return m.abrupt("return",d.ifd0[274]);case 8:case"end":return m.stop()}},"_callee18$"),s)},"_callee18")));return function(s){return u.apply(this,arguments)}}()(r);case 2:return n=a.sent,a.abrupt("return",Object.assign({canvas:up,css:sp},Jze[n]));case 4:case"end":return a.stop()}},"_callee19$"),e)},"_callee19")));return function(e){return t.apply(this,arguments)}}()});var HH=j(function(Udt,GH){function lu(t){return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}i(lu,"_typeof");var IGe="Expected a function",$H=0/0,qGe="[object Symbol]",kGe=/^\s+|\s+$/g,xGe=/^[-+]0x[0-9a-f]+$/i,CGe=/^0b[01]+$/i,FGe=/^0o[0-7]+$/i,LGe=parseInt,jGe=(typeof global=="undefined"?"undefined":lu(global))=="object"&&global&&global.Object===Object&&global,NGe=(typeof self=="undefined"?"undefined":lu(self))=="object"&&self&&self.Object===Object&&self,DGe=jGe||NGe||Function("return this")(),UGe=Object.prototype,MGe=UGe.toString,BGe=Math.max,$Ge=Math.min,nT=i(function(){return DGe.Date.now()},"now");function zGe(t,e,r){var n,o,a,u,s,l,f=0,d=!1,y=!1,m=!0;if(typeof t!="function")throw new TypeError(IGe);e=zH(e)||0,iT(r)&&(d=!!r.leading,y="maxWait"in r,a=y?BGe(zH(r.maxWait)||0,e):a,m="trailing"in r?!!r.trailing:m);function w(M){var z=n,W=o;return n=o=void 0,f=M,u=t.apply(W,z),u}i(w,"invokeFunc");function _(M){return f=M,s=setTimeout(E,e),d?w(M):u}i(_,"leadingEdge");function T(M){var z=M-l,W=M-f,K=e-z;return y?$Ge(K,a-W):K}i(T,"remainingWait");function R(M){var z=M-l,W=M-f;return l===void 0||z>=e||z<0||y&&W>=a}i(R,"shouldInvoke");function E(){var M=nT();if(R(M))return A(M);s=setTimeout(E,T(M))}i(E,"timerExpired");function A(M){return s=void 0,m&&n?w(M):(n=o=void 0,u)}i(A,"trailingEdge");function k(){s!==void 0&&clearTimeout(s),f=0,n=l=o=s=void 0}i(k,"cancel");function U(){return s===void 0?u:A(nT())}i(U,"flush");function G(){var M=nT(),z=R(M);if(n=arguments,o=this,l=M,z){if(s===void 0)return _(l);if(y)return s=setTimeout(E,e),w(l)}return s===void 0&&(s=setTimeout(E,e)),u}return i(G,"debounced"),G.cancel=k,G.flush=U,G}i(zGe,"debounce");function iT(t){var e=lu(t);return!!t&&(e=="object"||e=="function")}i(iT,"isObject");function GGe(t){return!!t&&lu(t)=="object"}i(GGe,"isObjectLike");function HGe(t){return lu(t)=="symbol"||GGe(t)&&MGe.call(t)==qGe}i(HGe,"isSymbol");function zH(t){if(typeof t=="number")return t;if(HGe(t))return $H;if(iT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=iT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(kGe,"");var r=CGe.test(t);return r||FGe.test(t)?LGe(t.slice(2),r?2:8):xGe.test(t)?$H:+t}i(zH,"toNumber");GH.exports=zGe});var KH=j(function(Gdt,WH){WH.exports=i(function(e,r){if(e===r)return!0;for(var n in e)if(!(n in r))return!1;for(var n in r)if(e[n]!==r[n])return!1;return!0},"isShallowEqual")});var JH=j(function(oht,XH){function cT(t){return cT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cT(t)}i(cT,"_typeof");XH.exports=i(function(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got "+cT(e));var r=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(r&&(e=-e),e<1)return(r?"-":"")+e+" B";var o=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,o));var a=n[o];return e>=10||e%1===0?(r?"-":"")+e.toFixed(0)+" "+a:(r?"-":"")+e.toFixed(1)+" "+a},"prettierBytes")});var YV=j(function(lg,HT){function GT(t){return GT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GT(t)}i(GT,"_typeof2");(function(t,e){(typeof lg=="undefined"?"undefined":GT(lg))==="object"&&typeof HT!="undefined"?HT.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.Cropper=e())})(lg,function(){"use strict";function t(B){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=i(function(F){return typeof F},"_typeof"):t=i(function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},"_typeof"),t(B)}i(t,"_typeof");function e(B,q){if(!(B instanceof q))throw new TypeError("Cannot call a class as a function")}i(e,"_classCallCheck");function r(B,q){for(var F=0;F<q.length;F++){var C=q[F];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(B,C.key,C)}}i(r,"_defineProperties");function n(B,q,F){return q&&r(B.prototype,q),F&&r(B,F),B}i(n,"_createClass");function o(B,q,F){return q in B?Object.defineProperty(B,q,{value:F,enumerable:!0,configurable:!0,writable:!0}):B[q]=F,B}i(o,"_defineProperty");function a(B,q){var F=Object.keys(B);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(B);q&&(C=C.filter(function(H){return Object.getOwnPropertyDescriptor(B,H).enumerable})),F.push.apply(F,C)}return F}i(a,"ownKeys");function u(B){for(var q=1;q<arguments.length;q++){var F=arguments[q]!=null?arguments[q]:{};q%2?a(Object(F),!0).forEach(function(C){o(B,C,F[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(F)):a(Object(F)).forEach(function(C){Object.defineProperty(B,C,Object.getOwnPropertyDescriptor(F,C))})}return B}i(u,"_objectSpread2");function s(B){return l(B)||f(B)||d(B)||m()}i(s,"_toConsumableArray");function l(B){if(Array.isArray(B))return y(B)}i(l,"_arrayWithoutHoles");function f(B){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(B))return Array.from(B)}i(f,"_iterableToArray");function d(B,q){if(!!B){if(typeof B=="string")return y(B,q);var F=Object.prototype.toString.call(B).slice(8,-1);if(F==="Object"&&B.constructor&&(F=B.constructor.name),F==="Map"||F==="Set")return Array.from(B);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return y(B,q)}}i(d,"_unsupportedIterableToArray");function y(B,q){(q==null||q>B.length)&&(q=B.length);for(var F=0,C=new Array(q);F<q;F++)C[F]=B[F];return C}i(y,"_arrayLikeToArray");function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(m,"_nonIterableSpread");var w=typeof window!="undefined"&&typeof window.document!="undefined",_=w?window:{},T=w&&_.document.documentElement?"ontouchstart"in _.document.documentElement:!1,R=w?"PointerEvent"in _:!1,E="cropper",A="all",k="crop",U="move",G="zoom",M="e",z="w",W="s",K="n",p="ne",c="nw",h="se",v="sw",g="".concat(E,"-crop"),b="".concat(E,"-disabled"),P="".concat(E,"-hidden"),x="".concat(E,"-hide"),L="".concat(E,"-invisible"),S="".concat(E,"-modal"),I="".concat(E,"-move"),N="".concat(E,"Action"),re="".concat(E,"Preview"),oe="crop",Q="move",Y="none",Xt="crop",Ct="cropend",Jt="cropmove",Bu="cropstart",Ll="dblclick",Ld=T?"touchstart":"mousedown",Bk=T?"touchmove":"mousemove",Qb=T?"touchend touchcancel":"mouseup",$k=R?"pointerdown":Ld,zk=R?"pointermove":Bk,Gk=R?"pointerup pointercancel":Qb,Hk="ready",Vk="resize",Wk="wheel",Zb="zoom",Kk="image/jpeg",LQ=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,jQ=/^data:/,NQ=/^data:image\/jpeg;base64,/,DQ=/^img|canvas$/i,Yk={viewMode:0,dragMode:oe,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},UQ='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',MQ=Number.isNaN||_.isNaN;function Ce(B){return typeof B=="number"&&!MQ(B)}i(Ce,"isNumber");var Xk=i(function(q){return q>0&&q<1/0},"isPositiveNumber");function ew(B){return typeof B=="undefined"}i(ew,"isUndefined");function la(B){return t(B)==="object"&&B!==null}i(la,"isObject");var BQ=Object.prototype.hasOwnProperty;function $u(B){if(!la(B))return!1;try{var q=B.constructor,F=q.prototype;return q&&F&&BQ.call(F,"isPrototypeOf")}catch(C){return!1}}i($u,"isPlainObject");function dr(B){return typeof B=="function"}i(dr,"isFunction");var $Q=Array.prototype.slice;function Jk(B){return Array.from?Array.from(B):$Q.call(B)}i(Jk,"toArray");function yt(B,q){return B&&dr(q)&&(Array.isArray(B)||Ce(B.length)?Jk(B).forEach(function(F,C){q.call(B,F,C,B)}):la(B)&&Object.keys(B).forEach(function(F){q.call(B,B[F],F,B)})),B}i(yt,"forEach");var Ze=Object.assign||i(function(q){for(var F=arguments.length,C=new Array(F>1?F-1:0),H=1;H<F;H++)C[H-1]=arguments[H];return la(q)&&C.length>0&&C.forEach(function($){la($)&&Object.keys($).forEach(function(V){q[V]=$[V]})}),q},"assign"),zQ=/\.\d*(?:0|9){12}\d*$/;function zu(B){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return zQ.test(B)?Math.round(B*q)/q:B}i(zu,"normalizeDecimalNumber");var GQ=/^width|height|left|top|marginLeft|marginTop$/;function fo(B,q){var F=B.style;yt(q,function(C,H){GQ.test(H)&&Ce(C)&&(C="".concat(C,"px")),F[H]=C})}i(fo,"setStyle");function HQ(B,q){return B.classList?B.classList.contains(q):B.className.indexOf(q)>-1}i(HQ,"hasClass");function Ft(B,q){if(!!q){if(Ce(B.length)){yt(B,function(C){Ft(C,q)});return}if(B.classList){B.classList.add(q);return}var F=B.className.trim();F?F.indexOf(q)<0&&(B.className="".concat(F," ").concat(q)):B.className=q}}i(Ft,"addClass");function Un(B,q){if(!!q){if(Ce(B.length)){yt(B,function(F){Un(F,q)});return}if(B.classList){B.classList.remove(q);return}B.className.indexOf(q)>=0&&(B.className=B.className.replace(q,""))}}i(Un,"removeClass");function Gu(B,q,F){if(!!q){if(Ce(B.length)){yt(B,function(C){Gu(C,q,F)});return}F?Ft(B,q):Un(B,q)}}i(Gu,"toggleClass");var VQ=/([a-z\d])([A-Z])/g;function tw(B){return B.replace(VQ,"$1-$2").toLowerCase()}i(tw,"toParamCase");function rw(B,q){return la(B[q])?B[q]:B.dataset?B.dataset[q]:B.getAttribute("data-".concat(tw(q)))}i(rw,"getData");function jl(B,q,F){la(F)?B[q]=F:B.dataset?B.dataset[q]=F:B.setAttribute("data-".concat(tw(q)),F)}i(jl,"setData");function WQ(B,q){if(la(B[q]))try{delete B[q]}catch(F){B[q]=void 0}else if(B.dataset)try{delete B.dataset[q]}catch(F){B.dataset[q]=void 0}else B.removeAttribute("data-".concat(tw(q)))}i(WQ,"removeData");var Qk=/\s\s*/,Zk=function(){var B=!1;if(w){var q=!1,F=i(function(){},"listener"),C=Object.defineProperty({},"once",{get:i(function(){return B=!0,q},"get"),set:i(function($){q=$},"set")});_.addEventListener("test",F,C),_.removeEventListener("test",F,C)}return B}();function hn(B,q,F){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},H=F;q.trim().split(Qk).forEach(function($){if(!Zk){var V=B.listeners;V&&V[$]&&V[$][F]&&(H=V[$][F],delete V[$][F],Object.keys(V[$]).length===0&&delete V[$],Object.keys(V).length===0&&delete B.listeners)}B.removeEventListener($,H,C)})}i(hn,"removeListener");function Kr(B,q,F){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},H=F;q.trim().split(Qk).forEach(function($){if(C.once&&!Zk){var V=B.listeners,X=V===void 0?{}:V;H=i(function(){delete X[$][F],B.removeEventListener($,H,C);for(var ee=arguments.length,Z=new Array(ee),J=0;J<ee;J++)Z[J]=arguments[J];F.apply(B,Z)},"handler"),X[$]||(X[$]={}),X[$][F]&&B.removeEventListener($,X[$][F],C),X[$][F]=H,B.listeners=X}B.addEventListener($,H,C)})}i(Kr,"addListener");function Hu(B,q,F){var C;return dr(Event)&&dr(CustomEvent)?C=new CustomEvent(q,{detail:F,bubbles:!0,cancelable:!0}):(C=document.createEvent("CustomEvent"),C.initCustomEvent(q,!0,!0,F)),B.dispatchEvent(C)}i(Hu,"dispatchEvent");function e2(B){var q=B.getBoundingClientRect();return{left:q.left+(window.pageXOffset-document.documentElement.clientLeft),top:q.top+(window.pageYOffset-document.documentElement.clientTop)}}i(e2,"getOffset");var nw=_.location,KQ=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function t2(B){var q=B.match(KQ);return q!==null&&(q[1]!==nw.protocol||q[2]!==nw.hostname||q[3]!==nw.port)}i(t2,"isCrossOriginURL");function r2(B){var q="timestamp=".concat(new Date().getTime());return B+(B.indexOf("?")===-1?"?":"&")+q}i(r2,"addTimestamp");function Nl(B){var q=B.rotate,F=B.scaleX,C=B.scaleY,H=B.translateX,$=B.translateY,V=[];Ce(H)&&H!==0&&V.push("translateX(".concat(H,"px)")),Ce($)&&$!==0&&V.push("translateY(".concat($,"px)")),Ce(q)&&q!==0&&V.push("rotate(".concat(q,"deg)")),Ce(F)&&F!==1&&V.push("scaleX(".concat(F,")")),Ce(C)&&C!==1&&V.push("scaleY(".concat(C,")"));var X=V.length?V.join(" "):"none";return{WebkitTransform:X,msTransform:X,transform:X}}i(Nl,"getTransforms");function YQ(B){var q=u({},B),F=[];return yt(B,function(C,H){delete q[H],yt(q,function($){var V=Math.abs(C.startX-$.startX),X=Math.abs(C.startY-$.startY),ie=Math.abs(C.endX-$.endX),ee=Math.abs(C.endY-$.endY),Z=Math.sqrt(V*V+X*X),J=Math.sqrt(ie*ie+ee*ee),ne=(J-Z)/Z;F.push(ne)})}),F.sort(function(C,H){return Math.abs(C)<Math.abs(H)}),F[0]}i(YQ,"getMaxZoomRatio");function jd(B,q){var F=B.pageX,C=B.pageY,H={endX:F,endY:C};return q?H:u({startX:F,startY:C},H)}i(jd,"getPointer");function XQ(B){var q=0,F=0,C=0;return yt(B,function(H){var $=H.startX,V=H.startY;q+=$,F+=V,C+=1}),q/=C,F/=C,{pageX:q,pageY:F}}i(XQ,"getPointersCenter");function po(B){var q=B.aspectRatio,F=B.height,C=B.width,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",$=Xk(C),V=Xk(F);if($&&V){var X=F*q;H==="contain"&&X>C||H==="cover"&&X<C?F=C/q:C=F*q}else $?F=C/q:V&&(C=F*q);return{width:C,height:F}}i(po,"getAdjustedSizes");function JQ(B){var q=B.width,F=B.height,C=B.degree;if(C=Math.abs(C)%180,C===90)return{width:F,height:q};var H=C%90*Math.PI/180,$=Math.sin(H),V=Math.cos(H),X=q*V+F*$,ie=q*$+F*V;return C>90?{width:ie,height:X}:{width:X,height:ie}}i(JQ,"getRotatedSizes");function QQ(B,q,F,C){var H=q.aspectRatio,$=q.naturalWidth,V=q.naturalHeight,X=q.rotate,ie=X===void 0?0:X,ee=q.scaleX,Z=ee===void 0?1:ee,J=q.scaleY,ne=J===void 0?1:J,Ue=F.aspectRatio,je=F.naturalWidth,et=F.naturalHeight,ze=C.fillColor,Rt=ze===void 0?"transparent":ze,Lt=C.imageSmoothingEnabled,mt=Lt===void 0?!0:Lt,vi=C.imageSmoothingQuality,qr=vi===void 0?"low":vi,ue=C.maxWidth,Ge=ue===void 0?1/0:ue,Tt=C.maxHeight,Yr=Tt===void 0?1/0:Tt,yi=C.minWidth,ca=yi===void 0?0:yi,fa=C.minHeight,ho=fa===void 0?0:fa,Mn=document.createElement("canvas"),hr=Mn.getContext("2d"),pa=po({aspectRatio:Ue,width:Ge,height:Yr}),Nd=po({aspectRatio:Ue,width:ca,height:ho},"cover"),iw=Math.min(pa.width,Math.max(Nd.width,je)),ow=Math.min(pa.height,Math.max(Nd.height,et)),o2=po({aspectRatio:H,width:Ge,height:Yr}),a2=po({aspectRatio:H,width:ca,height:ho},"cover"),u2=Math.min(o2.width,Math.max(a2.width,$)),s2=Math.min(o2.height,Math.max(a2.height,V)),pZ=[-u2/2,-s2/2,u2,s2];return Mn.width=zu(iw),Mn.height=zu(ow),hr.fillStyle=Rt,hr.fillRect(0,0,iw,ow),hr.save(),hr.translate(iw/2,ow/2),hr.rotate(ie*Math.PI/180),hr.scale(Z,ne),hr.imageSmoothingEnabled=mt,hr.imageSmoothingQuality=qr,hr.drawImage.apply(hr,[B].concat(s(pZ.map(function(dZ){return Math.floor(zu(dZ))})))),hr.restore(),Mn}i(QQ,"getSourceCanvas");var n2=String.fromCharCode;function ZQ(B,q,F){var C="";F+=q;for(var H=q;H<F;H+=1)C+=n2(B.getUint8(H));return C}i(ZQ,"getStringFromCharCode");var eZ=/^data:.*,/;function tZ(B){var q=B.replace(eZ,""),F=atob(q),C=new ArrayBuffer(F.length),H=new Uint8Array(C);return yt(H,function($,V){H[V]=F.charCodeAt(V)}),C}i(tZ,"dataURLToArrayBuffer");function rZ(B,q){for(var F=[],C=8192,H=new Uint8Array(B);H.length>0;)F.push(n2.apply(null,Jk(H.subarray(0,C)))),H=H.subarray(C);return"data:".concat(q,";base64,").concat(btoa(F.join("")))}i(rZ,"arrayBufferToDataURL");function nZ(B){var q=new DataView(B),F;try{var C,H,$;if(q.getUint8(0)===255&&q.getUint8(1)===216)for(var V=q.byteLength,X=2;X+1<V;){if(q.getUint8(X)===255&&q.getUint8(X+1)===225){H=X;break}X+=1}if(H){var ie=H+4,ee=H+10;if(ZQ(q,ie,4)==="Exif"){var Z=q.getUint16(ee);if(C=Z===18761,(C||Z===19789)&&q.getUint16(ee+2,C)===42){var J=q.getUint32(ee+4,C);J>=8&&($=ee+J)}}}if($){var ne=q.getUint16($,C),Ue,je;for(je=0;je<ne;je+=1)if(Ue=$+je*12+2,q.getUint16(Ue,C)===274){Ue+=8,F=q.getUint16(Ue,C),q.setUint16(Ue,1,C);break}}}catch(et){F=1}return F}i(nZ,"resetAndGetOrientation");function iZ(B){var q=0,F=1,C=1;switch(B){case 2:F=-1;break;case 3:q=-180;break;case 4:C=-1;break;case 5:q=90,C=-1;break;case 6:q=90;break;case 7:q=90,F=-1;break;case 8:q=-90;break}return{rotate:q,scaleX:F,scaleY:C}}i(iZ,"parseOrientation");var oZ={render:i(function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},"render"),initContainer:i(function(){var q=this.element,F=this.options,C=this.container,H=this.cropper;Ft(H,P),Un(q,P);var $={width:Math.max(C.offsetWidth,Number(F.minContainerWidth)||200),height:Math.max(C.offsetHeight,Number(F.minContainerHeight)||100)};this.containerData=$,fo(H,{width:$.width,height:$.height}),Ft(q,P),Un(H,P)},"initContainer"),initCanvas:i(function(){var q=this.containerData,F=this.imageData,C=this.options.viewMode,H=Math.abs(F.rotate)%180===90,$=H?F.naturalHeight:F.naturalWidth,V=H?F.naturalWidth:F.naturalHeight,X=$/V,ie=q.width,ee=q.height;q.height*X>q.width?C===3?ie=q.height*X:ee=q.width/X:C===3?ee=q.width/X:ie=q.height*X;var Z={aspectRatio:X,naturalWidth:$,naturalHeight:V,width:ie,height:ee};Z.left=(q.width-ie)/2,Z.top=(q.height-ee)/2,Z.oldLeft=Z.left,Z.oldTop=Z.top,this.canvasData=Z,this.limited=C===1||C===2,this.limitCanvas(!0,!0),this.initialImageData=Ze({},F),this.initialCanvasData=Ze({},Z)},"initCanvas"),limitCanvas:i(function(q,F){var C=this.options,H=this.containerData,$=this.canvasData,V=this.cropBoxData,X=C.viewMode,ie=$.aspectRatio,ee=this.cropped&&V;if(q){var Z=Number(C.minCanvasWidth)||0,J=Number(C.minCanvasHeight)||0;X>1?(Z=Math.max(Z,H.width),J=Math.max(J,H.height),X===3&&(J*ie>Z?Z=J*ie:J=Z/ie)):X>0&&(Z?Z=Math.max(Z,ee?V.width:0):J?J=Math.max(J,ee?V.height:0):ee&&(Z=V.width,J=V.height,J*ie>Z?Z=J*ie:J=Z/ie));var ne=po({aspectRatio:ie,width:Z,height:J});Z=ne.width,J=ne.height,$.minWidth=Z,$.minHeight=J,$.maxWidth=1/0,$.maxHeight=1/0}if(F)if(X>(ee?0:1)){var Ue=H.width-$.width,je=H.height-$.height;$.minLeft=Math.min(0,Ue),$.minTop=Math.min(0,je),$.maxLeft=Math.max(0,Ue),$.maxTop=Math.max(0,je),ee&&this.limited&&($.minLeft=Math.min(V.left,V.left+(V.width-$.width)),$.minTop=Math.min(V.top,V.top+(V.height-$.height)),$.maxLeft=V.left,$.maxTop=V.top,X===2&&($.width>=H.width&&($.minLeft=Math.min(0,Ue),$.maxLeft=Math.max(0,Ue)),$.height>=H.height&&($.minTop=Math.min(0,je),$.maxTop=Math.max(0,je))))}else $.minLeft=-$.width,$.minTop=-$.height,$.maxLeft=H.width,$.maxTop=H.height},"limitCanvas"),renderCanvas:i(function(q,F){var C=this.canvasData,H=this.imageData;if(F){var $=JQ({width:H.naturalWidth*Math.abs(H.scaleX||1),height:H.naturalHeight*Math.abs(H.scaleY||1),degree:H.rotate||0}),V=$.width,X=$.height,ie=C.width*(V/C.naturalWidth),ee=C.height*(X/C.naturalHeight);C.left-=(ie-C.width)/2,C.top-=(ee-C.height)/2,C.width=ie,C.height=ee,C.aspectRatio=V/X,C.naturalWidth=V,C.naturalHeight=X,this.limitCanvas(!0,!1)}(C.width>C.maxWidth||C.width<C.minWidth)&&(C.left=C.oldLeft),(C.height>C.maxHeight||C.height<C.minHeight)&&(C.top=C.oldTop),C.width=Math.min(Math.max(C.width,C.minWidth),C.maxWidth),C.height=Math.min(Math.max(C.height,C.minHeight),C.maxHeight),this.limitCanvas(!1,!0),C.left=Math.min(Math.max(C.left,C.minLeft),C.maxLeft),C.top=Math.min(Math.max(C.top,C.minTop),C.maxTop),C.oldLeft=C.left,C.oldTop=C.top,fo(this.canvas,Ze({width:C.width,height:C.height},Nl({translateX:C.left,translateY:C.top}))),this.renderImage(q),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},"renderCanvas"),renderImage:i(function(q){var F=this.canvasData,C=this.imageData,H=C.naturalWidth*(F.width/F.naturalWidth),$=C.naturalHeight*(F.height/F.naturalHeight);Ze(C,{width:H,height:$,left:(F.width-H)/2,top:(F.height-$)/2}),fo(this.image,Ze({width:C.width,height:C.height},Nl(Ze({translateX:C.left,translateY:C.top},C)))),q&&this.output()},"renderImage"),initCropBox:i(function(){var q=this.options,F=this.canvasData,C=q.aspectRatio||q.initialAspectRatio,H=Number(q.autoCropArea)||.8,$={width:F.width,height:F.height};C&&(F.height*C>F.width?$.height=$.width/C:$.width=$.height*C),this.cropBoxData=$,this.limitCropBox(!0,!0),$.width=Math.min(Math.max($.width,$.minWidth),$.maxWidth),$.height=Math.min(Math.max($.height,$.minHeight),$.maxHeight),$.width=Math.max($.minWidth,$.width*H),$.height=Math.max($.minHeight,$.height*H),$.left=F.left+(F.width-$.width)/2,$.top=F.top+(F.height-$.height)/2,$.oldLeft=$.left,$.oldTop=$.top,this.initialCropBoxData=Ze({},$)},"initCropBox"),limitCropBox:i(function(q,F){var C=this.options,H=this.containerData,$=this.canvasData,V=this.cropBoxData,X=this.limited,ie=C.aspectRatio;if(q){var ee=Number(C.minCropBoxWidth)||0,Z=Number(C.minCropBoxHeight)||0,J=X?Math.min(H.width,$.width,$.width+$.left,H.width-$.left):H.width,ne=X?Math.min(H.height,$.height,$.height+$.top,H.height-$.top):H.height;ee=Math.min(ee,H.width),Z=Math.min(Z,H.height),ie&&(ee&&Z?Z*ie>ee?Z=ee/ie:ee=Z*ie:ee?Z=ee/ie:Z&&(ee=Z*ie),ne*ie>J?ne=J/ie:J=ne*ie),V.minWidth=Math.min(ee,J),V.minHeight=Math.min(Z,ne),V.maxWidth=J,V.maxHeight=ne}F&&(X?(V.minLeft=Math.max(0,$.left),V.minTop=Math.max(0,$.top),V.maxLeft=Math.min(H.width,$.left+$.width)-V.width,V.maxTop=Math.min(H.height,$.top+$.height)-V.height):(V.minLeft=0,V.minTop=0,V.maxLeft=H.width-V.width,V.maxTop=H.height-V.height))},"limitCropBox"),renderCropBox:i(function(){var q=this.options,F=this.containerData,C=this.cropBoxData;(C.width>C.maxWidth||C.width<C.minWidth)&&(C.left=C.oldLeft),(C.height>C.maxHeight||C.height<C.minHeight)&&(C.top=C.oldTop),C.width=Math.min(Math.max(C.width,C.minWidth),C.maxWidth),C.height=Math.min(Math.max(C.height,C.minHeight),C.maxHeight),this.limitCropBox(!1,!0),C.left=Math.min(Math.max(C.left,C.minLeft),C.maxLeft),C.top=Math.min(Math.max(C.top,C.minTop),C.maxTop),C.oldLeft=C.left,C.oldTop=C.top,q.movable&&q.cropBoxMovable&&jl(this.face,N,C.width>=F.width&&C.height>=F.height?U:A),fo(this.cropBox,Ze({width:C.width,height:C.height},Nl({translateX:C.left,translateY:C.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},"renderCropBox"),output:i(function(){this.preview(),Hu(this.element,Xt,this.getData())},"output")},aZ={initPreview:i(function(){var q=this.element,F=this.crossOrigin,C=this.options.preview,H=F?this.crossOriginUrl:this.url,$=q.alt||"The image to preview",V=document.createElement("img");if(F&&(V.crossOrigin=F),V.src=H,V.alt=$,this.viewBox.appendChild(V),this.viewBoxImage=V,!!C){var X=C;typeof C=="string"?X=q.ownerDocument.querySelectorAll(C):C.querySelector&&(X=[C]),this.previews=X,yt(X,function(ie){var ee=document.createElement("img");jl(ie,re,{width:ie.offsetWidth,height:ie.offsetHeight,html:ie.innerHTML}),F&&(ee.crossOrigin=F),ee.src=H,ee.alt=$,ee.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',ie.innerHTML="",ie.appendChild(ee)})}},"initPreview"),resetPreview:i(function(){yt(this.previews,function(q){var F=rw(q,re);fo(q,{width:F.width,height:F.height}),q.innerHTML=F.html,WQ(q,re)})},"resetPreview"),preview:i(function(){var q=this.imageData,F=this.canvasData,C=this.cropBoxData,H=C.width,$=C.height,V=q.width,X=q.height,ie=C.left-F.left-q.left,ee=C.top-F.top-q.top;!this.cropped||this.disabled||(fo(this.viewBoxImage,Ze({width:V,height:X},Nl(Ze({translateX:-ie,translateY:-ee},q)))),yt(this.previews,function(Z){var J=rw(Z,re),ne=J.width,Ue=J.height,je=ne,et=Ue,ze=1;H&&(ze=ne/H,et=$*ze),$&&et>Ue&&(ze=Ue/$,je=H*ze,et=Ue),fo(Z,{width:je,height:et}),fo(Z.getElementsByTagName("img")[0],Ze({width:V*ze,height:X*ze},Nl(Ze({translateX:-ie*ze,translateY:-ee*ze},q))))}))},"preview")},uZ={bind:i(function(){var q=this.element,F=this.options,C=this.cropper;dr(F.cropstart)&&Kr(q,Bu,F.cropstart),dr(F.cropmove)&&Kr(q,Jt,F.cropmove),dr(F.cropend)&&Kr(q,Ct,F.cropend),dr(F.crop)&&Kr(q,Xt,F.crop),dr(F.zoom)&&Kr(q,Zb,F.zoom),Kr(C,$k,this.onCropStart=this.cropStart.bind(this)),F.zoomable&&F.zoomOnWheel&&Kr(C,Wk,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),F.toggleDragModeOnDblclick&&Kr(C,Ll,this.onDblclick=this.dblclick.bind(this)),Kr(q.ownerDocument,zk,this.onCropMove=this.cropMove.bind(this)),Kr(q.ownerDocument,Gk,this.onCropEnd=this.cropEnd.bind(this)),F.responsive&&Kr(window,Vk,this.onResize=this.resize.bind(this))},"bind"),unbind:i(function(){var q=this.element,F=this.options,C=this.cropper;dr(F.cropstart)&&hn(q,Bu,F.cropstart),dr(F.cropmove)&&hn(q,Jt,F.cropmove),dr(F.cropend)&&hn(q,Ct,F.cropend),dr(F.crop)&&hn(q,Xt,F.crop),dr(F.zoom)&&hn(q,Zb,F.zoom),hn(C,$k,this.onCropStart),F.zoomable&&F.zoomOnWheel&&hn(C,Wk,this.onWheel,{passive:!1,capture:!0}),F.toggleDragModeOnDblclick&&hn(C,Ll,this.onDblclick),hn(q.ownerDocument,zk,this.onCropMove),hn(q.ownerDocument,Gk,this.onCropEnd),F.responsive&&hn(window,Vk,this.onResize)},"unbind")},sZ={resize:i(function(){if(!this.disabled){var q=this.options,F=this.container,C=this.containerData,H=F.offsetWidth/C.width;if(H!==1||F.offsetHeight!==C.height){var $,V;q.restore&&($=this.getCanvasData(),V=this.getCropBoxData()),this.render(),q.restore&&(this.setCanvasData(yt($,function(X,ie){$[ie]=X*H})),this.setCropBoxData(yt(V,function(X,ie){V[ie]=X*H})))}}},"resize"),dblclick:i(function(){this.disabled||this.options.dragMode===Y||this.setDragMode(HQ(this.dragBox,g)?Q:oe)},"dblclick"),wheel:i(function(q){var F=this,C=Number(this.options.wheelZoomRatio)||.1,H=1;this.disabled||(q.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){F.wheeling=!1},50),q.deltaY?H=q.deltaY>0?1:-1:q.wheelDelta?H=-q.wheelDelta/120:q.detail&&(H=q.detail>0?1:-1),this.zoom(-H*C,q)))},"wheel"),cropStart:i(function(q){var F=q.buttons,C=q.button;if(!(this.disabled||(q.type==="mousedown"||q.type==="pointerdown"&&q.pointerType==="mouse")&&(Ce(F)&&F!==1||Ce(C)&&C!==0||q.ctrlKey))){var H=this.options,$=this.pointers,V;q.changedTouches?yt(q.changedTouches,function(X){$[X.identifier]=jd(X)}):$[q.pointerId||0]=jd(q),Object.keys($).length>1&&H.zoomable&&H.zoomOnTouch?V=G:V=rw(q.target,N),!!LQ.test(V)&&Hu(this.element,Bu,{originalEvent:q,action:V})!==!1&&(q.preventDefault(),this.action=V,this.cropping=!1,V===k&&(this.cropping=!0,Ft(this.dragBox,S)))}},"cropStart"),cropMove:i(function(q){var F=this.action;if(!(this.disabled||!F)){var C=this.pointers;q.preventDefault(),Hu(this.element,Jt,{originalEvent:q,action:F})!==!1&&(q.changedTouches?yt(q.changedTouches,function(H){Ze(C[H.identifier]||{},jd(H,!0))}):Ze(C[q.pointerId||0]||{},jd(q,!0)),this.change(q))}},"cropMove"),cropEnd:i(function(q){if(!this.disabled){var F=this.action,C=this.pointers;q.changedTouches?yt(q.changedTouches,function(H){delete C[H.identifier]}):delete C[q.pointerId||0],F&&(q.preventDefault(),Object.keys(C).length||(this.action=""),this.cropping&&(this.cropping=!1,Gu(this.dragBox,S,this.cropped&&this.options.modal)),Hu(this.element,Ct,{originalEvent:q,action:F}))}},"cropEnd")},lZ={change:i(function(q){var F=this.options,C=this.canvasData,H=this.containerData,$=this.cropBoxData,V=this.pointers,X=this.action,ie=F.aspectRatio,ee=$.left,Z=$.top,J=$.width,ne=$.height,Ue=ee+J,je=Z+ne,et=0,ze=0,Rt=H.width,Lt=H.height,mt=!0,vi;!ie&&q.shiftKey&&(ie=J&&ne?J/ne:1),this.limited&&(et=$.minLeft,ze=$.minTop,Rt=et+Math.min(H.width,C.width,C.left+C.width),Lt=ze+Math.min(H.height,C.height,C.top+C.height));var qr=V[Object.keys(V)[0]],ue={x:qr.endX-qr.startX,y:qr.endY-qr.startY},Ge=i(function(Yr){switch(Yr){case M:Ue+ue.x>Rt&&(ue.x=Rt-Ue);break;case z:ee+ue.x<et&&(ue.x=et-ee);break;case K:Z+ue.y<ze&&(ue.y=ze-Z);break;case W:je+ue.y>Lt&&(ue.y=Lt-je);break}},"check");switch(X){case A:ee+=ue.x,Z+=ue.y;break;case M:if(ue.x>=0&&(Ue>=Rt||ie&&(Z<=ze||je>=Lt))){mt=!1;break}Ge(M),J+=ue.x,J<0&&(X=z,J=-J,ee-=J),ie&&(ne=J/ie,Z+=($.height-ne)/2);break;case K:if(ue.y<=0&&(Z<=ze||ie&&(ee<=et||Ue>=Rt))){mt=!1;break}Ge(K),ne-=ue.y,Z+=ue.y,ne<0&&(X=W,ne=-ne,Z-=ne),ie&&(J=ne*ie,ee+=($.width-J)/2);break;case z:if(ue.x<=0&&(ee<=et||ie&&(Z<=ze||je>=Lt))){mt=!1;break}Ge(z),J-=ue.x,ee+=ue.x,J<0&&(X=M,J=-J,ee-=J),ie&&(ne=J/ie,Z+=($.height-ne)/2);break;case W:if(ue.y>=0&&(je>=Lt||ie&&(ee<=et||Ue>=Rt))){mt=!1;break}Ge(W),ne+=ue.y,ne<0&&(X=K,ne=-ne,Z-=ne),ie&&(J=ne*ie,ee+=($.width-J)/2);break;case p:if(ie){if(ue.y<=0&&(Z<=ze||Ue>=Rt)){mt=!1;break}Ge(K),ne-=ue.y,Z+=ue.y,J=ne*ie}else Ge(K),Ge(M),ue.x>=0?Ue<Rt?J+=ue.x:ue.y<=0&&Z<=ze&&(mt=!1):J+=ue.x,ue.y<=0?Z>ze&&(ne-=ue.y,Z+=ue.y):(ne-=ue.y,Z+=ue.y);J<0&&ne<0?(X=v,ne=-ne,J=-J,Z-=ne,ee-=J):J<0?(X=c,J=-J,ee-=J):ne<0&&(X=h,ne=-ne,Z-=ne);break;case c:if(ie){if(ue.y<=0&&(Z<=ze||ee<=et)){mt=!1;break}Ge(K),ne-=ue.y,Z+=ue.y,J=ne*ie,ee+=$.width-J}else Ge(K),Ge(z),ue.x<=0?ee>et?(J-=ue.x,ee+=ue.x):ue.y<=0&&Z<=ze&&(mt=!1):(J-=ue.x,ee+=ue.x),ue.y<=0?Z>ze&&(ne-=ue.y,Z+=ue.y):(ne-=ue.y,Z+=ue.y);J<0&&ne<0?(X=h,ne=-ne,J=-J,Z-=ne,ee-=J):J<0?(X=p,J=-J,ee-=J):ne<0&&(X=v,ne=-ne,Z-=ne);break;case v:if(ie){if(ue.x<=0&&(ee<=et||je>=Lt)){mt=!1;break}Ge(z),J-=ue.x,ee+=ue.x,ne=J/ie}else Ge(W),Ge(z),ue.x<=0?ee>et?(J-=ue.x,ee+=ue.x):ue.y>=0&&je>=Lt&&(mt=!1):(J-=ue.x,ee+=ue.x),ue.y>=0?je<Lt&&(ne+=ue.y):ne+=ue.y;J<0&&ne<0?(X=p,ne=-ne,J=-J,Z-=ne,ee-=J):J<0?(X=h,J=-J,ee-=J):ne<0&&(X=c,ne=-ne,Z-=ne);break;case h:if(ie){if(ue.x>=0&&(Ue>=Rt||je>=Lt)){mt=!1;break}Ge(M),J+=ue.x,ne=J/ie}else Ge(W),Ge(M),ue.x>=0?Ue<Rt?J+=ue.x:ue.y>=0&&je>=Lt&&(mt=!1):J+=ue.x,ue.y>=0?je<Lt&&(ne+=ue.y):ne+=ue.y;J<0&&ne<0?(X=c,ne=-ne,J=-J,Z-=ne,ee-=J):J<0?(X=v,J=-J,ee-=J):ne<0&&(X=p,ne=-ne,Z-=ne);break;case U:this.move(ue.x,ue.y),mt=!1;break;case G:this.zoom(YQ(V),q),mt=!1;break;case k:if(!ue.x||!ue.y){mt=!1;break}vi=e2(this.cropper),ee=qr.startX-vi.left,Z=qr.startY-vi.top,J=$.minWidth,ne=$.minHeight,ue.x>0?X=ue.y>0?h:p:ue.x<0&&(ee-=J,X=ue.y>0?v:c),ue.y<0&&(Z-=ne),this.cropped||(Un(this.cropBox,P),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}mt&&($.width=J,$.height=ne,$.left=ee,$.top=Z,this.action=X,this.renderCropBox()),yt(V,function(Tt){Tt.startX=Tt.endX,Tt.startY=Tt.endY})},"change")},cZ={crop:i(function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Ft(this.dragBox,S),Un(this.cropBox,P),this.setCropBoxData(this.initialCropBoxData)),this},"crop"),reset:i(function(){return this.ready&&!this.disabled&&(this.imageData=Ze({},this.initialImageData),this.canvasData=Ze({},this.initialCanvasData),this.cropBoxData=Ze({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},"reset"),clear:i(function(){return this.cropped&&!this.disabled&&(Ze(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Un(this.dragBox,S),Ft(this.cropBox,P)),this},"clear"),replace:i(function(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&q&&(this.isImg&&(this.element.src=q),F?(this.url=q,this.image.src=q,this.ready&&(this.viewBoxImage.src=q,yt(this.previews,function(C){C.getElementsByTagName("img")[0].src=q}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(q))),this},"replace"),enable:i(function(){return this.ready&&this.disabled&&(this.disabled=!1,Un(this.cropper,b)),this},"enable"),disable:i(function(){return this.ready&&!this.disabled&&(this.disabled=!0,Ft(this.cropper,b)),this},"disable"),destroy:i(function(){var q=this.element;return q[E]?(q[E]=void 0,this.isImg&&this.replaced&&(q.src=this.originalUrl),this.uncreate(),this):this},"destroy"),move:i(function(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q,C=this.canvasData,H=C.left,$=C.top;return this.moveTo(ew(q)?q:H+Number(q),ew(F)?F:$+Number(F))},"move"),moveTo:i(function(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q,C=this.canvasData,H=!1;return q=Number(q),F=Number(F),this.ready&&!this.disabled&&this.options.movable&&(Ce(q)&&(C.left=q,H=!0),Ce(F)&&(C.top=F,H=!0),H&&this.renderCanvas(!0)),this},"moveTo"),zoom:i(function(q,F){var C=this.canvasData;return q=Number(q),q<0?q=1/(1-q):q=1+q,this.zoomTo(C.width*q/C.naturalWidth,null,F)},"zoom"),zoomTo:i(function(q,F,C){var H=this.options,$=this.canvasData,V=$.width,X=$.height,ie=$.naturalWidth,ee=$.naturalHeight;if(q=Number(q),q>=0&&this.ready&&!this.disabled&&H.zoomable){var Z=ie*q,J=ee*q;if(Hu(this.element,Zb,{ratio:q,oldRatio:V/ie,originalEvent:C})===!1)return this;if(C){var ne=this.pointers,Ue=e2(this.cropper),je=ne&&Object.keys(ne).length?XQ(ne):{pageX:C.pageX,pageY:C.pageY};$.left-=(Z-V)*((je.pageX-Ue.left-$.left)/V),$.top-=(J-X)*((je.pageY-Ue.top-$.top)/X)}else $u(F)&&Ce(F.x)&&Ce(F.y)?($.left-=(Z-V)*((F.x-$.left)/V),$.top-=(J-X)*((F.y-$.top)/X)):($.left-=(Z-V)/2,$.top-=(J-X)/2);$.width=Z,$.height=J,this.renderCanvas(!0)}return this},"zoomTo"),rotate:i(function(q){return this.rotateTo((this.imageData.rotate||0)+Number(q))},"rotate"),rotateTo:i(function(q){return q=Number(q),Ce(q)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=q%360,this.renderCanvas(!0,!0)),this},"rotateTo"),scaleX:i(function(q){var F=this.imageData.scaleY;return this.scale(q,Ce(F)?F:1)},"scaleX"),scaleY:i(function(q){var F=this.imageData.scaleX;return this.scale(Ce(F)?F:1,q)},"scaleY"),scale:i(function(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q,C=this.imageData,H=!1;return q=Number(q),F=Number(F),this.ready&&!this.disabled&&this.options.scalable&&(Ce(q)&&(C.scaleX=q,H=!0),Ce(F)&&(C.scaleY=F,H=!0),H&&this.renderCanvas(!0,!0)),this},"scale"),getData:i(function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,F=this.options,C=this.imageData,H=this.canvasData,$=this.cropBoxData,V;if(this.ready&&this.cropped){V={x:$.left-H.left,y:$.top-H.top,width:$.width,height:$.height};var X=C.width/C.naturalWidth;if(yt(V,function(Z,J){V[J]=Z/X}),q){var ie=Math.round(V.y+V.height),ee=Math.round(V.x+V.width);V.x=Math.round(V.x),V.y=Math.round(V.y),V.width=ee-V.x,V.height=ie-V.y}}else V={x:0,y:0,width:0,height:0};return F.rotatable&&(V.rotate=C.rotate||0),F.scalable&&(V.scaleX=C.scaleX||1,V.scaleY=C.scaleY||1),V},"getData"),setData:i(function(q){var F=this.options,C=this.imageData,H=this.canvasData,$={};if(this.ready&&!this.disabled&&$u(q)){var V=!1;F.rotatable&&Ce(q.rotate)&&q.rotate!==C.rotate&&(C.rotate=q.rotate,V=!0),F.scalable&&(Ce(q.scaleX)&&q.scaleX!==C.scaleX&&(C.scaleX=q.scaleX,V=!0),Ce(q.scaleY)&&q.scaleY!==C.scaleY&&(C.scaleY=q.scaleY,V=!0)),V&&this.renderCanvas(!0,!0);var X=C.width/C.naturalWidth;Ce(q.x)&&($.left=q.x*X+H.left),Ce(q.y)&&($.top=q.y*X+H.top),Ce(q.width)&&($.width=q.width*X),Ce(q.height)&&($.height=q.height*X),this.setCropBoxData($)}return this},"setData"),getContainerData:i(function(){return this.ready?Ze({},this.containerData):{}},"getContainerData"),getImageData:i(function(){return this.sized?Ze({},this.imageData):{}},"getImageData"),getCanvasData:i(function(){var q=this.canvasData,F={};return this.ready&&yt(["left","top","width","height","naturalWidth","naturalHeight"],function(C){F[C]=q[C]}),F},"getCanvasData"),setCanvasData:i(function(q){var F=this.canvasData,C=F.aspectRatio;return this.ready&&!this.disabled&&$u(q)&&(Ce(q.left)&&(F.left=q.left),Ce(q.top)&&(F.top=q.top),Ce(q.width)?(F.width=q.width,F.height=q.width/C):Ce(q.height)&&(F.height=q.height,F.width=q.height*C),this.renderCanvas(!0)),this},"setCanvasData"),getCropBoxData:i(function(){var q=this.cropBoxData,F;return this.ready&&this.cropped&&(F={left:q.left,top:q.top,width:q.width,height:q.height}),F||{}},"getCropBoxData"),setCropBoxData:i(function(q){var F=this.cropBoxData,C=this.options.aspectRatio,H,$;return this.ready&&this.cropped&&!this.disabled&&$u(q)&&(Ce(q.left)&&(F.left=q.left),Ce(q.top)&&(F.top=q.top),Ce(q.width)&&q.width!==F.width&&(H=!0,F.width=q.width),Ce(q.height)&&q.height!==F.height&&($=!0,F.height=q.height),C&&(H?F.height=F.width/C:$&&(F.width=F.height*C)),this.renderCropBox()),this},"setCropBoxData"),getCroppedCanvas:i(function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var F=this.canvasData,C=QQ(this.image,this.imageData,F,q);if(!this.cropped)return C;var H=this.getData(),$=H.x,V=H.y,X=H.width,ie=H.height,ee=C.width/Math.floor(F.naturalWidth);ee!==1&&($*=ee,V*=ee,X*=ee,ie*=ee);var Z=X/ie,J=po({aspectRatio:Z,width:q.maxWidth||1/0,height:q.maxHeight||1/0}),ne=po({aspectRatio:Z,width:q.minWidth||0,height:q.minHeight||0},"cover"),Ue=po({aspectRatio:Z,width:q.width||(ee!==1?C.width:X),height:q.height||(ee!==1?C.height:ie)}),je=Ue.width,et=Ue.height;je=Math.min(J.width,Math.max(ne.width,je)),et=Math.min(J.height,Math.max(ne.height,et));var ze=document.createElement("canvas"),Rt=ze.getContext("2d");ze.width=zu(je),ze.height=zu(et),Rt.fillStyle=q.fillColor||"transparent",Rt.fillRect(0,0,je,et);var Lt=q.imageSmoothingEnabled,mt=Lt===void 0?!0:Lt,vi=q.imageSmoothingQuality;Rt.imageSmoothingEnabled=mt,vi&&(Rt.imageSmoothingQuality=vi);var qr=C.width,ue=C.height,Ge=$,Tt=V,Yr,yi,ca,fa,ho,Mn;Ge<=-X||Ge>qr?(Ge=0,Yr=0,ca=0,ho=0):Ge<=0?(ca=-Ge,Ge=0,Yr=Math.min(qr,X+Ge),ho=Yr):Ge<=qr&&(ca=0,Yr=Math.min(X,qr-Ge),ho=Yr),Yr<=0||Tt<=-ie||Tt>ue?(Tt=0,yi=0,fa=0,Mn=0):Tt<=0?(fa=-Tt,Tt=0,yi=Math.min(ue,ie+Tt),Mn=yi):Tt<=ue&&(fa=0,yi=Math.min(ie,ue-Tt),Mn=yi);var hr=[Ge,Tt,Yr,yi];if(ho>0&&Mn>0){var pa=je/X;hr.push(ca*pa,fa*pa,ho*pa,Mn*pa)}return Rt.drawImage.apply(Rt,[C].concat(s(hr.map(function(Nd){return Math.floor(zu(Nd))})))),ze},"getCroppedCanvas"),setAspectRatio:i(function(q){var F=this.options;return!this.disabled&&!ew(q)&&(F.aspectRatio=Math.max(0,q)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},"setAspectRatio"),setDragMode:i(function(q){var F=this.options,C=this.dragBox,H=this.face;if(this.ready&&!this.disabled){var $=q===oe,V=F.movable&&q===Q;q=$||V?q:Y,F.dragMode=q,jl(C,N,q),Gu(C,g,$),Gu(C,I,V),F.cropBoxMovable||(jl(H,N,q),Gu(H,g,$),Gu(H,I,V))}return this},"setDragMode")},fZ=_.Cropper,i2=function(){function B(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e(this,B),!q||!DQ.test(q.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=q,this.options=Ze({},Yk,$u(F)&&F),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return i(B,"Cropper"),n(B,[{key:"init",value:i(function(){var F=this.element,C=F.tagName.toLowerCase(),H;if(!F[E]){if(F[E]=this,C==="img"){if(this.isImg=!0,H=F.getAttribute("src")||"",this.originalUrl=H,!H)return;H=F.src}else C==="canvas"&&window.HTMLCanvasElement&&(H=F.toDataURL());this.load(H)}},"init")},{key:"load",value:i(function(F){var C=this;if(!!F){this.url=F,this.imageData={};var H=this.element,$=this.options;if(!$.rotatable&&!$.scalable&&($.checkOrientation=!1),!$.checkOrientation||!window.ArrayBuffer){this.clone();return}if(jQ.test(F)){NQ.test(F)?this.read(tZ(F)):this.clone();return}var V=new XMLHttpRequest,X=this.clone.bind(this);this.reloading=!0,this.xhr=V,V.onabort=X,V.onerror=X,V.ontimeout=X,V.onprogress=function(){V.getResponseHeader("content-type")!==Kk&&V.abort()},V.onload=function(){C.read(V.response)},V.onloadend=function(){C.reloading=!1,C.xhr=null},$.checkCrossOrigin&&t2(F)&&H.crossOrigin&&(F=r2(F)),V.open("GET",F),V.responseType="arraybuffer",V.withCredentials=H.crossOrigin==="use-credentials",V.send()}},"load")},{key:"read",value:i(function(F){var C=this.options,H=this.imageData,$=nZ(F),V=0,X=1,ie=1;if($>1){this.url=rZ(F,Kk);var ee=iZ($);V=ee.rotate,X=ee.scaleX,ie=ee.scaleY}C.rotatable&&(H.rotate=V),C.scalable&&(H.scaleX=X,H.scaleY=ie),this.clone()},"read")},{key:"clone",value:i(function(){var F=this.element,C=this.url,H=F.crossOrigin,$=C;this.options.checkCrossOrigin&&t2(C)&&(H||(H="anonymous"),$=r2(C)),this.crossOrigin=H,this.crossOriginUrl=$;var V=document.createElement("img");H&&(V.crossOrigin=H),V.src=$||C,V.alt=F.alt||"The image to crop",this.image=V,V.onload=this.start.bind(this),V.onerror=this.stop.bind(this),Ft(V,x),F.parentNode.insertBefore(V,F.nextSibling)},"clone")},{key:"start",value:i(function(){var F=this,C=this.image;C.onload=null,C.onerror=null,this.sizing=!0;var H=_.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(_.navigator.userAgent),$=i(function(ee,Z){Ze(F.imageData,{naturalWidth:ee,naturalHeight:Z,aspectRatio:ee/Z}),F.sizing=!1,F.sized=!0,F.build()},"done");if(C.naturalWidth&&!H){$(C.naturalWidth,C.naturalHeight);return}var V=document.createElement("img"),X=document.body||document.documentElement;this.sizingImage=V,V.onload=function(){$(V.width,V.height),H||X.removeChild(V)},V.src=C.src,H||(V.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",X.appendChild(V))},"start")},{key:"stop",value:i(function(){var F=this.image;F.onload=null,F.onerror=null,F.parentNode.removeChild(F),this.image=null},"stop")},{key:"build",value:i(function(){if(!(!this.sized||this.ready)){var F=this.element,C=this.options,H=this.image,$=F.parentNode,V=document.createElement("div");V.innerHTML=UQ;var X=V.querySelector(".".concat(E,"-container")),ie=X.querySelector(".".concat(E,"-canvas")),ee=X.querySelector(".".concat(E,"-drag-box")),Z=X.querySelector(".".concat(E,"-crop-box")),J=Z.querySelector(".".concat(E,"-face"));this.container=$,this.cropper=X,this.canvas=ie,this.dragBox=ee,this.cropBox=Z,this.viewBox=X.querySelector(".".concat(E,"-view-box")),this.face=J,ie.appendChild(H),Ft(F,P),$.insertBefore(X,F.nextSibling),this.isImg||Un(H,x),this.initPreview(),this.bind(),C.initialAspectRatio=Math.max(0,C.initialAspectRatio)||NaN,C.aspectRatio=Math.max(0,C.aspectRatio)||NaN,C.viewMode=Math.max(0,Math.min(3,Math.round(C.viewMode)))||0,Ft(Z,P),C.guides||Ft(Z.getElementsByClassName("".concat(E,"-dashed")),P),C.center||Ft(Z.getElementsByClassName("".concat(E,"-center")),P),C.background&&Ft(X,"".concat(E,"-bg")),C.highlight||Ft(J,L),C.cropBoxMovable&&(Ft(J,I),jl(J,N,A)),C.cropBoxResizable||(Ft(Z.getElementsByClassName("".concat(E,"-line")),P),Ft(Z.getElementsByClassName("".concat(E,"-point")),P)),this.render(),this.ready=!0,this.setDragMode(C.dragMode),C.autoCrop&&this.crop(),this.setData(C.data),dr(C.ready)&&Kr(F,Hk,C.ready,{once:!0}),Hu(F,Hk)}},"build")},{key:"unbuild",value:i(function(){!this.ready||(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Un(this.element,P))},"unbuild")},{key:"uncreate",value:i(function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()},"uncreate")}],[{key:"noConflict",value:i(function(){return window.Cropper=fZ,B},"noConflict")},{key:"setDefaults",value:i(function(F){Ze(Yk,$u(F)&&F)},"setDefaults")}]),B}();return Ze(i2.prototype,oZ,aZ,uZ,sZ,lZ,cZ),i2})});var dK=j(function(sbt,Vg){"use strict";Vg.exports=iI;Vg.exports.isMobile=iI;Vg.exports.default=iI;var vXe=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,yXe=/CrOS/,mXe=/android|ipad|playbook|silk/i;function iI(t){t||(t={});var e=t.ua;if(!e&&typeof navigator!="undefined"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string")return!1;var r=vXe.test(e)&&!yXe.test(e)||!!t.tablet&&mXe.test(e);return!r&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.indexOf("Macintosh")!==-1&&e.indexOf("Safari")!==-1&&(r=!0),r}i(iI,"isMobile")});var PY=j(function(Mwt,_Y){"use strict";_Y.exports=i(function(e,r){if(r=r.split(":")[0],e=+e,!e)return!1;switch(r){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},"required")});var TY=j(function(QI){"use strict";var IQe=Object.prototype.hasOwnProperty,qQe;function EY(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return null}}i(EY,"decode");function RY(t){try{return encodeURIComponent(t)}catch(e){return null}}i(RY,"encode");function kQe(t){for(var e=/([^=?#&]+)=?([^&]*)/g,r={},n;n=e.exec(t);){var o=EY(n[1]),a=EY(n[2]);o===null||a===null||o in r||(r[o]=a)}return r}i(kQe,"querystring");function xQe(t,e){e=e||"";var r=[],n,o;typeof e!="string"&&(e="?");for(o in t)if(IQe.call(t,o)){if(n=t[o],!n&&(n===null||n===qQe||isNaN(n))&&(n=""),o=RY(o),n=RY(n),o===null||n===null)continue;r.push(o+"="+n)}return r.length?e+r.join("&"):""}i(xQe,"querystringify");QI.stringify=xQe;QI.parse=kQe});var LY=j(function($wt,FY){"use strict";function Vp(t){return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}i(Vp,"_typeof");var IY=PY(),ab=TY(),CQe=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,qY=/[\n\r\t]/g,FQe=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,kY=/:\d+$/,LQe=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,jQe=/^[a-zA-Z]:/;function eq(t){return(t||"").toString().replace(CQe,"")}i(eq,"trimLeft");var ZI=[["#","hash"],["?","query"],i(function(e,r){return pi(r.protocol)?e.replace(/\\/g,"/"):e},"sanitize"),["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],AY={hash:1,query:1};function xY(t){var e;typeof window!="undefined"?e=window:typeof global!="undefined"?e=global:typeof self!="undefined"?e=self:e={};var r=e.location||{};t=t||r;var n={},o=Vp(t),a;if(t.protocol==="blob:")n=new di(unescape(t.pathname),{});else if(o==="string"){n=new di(t,{});for(a in AY)delete n[a]}else if(o==="object"){for(a in t)a in AY||(n[a]=t[a]);n.slashes===void 0&&(n.slashes=FQe.test(t.href))}return n}i(xY,"lolcation");function pi(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}i(pi,"isSpecial");function CY(t,e){t=eq(t),t=t.replace(qY,""),e=e||{};var r=LQe.exec(t),n=r[1]?r[1].toLowerCase():"",o=!!r[2],a=!!r[3],u=0,s;return o?a?(s=r[2]+r[3]+r[4],u=r[2].length+r[3].length):(s=r[2]+r[4],u=r[2].length):a?(s=r[3]+r[4],u=r[3].length):s=r[4],n==="file:"?u>=2&&(s=s.slice(2)):pi(n)?s=r[4]:n?o&&(s=s.slice(2)):u>=2&&pi(e.protocol)&&(s=r[4]),{protocol:n,slashes:o||pi(n),slashesCount:u,rest:s}}i(CY,"extractProtocol");function NQe(t,e){if(t==="")return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,o=r[n-1],a=!1,u=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),u++):u&&(n===0&&(a=!0),r.splice(n,1),u--);return a&&r.unshift(""),(o==="."||o==="..")&&r.push(""),r.join("/")}i(NQe,"resolve");function di(t,e,r){if(t=eq(t),t=t.replace(qY,""),!(this instanceof di))return new di(t,e,r);var n,o,a,u,s,l,f=ZI.slice(),d=Vp(e),y=this,m=0;for(d!=="object"&&d!=="string"&&(r=e,e=null),r&&typeof r!="function"&&(r=ab.parse),e=xY(e),o=CY(t||"",e),n=!o.protocol&&!o.slashes,y.slashes=o.slashes||n&&e.slashes,y.protocol=o.protocol||e.protocol||"",t=o.rest,(o.protocol==="file:"&&(o.slashesCount!==2||jQe.test(t))||!o.slashes&&(o.protocol||o.slashesCount<2||!pi(y.protocol)))&&(f[3]=[/(.*)/,"pathname"]);m<f.length;m++){if(u=f[m],typeof u=="function"){t=u(t,y);continue}a=u[0],l=u[1],a!==a?y[l]=t:typeof a=="string"?(s=a==="@"?t.lastIndexOf(a):t.indexOf(a),~s&&(typeof u[2]=="number"?(y[l]=t.slice(0,s),t=t.slice(s+u[2])):(y[l]=t.slice(s),t=t.slice(0,s)))):(s=a.exec(t))&&(y[l]=s[1],t=t.slice(0,s.index)),y[l]=y[l]||n&&u[3]&&e[l]||"",u[4]&&(y[l]=y[l].toLowerCase())}r&&(y.query=r(y.query)),n&&e.slashes&&y.pathname.charAt(0)!=="/"&&(y.pathname!==""||e.pathname!=="")&&(y.pathname=NQe(y.pathname,e.pathname)),y.pathname.charAt(0)!=="/"&&pi(y.protocol)&&(y.pathname="/"+y.pathname),IY(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(s=y.auth.indexOf(":"),~s?(y.username=y.auth.slice(0,s),y.username=encodeURIComponent(decodeURIComponent(y.username)),y.password=y.auth.slice(s+1),y.password=encodeURIComponent(decodeURIComponent(y.password))):y.username=encodeURIComponent(decodeURIComponent(y.auth)),y.auth=y.password?y.username+":"+y.password:y.username),y.origin=y.protocol!=="file:"&&pi(y.protocol)&&y.host?y.protocol+"//"+y.host:"null",y.href=y.toString()}i(di,"Url");function DQe(t,e,r){var n=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(r||ab.parse)(e)),n[t]=e;break;case"port":n[t]=e,IY(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,kY.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var o=t==="pathname"?"/":"#";n[t]=e.charAt(0)!==o?o+e:e}else n[t]=e;break;case"username":case"password":n[t]=encodeURIComponent(e);break;case"auth":var a=e.indexOf(":");~a?(n.username=e.slice(0,a),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=e.slice(a+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(e))}for(var u=0;u<ZI.length;u++){var s=ZI[u];s[4]&&(n[s[1]]=n[s[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&pi(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}i(DQe,"set");function UQe(t){(!t||typeof t!="function")&&(t=ab.stringify);var e,r=this,n=r.host,o=r.protocol;o&&o.charAt(o.length-1)!==":"&&(o+=":");var a=o+(r.protocol&&r.slashes||pi(r.protocol)?"//":"");return r.username?(a+=r.username,r.password&&(a+=":"+r.password),a+="@"):r.password?(a+=":"+r.password,a+="@"):r.protocol!=="file:"&&pi(r.protocol)&&!n&&r.pathname!=="/"&&(a+="@"),(n[n.length-1]===":"||kY.test(r.hostname)&&!r.port)&&(n+=":"),a+=n+r.pathname,e=Vp(r.query)==="object"?t(r.query):r.query,e&&(a+=e.charAt(0)!=="?"?"?"+e:e),r.hash&&(a+=r.hash),a}i(UQe,"toString");di.prototype={set:DQe,toString:UQe};di.extractProtocol=CY;di.location=xY;di.trimLeft=eq;di.qs=ab;FY.exports=di});var bq=j(function(U0t,gq){typeof gq!="undefined"&&(gq.exports=Gr);function Gr(t){if(t)return $Ze(t)}i(Gr,"Emitter");function $Ze(t){for(var e in Gr.prototype)t[e]=Gr.prototype[e];return t}i($Ze,"mixin");Gr.prototype.on=Gr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Gr.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return i(r,"on"),r.fn=e,this.on(t,r),this};Gr.prototype.off=Gr.prototype.removeListener=Gr.prototype.removeAllListeners=Gr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Gr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,e)}return this};Gr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Gr.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var JJ=j(function(t_t,XJ){"use strict";function zJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(zJ,"ownKeys");function Bb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zJ(Object(r),!0).forEach(function(n){xrt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Bb,"_objectSpread2");function qrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(qrt,"_classCallCheck");function GJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(GJ,"_defineProperties");function krt(t,e,r){return e&&GJ(t.prototype,e),r&&GJ(t,r),t}i(krt,"_createClass");function xrt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(xrt,"_defineProperty");function $b(){return $b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$b.apply(this,arguments)}i($b,"_extends");var KJ={exports:{}};(function(t){typeof window!="undefined"&&function(e){var r=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(l){return!1}}(),o=n&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(l){return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,u=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(n||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(l){var f,d,y,m,w,_,T,R,E;if(f=l.match(u),!f)throw new Error("invalid data URI");for(d=f[2]?f[1]:"text/plain"+(f[3]||";charset=US-ASCII"),y=!!f[4],m=l.slice(f[0].length),y?w=atob(m):w=decodeURIComponent(m),_=new ArrayBuffer(w.length),T=new Uint8Array(_),R=0;R<w.length;R+=1)T[R]=w.charCodeAt(R);return n?new Blob([o?T:_],{type:d}):(E=new a,E.append(_),E.getBlob(d))};e.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(l,f,d){var y=this;setTimeout(function(){d&&r.toDataURL&&s?l(s(y.toDataURL(f,d))):l(y.mozGetAsFile("blob",f))})}:r.toDataURL&&s&&(r.msToBlob?r.toBlob=function(l,f,d){var y=this;setTimeout(function(){(f&&f!=="image/png"||d)&&r.toDataURL&&s?l(s(y.toDataURL(f,d))):l(y.msToBlob(f))})}:r.toBlob=function(l,f,d){var y=this;setTimeout(function(){l(s(y.toDataURL(f,d)))})})),t.exports?t.exports=s:e.dataURLtoBlob=s}(window)})(KJ);var Crt=KJ.exports,Frt=i(function(e){return typeof Blob=="undefined"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},"isBlob"),HJ={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},Lrt=typeof window!="undefined"&&typeof window.document!="undefined",sa=Lrt?window:{},zb=i(function(e){return e>0&&e<1/0},"isPositiveNumber"),jrt=Array.prototype.slice;function Nrt(t){return Array.from?Array.from(t):jrt.call(t)}i(Nrt,"toArray");var Drt=/^image\/.+$/;function Tk(t){return Drt.test(t)}i(Tk,"isImageType");function Urt(t){var e=Tk(t)?t.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}i(Urt,"imageTypeToExtension");var YJ=String.fromCharCode;function Mrt(t,e,r){var n="",o;for(r+=e,o=e;o<r;o+=1)n+=YJ(t.getUint8(o));return n}i(Mrt,"getStringFromCharCode");var Brt=sa.btoa;function $rt(t,e){for(var r=[],n=8192,o=new Uint8Array(t);o.length>0;)r.push(YJ.apply(null,Nrt(o.subarray(0,n)))),o=o.subarray(n);return"data:".concat(e,";base64,").concat(Brt(r.join("")))}i($rt,"arrayBufferToDataURL");function zrt(t){var e=new DataView(t),r;try{var n,o,a;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var u=e.byteLength,s=2;s+1<u;){if(e.getUint8(s)===255&&e.getUint8(s+1)===225){o=s;break}s+=1}if(o){var l=o+4,f=o+10;if(Mrt(e,l,4)==="Exif"){var d=e.getUint16(f);if(n=d===18761,(n||d===19789)&&e.getUint16(f+2,n)===42){var y=e.getUint32(f+4,n);y>=8&&(a=f+y)}}}if(a){var m=e.getUint16(a,n),w,_;for(_=0;_<m;_+=1)if(w=a+_*12+2,e.getUint16(w,n)===274){w+=8,r=e.getUint16(w,n),e.setUint16(w,1,n);break}}}catch(T){r=1}return r}i(zrt,"resetAndGetOrientation");function Grt(t){var e=0,r=1,n=1;switch(t){case 2:r=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,r=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:r,scaleY:n}}i(Grt,"parseOrientation");var Hrt=/\.\d*(?:0|9){12}\d*$/;function VJ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Hrt.test(t)?Math.round(t*e)/e:t}i(VJ,"normalizeDecimalNumber");function qd(t){var e=t.aspectRatio,r=t.height,n=t.width,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",a=zb(n),u=zb(r);if(a&&u){var s=r*e;(o==="contain"||o==="none")&&s>n||o==="cover"&&s<n?r=n/e:n=r*e}else a?r=n/e:u&&(n=r*e);return{width:n,height:r}}i(qd,"getAdjustedSizes");var Vrt=sa.ArrayBuffer,WJ=sa.FileReader,Mu=sa.URL||sa.webkitURL,Wrt=/\.\w+$/,Krt=sa.Compressor,Yrt=function(){function t(e,r){qrt(this,t),this.file=e,this.image=new Image,this.options=Bb(Bb({},HJ),r),this.aborted=!1,this.result=null,this.init()}return i(t,"Compressor"),krt(t,[{key:"init",value:i(function(){var r=this,n=this.file,o=this.options;if(!Frt(n)){this.fail(new Error("The first argument must be a File or Blob object."));return}var a=n.type;if(!Tk(a)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!Mu||!WJ){this.fail(new Error("The current browser does not support image compression."));return}if(Vrt||(o.checkOrientation=!1),Mu&&!o.checkOrientation)this.load({url:Mu.createObjectURL(n)});else{var u=new WJ,s=o.checkOrientation&&a==="image/jpeg";this.reader=u,u.onload=function(l){var f=l.target,d=f.result,y={};if(s){var m=zrt(d);m>1||!Mu?(y.url=$rt(d,a),m>1&&$b(y,Grt(m))):y.url=Mu.createObjectURL(n)}else y.url=d;r.load(y)},u.onabort=function(){r.fail(new Error("Aborted to read the image with FileReader."))},u.onerror=function(){r.fail(new Error("Failed to read the image with FileReader."))},u.onloadend=function(){r.reader=null},s?u.readAsArrayBuffer(n):u.readAsDataURL(n)}},"init")},{key:"load",value:i(function(r){var n=this,o=this.file,a=this.image;a.onload=function(){n.draw(Bb(Bb({},r),{},{naturalWidth:a.naturalWidth,naturalHeight:a.naturalHeight}))},a.onabort=function(){n.fail(new Error("Aborted to load the image."))},a.onerror=function(){n.fail(new Error("Failed to load the image."))},sa.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(sa.navigator.userAgent)&&(a.crossOrigin="anonymous"),a.alt=o.name,a.src=r.url},"load")},{key:"draw",value:i(function(r){var n=this,o=r.naturalWidth,a=r.naturalHeight,u=r.rotate,s=u===void 0?0:u,l=r.scaleX,f=l===void 0?1:l,d=r.scaleY,y=d===void 0?1:d,m=this.file,w=this.image,_=this.options,T=document.createElement("canvas"),R=T.getContext("2d"),E=Math.abs(s)%180===90,A=(_.resize==="contain"||_.resize==="cover")&&zb(_.width)&&zb(_.height),k=Math.max(_.maxWidth,0)||1/0,U=Math.max(_.maxHeight,0)||1/0,G=Math.max(_.minWidth,0)||0,M=Math.max(_.minHeight,0)||0,z=o/a,W=_.width,K=_.height;if(E){var p=[U,k];k=p[0],U=p[1];var c=[M,G];G=c[0],M=c[1];var h=[K,W];W=h[0],K=h[1]}A&&(z=W/K);var v=qd({aspectRatio:z,width:k,height:U},"contain");k=v.width,U=v.height;var g=qd({aspectRatio:z,width:G,height:M},"cover");if(G=g.width,M=g.height,A){var b=qd({aspectRatio:z,width:W,height:K},_.resize);W=b.width,K=b.height}else{var P=qd({aspectRatio:z,width:W,height:K}),x=P.width;W=x===void 0?o:x;var L=P.height;K=L===void 0?a:L}W=Math.floor(VJ(Math.min(Math.max(W,G),k))),K=Math.floor(VJ(Math.min(Math.max(K,M),U)));var S=-W/2,I=-K/2,N=W,re=K,oe=[];if(A){var Q=0,Y=0,Xt=o,Ct=a,Jt=qd({aspectRatio:z,width:o,height:a},{contain:"cover",cover:"contain"}[_.resize]);Xt=Jt.width,Ct=Jt.height,Q=(o-Xt)/2,Y=(a-Ct)/2,oe.push(Q,Y,Xt,Ct)}if(oe.push(S,I,N,re),E){var Bu=[K,W];W=Bu[0],K=Bu[1]}T.width=W,T.height=K,Tk(_.mimeType)||(_.mimeType=m.type);var Ll="transparent";if(m.size>_.convertSize&&_.convertTypes.indexOf(_.mimeType)>=0&&(_.mimeType="image/jpeg"),_.mimeType==="image/jpeg"&&(Ll="#fff"),R.fillStyle=Ll,R.fillRect(0,0,W,K),_.beforeDraw&&_.beforeDraw.call(this,R,T),!this.aborted&&(R.save(),R.translate(W/2,K/2),R.rotate(s*Math.PI/180),R.scale(f,y),R.drawImage.apply(R,[w].concat(oe)),R.restore(),_.drew&&_.drew.call(this,R,T),!this.aborted)){var Ld=i(function(Qb){n.aborted||n.done({naturalWidth:o,naturalHeight:a,result:Qb})},"done");T.toBlob?T.toBlob(Ld,_.mimeType,_.quality):Ld(Crt(T.toDataURL(_.mimeType,_.quality)))}},"draw")},{key:"done",value:i(function(r){var n=r.naturalWidth,o=r.naturalHeight,a=r.result,u=this.file,s=this.image,l=this.options;if(Mu&&!l.checkOrientation&&Mu.revokeObjectURL(s.src),a)if(l.strict&&a.size>u.size&&l.mimeType===u.type&&!(l.width>n||l.height>o||l.minWidth>n||l.minHeight>o||l.maxWidth<n||l.maxHeight<o))a=u;else{var f=new Date;a.lastModified=f.getTime(),a.lastModifiedDate=f,a.name=u.name,a.name&&a.type!==u.type&&(a.name=a.name.replace(Wrt,Urt(a.type)))}else a=u;this.result=a,l.success&&l.success.call(this,a)},"done")},{key:"fail",value:i(function(r){var n=this.options;if(n.error)n.error.call(this,r);else throw r},"fail")},{key:"abort",value:i(function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))},"abort")}],[{key:"noConflict",value:i(function(){return window.Compressor=Krt,t},"noConflict")},{key:"setDefaults",value:i(function(r){$b(HJ,r)},"setDefaults")}]),t}();XJ.exports=Yrt});nF();aF();sF();l0();EF();var Cie=D(),Fie=Oe(),Lie=he(),fh=le(),jie=Ae(),Nie=Pe(),Die=er(),Uie=Le(),Mie=He().f,Bie=Vl(),Oi=Lie.Symbol,Sa=Oi&&Oi.prototype;Fie&&Nie(Oi)&&(!("description"in Sa)||Oi().description!==void 0)&&(c0={},ec=i(function(){var e=arguments.length<1||arguments[0]===void 0?void 0:Uie(arguments[0]),r=Die(Sa,this)?new Oi(e):e===void 0?Oi():Oi(e);return e===""&&(c0[r]=!0),r},"_Symbol"),Bie(ec,Oi),ec.prototype=Sa,Sa.constructor=ec,RF=String(Oi("test"))=="Symbol(test)",TF=fh(Sa.toString),AF=fh(Sa.valueOf),IF=/^Symbol\((.*)\)[^)]+$/,qF=fh("".replace),kF=fh("".slice),Mie(Sa,"description",{configurable:!0,get:i(function(){var e=AF(this),r=TF(e);if(jie(c0,e))return"";var n=RF?kF(r,7,-1):qF(r,IF,"$1");return n===""?void 0:n},"description")}),Cie({global:!0,constructor:!0,forced:!0},{Symbol:ec}));var c0,ec,RF,TF,AF,IF,qF,kF;var $ie=ut();$ie("asyncIterator");var zie=ut();zie("hasInstance");var Gie=ut();Gie("isConcatSpreadable");var Hie=ut();Hie("iterator");var Vie=ut();Vie("match");var Wie=ut();Wie("matchAll");var Kie=ut();Kie("replace");var Yie=ut();Yie("search");var Xie=ut();Xie("species");var Jie=ut();Jie("split");var Qie=ut(),Zie=Hw();Qie("toPrimitive");Zie();var eoe=ye(),toe=ut(),roe=yr();toe("toStringTag");roe(eoe("Symbol"),"Symbol");var noe=ut();noe("unscopables");var XF=D(),qoe=he(),Gn=gr(),JF=y0(),m0="WebAssembly",YF=qoe[m0],dh=Error("e",{cause:7}).cause!==7,Pa=i(function(e,r){var n={};n[e]=JF(e,r,dh),XF({global:!0,constructor:!0,arity:1,forced:dh},n)},"exportGlobalErrorCauseWrapper"),g0=i(function(e,r){if(YF&&YF[e]){var n={};n[e]=JF(m0+"."+e,r,dh),XF({target:m0,stat:!0,constructor:!0,arity:1,forced:dh},n)}},"exportWebAssemblyErrorCauseWrapper");Pa("Error",function(t){return i(function(r){return Gn(t,this,arguments)},"Error")});Pa("EvalError",function(t){return i(function(r){return Gn(t,this,arguments)},"EvalError")});Pa("RangeError",function(t){return i(function(r){return Gn(t,this,arguments)},"RangeError")});Pa("ReferenceError",function(t){return i(function(r){return Gn(t,this,arguments)},"ReferenceError")});Pa("SyntaxError",function(t){return i(function(r){return Gn(t,this,arguments)},"SyntaxError")});Pa("TypeError",function(t){return i(function(r){return Gn(t,this,arguments)},"TypeError")});Pa("URIError",function(t){return i(function(r){return Gn(t,this,arguments)},"URIError")});g0("CompileError",function(t){return i(function(r){return Gn(t,this,arguments)},"CompileError")});g0("LinkError",function(t){return i(function(r){return Gn(t,this,arguments)},"LinkError")});g0("RuntimeError",function(t){return i(function(r){return Gn(t,this,arguments)},"RuntimeError")});dL();var Oae=D(),Sae=ye(),_ae=gr(),hL=se(),Pae=y0(),_0="AggregateError",vL=Sae(_0),yL=!hL(function(){return vL([1]).errors[0]!==1})&&hL(function(){return vL([1],_0,{cause:7}).cause!==7});Oae({global:!0,constructor:!0,arity:2,forced:yL},{AggregateError:Pae(_0,function(t){return i(function(r,n){return _ae(t,this,arguments)},"AggregateError")},yL,!0)});var Aae=D(),Iae=ke(),qae=Fe(),kae=at(),xae=nt();Aae({target:"Array",proto:!0},{at:i(function(e){var r=Iae(this),n=qae(r),o=kae(e),a=o>=0?o:n+o;return a<0||a>=n?void 0:r[a]},"at")});xae("at");var Uae=D(),Mae=se(),Bae=ba(),$ae=Te(),zae=ke(),Gae=Fe(),wL=Ra(),OL=$n(),Hae=wa(),Vae=ns(),Wae=ge(),Kae=vo(),SL=Wae("isConcatSpreadable"),Yae=Kae>=51||!Mae(function(){var t=[];return t[SL]=!1,t.concat()[0]!==t}),Xae=Vae("concat"),Jae=i(function(e){if(!$ae(e))return!1;var r=e[SL];return r!==void 0?!!r:Bae(e)},"isConcatSpreadable"),Qae=!Yae||!Xae;Uae({target:"Array",proto:!0,arity:1,forced:Qae},{concat:i(function(e){var r=zae(this),n=Hae(r,0),o=0,a,u,s,l,f;for(a=-1,s=arguments.length;a<s;a++)if(f=a===-1?r:arguments[a],Jae(f))for(l=Gae(f),wL(o+l),u=0;u<l;u++,o++)u in f&&OL(n,o,f[u]);else wL(o+1),OL(n,o++,f);return n.length=o,n},"concat")});var iue=D(),oue=T0(),aue=nt();iue({target:"Array",proto:!0},{copyWithin:oue});aue("copyWithin");var lue=D(),cue=Oh(),fue=nt();lue({target:"Array",proto:!0},{fill:cue});fue("fill");var pue=D(),due=Ot().filter,hue=ns(),vue=hue("filter");pue({target:"Array",proto:!0,forced:!vue},{filter:i(function(e){return due(this,e,arguments.length>1?arguments[1]:void 0)},"filter")});var yue=D(),mue=Ot().find,gue=nt(),A0="find",AL=!0;A0 in[]&&Array(1)[A0](function(){AL=!1});yue({target:"Array",proto:!0,forced:AL},{find:i(function(e){return mue(this,e,arguments.length>1?arguments[1]:void 0)},"find")});gue(A0);var bue=D(),wue=Ot().findIndex,Oue=nt(),I0="findIndex",IL=!0;I0 in[]&&Array(1)[I0](function(){IL=!1});bue({target:"Array",proto:!0,forced:IL},{findIndex:i(function(e){return wue(this,e,arguments.length>1?arguments[1]:void 0)},"findIndex")});Oue(I0);var Rue=D(),Tue=nc().findLast,Aue=nt();Rue({target:"Array",proto:!0},{findLast:i(function(e){return Tue(this,e,arguments.length>1?arguments[1]:void 0)},"findLast")});Aue("findLast");var Iue=D(),que=nc().findLastIndex,kue=nt();Iue({target:"Array",proto:!0},{findLastIndex:i(function(e){return que(this,e,arguments.length>1?arguments[1]:void 0)},"findLastIndex")});kue("findLastIndex");var Nue=D(),Due=q0(),Uue=ke(),Mue=Fe(),Bue=at(),$ue=wa();Nue({target:"Array",proto:!0},{flat:i(function(){var e=arguments.length?arguments[0]:void 0,r=Uue(this),n=Mue(r),o=$ue(r,0);return o.length=Due(o,r,r,n,0,e===void 0?1:Bue(e)),o},"flat")});var zue=D(),Gue=q0(),Hue=de(),Vue=ke(),Wue=Fe(),Kue=wa();zue({target:"Array",proto:!0},{flatMap:i(function(e){var r=Vue(this),n=Wue(r),o;return Hue(e),o=Kue(r,0),o.length=Gue(o,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),o},"flatMap")});var use=D(),sse=k0(),lse=ic(),cse=!lse(function(t){Array.from(t)});use({target:"Array",stat:!0,forced:cse},{from:sse});var fse=D(),pse=Gl().includes,dse=se(),hse=nt(),vse=dse(function(){return!Array(1).includes()});fse({target:"Array",proto:!0,forced:vse},{includes:i(function(e){return pse(this,e,arguments.length>1?arguments[1]:void 0)},"includes")});hse("includes");var j1t=Re(uc(),1);var Vse=D(),Wse=le(),Kse=mi(),Yse=bt(),Xse=Ta(),Jse=Wse([].join),Qse=Kse!=Object,Zse=Xse("join",",");Vse({target:"Array",proto:!0,forced:Qse||!Zse},{join:i(function(e){return Jse(Yse(this),e===void 0?",":e)},"join")});var ele=D(),tle=Ot().map,rle=ns(),nle=rle("map");ele({target:"Array",proto:!0,forced:!nle},{map:i(function(e){return tle(this,e,arguments.length>1?arguments[1]:void 0)},"map")});var ile=D(),ole=se(),ale=gn(),ule=$n(),uj=Array,sle=ole(function(){function t(){}return i(t,"F"),!(uj.of.call(t)instanceof t)});ile({target:"Array",stat:!0,forced:sle},{of:i(function(){for(var e=0,r=arguments.length,n=new(ale(this)?this:uj)(r);r>e;)ule(n,e,arguments[e++]);return n.length=r,n},"of")});var lle=D(),cle=ke(),fle=Fe(),ple=Ra(),dle=se(),hle=dle(function(){return[].push.call({length:4294967296},1)!==4294967297}),vle=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();lle({target:"Array",proto:!0,arity:1,forced:hle||vle},{push:i(function(e){var r=cle(this),n=fle(r),o=arguments.length;ple(n+o);for(var a=0;a<o;a++)r[n]=arguments[a],n++;return r.length=n,n},"push")});var yle=D(),sj=ba(),mle=gn(),gle=Te(),lj=yn(),ble=Fe(),wle=bt(),Ole=$n(),Sle=ge(),_le=ns(),Ple=So(),Ele=_le("slice"),Rle=Sle("species"),D0=Array,Tle=Math.max;yle({target:"Array",proto:!0,forced:!Ele},{slice:i(function(e,r){var n=wle(this),o=ble(n),a=lj(e,o),u=lj(r===void 0?o:r,o),s,l,f;if(sj(n)&&(s=n.constructor,mle(s)&&(s===D0||sj(s.prototype))?s=void 0:gle(s)&&(s=s[Rle],s===null&&(s=void 0)),s===D0||s===void 0))return Ple(n,a,u);for(l=new(s===void 0?D0:s)(Tle(u-a,0)),f=0;a<u;a++,f++)a in n&&Ole(l,f,n[a]);return l.length=f,l},"slice")});var Lle=D(),Sj=le(),jle=de(),Nle=ke(),Dle=Fe(),Ule=wh(),mj=Le(),B0=se(),Mle=Rh(),Ble=Ta(),gj=U0(),$le=M0(),bj=vo(),wj=Th(),Eo=[],Oj=Sj(Eo.sort),zle=Sj(Eo.push),Gle=B0(function(){Eo.sort(void 0)}),Hle=B0(function(){Eo.sort(null)}),Vle=Ble("sort"),_j=!B0(function(){if(bj)return bj<70;if(!(gj&&gj>3)){if($le)return!0;if(wj)return wj<603;var t="",e,r,n,o;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(o=0;o<47;o++)Eo.push({k:r+o,v:n})}for(Eo.sort(function(a,u){return u.v-a.v}),o=0;o<Eo.length;o++)r=Eo[o].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),Wle=Gle||!Hle||!Vle||!_j,Kle=i(function(e){return function(r,n){return n===void 0?-1:r===void 0?1:e!==void 0?+e(r,n)||0:mj(r)>mj(n)?1:-1}},"getSortCompare");Lle({target:"Array",proto:!0,forced:Wle},{sort:i(function(e){e!==void 0&&jle(e);var r=Nle(this);if(_j)return e===void 0?Oj(r):Oj(r,e);var n=[],o=Dle(r),a,u;for(u=0;u<o;u++)u in r&&zle(n,r[u]);for(Mle(n,Kle(e)),a=n.length,u=0;u<a;)r[u]=n[u++];for(;u<o;)Ule(r,u++);return r},"sort")});var Zle=Ro();Zle("Array");var ece=D(),tce=ke(),rce=yn(),nce=at(),ice=Fe(),oce=Ra(),ace=wa(),uce=$n(),$0=wh(),sce=ns(),lce=sce("splice"),cce=Math.max,fce=Math.min;ece({target:"Array",proto:!0,forced:!lce},{splice:i(function(e,r){var n=tce(this),o=ice(n),a=rce(e,o),u=arguments.length,s,l,f,d,y,m;for(u===0?s=l=0:u===1?(s=0,l=o-a):(s=u-2,l=fce(cce(nce(r),0),o-a)),oce(o+s-l),f=ace(n,l),d=0;d<l;d++)y=a+d,y in n&&uce(f,d,n[y]);if(f.length=l,s<l){for(d=a;d<o-l;d++)y=d+l,m=d+s,y in n?n[m]=n[y]:$0(n,m);for(d=o;d>o-l+s;d--)$0(n,d-1)}else if(s>l)for(d=o-l;d>a;d--)y=d+l-1,m=d+s-1,y in n?n[m]=n[y]:$0(n,m);for(d=0;d<s;d++)n[d+a]=arguments[d+2];return n.length=o-l+s,f},"splice")});var pce=nt();pce("flat");var dce=nt();dce("flatMap");var $ce=D(),zce=he(),Gce=Q0(),Hce=Ro(),Z0="ArrayBuffer",Jj=Gce[Z0],Vce=zce[Z0];$ce({global:!0,constructor:!0,forced:Vce!==Jj},{ArrayBuffer:Jj});Hce(Z0);var Xce=Ae(),Jce=rt(),Qce=Zj(),Zce=ge(),eN=Zce("toPrimitive"),tN=Date.prototype;Xce(tN,eN)||Jce(tN,eN,Qce);var efe=Pe(),rN=Te(),tfe=He(),rfe=Bt(),nfe=ge(),ife=Yd(),eO=nfe("hasInstance"),nN=Function.prototype;eO in nN||tfe.f(nN,eO,{value:ife(function(t){if(!efe(this)||!rN(t))return!1;var e=this.prototype;if(!rN(e))return t instanceof this;for(;t=rfe(t);)if(e===t)return!0;return!1},eO)});var ofe=Oe(),afe=ya().EXISTS,iN=le(),ufe=He().f,oN=Function.prototype,sfe=iN(oN.toString),aN=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,lfe=iN(aN.exec),cfe="name";ofe&&!afe&&ufe(oN,cfe,{configurable:!0,get:i(function(){try{return lfe(aN,sfe(this))[1]}catch(e){return""}},"get")});var ffe=D(),pfe=he();ffe({global:!0},{globalThis:pfe});var Q1t=Re(l0(),1);var dfe=he(),hfe=yr();hfe(dfe.JSON,"JSON",!0);var ePt=Re(Nh(),1);var rpe=D(),npe=lO(),cO=Math.acosh,ipe=Math.log,_N=Math.sqrt,ope=Math.LN2,ape=!cO||Math.floor(cO(Number.MAX_VALUE))!=710||cO(1/0)!=1/0;rpe({target:"Math",stat:!0,forced:ape},{acosh:i(function(e){var r=+e;return r<1?NaN:r>9490626562425156e-8?ipe(r)+ope:npe(r-1+_N(r-1)*_N(r+1))},"acosh")});var upe=D(),PN=Math.asinh,spe=Math.log,lpe=Math.sqrt;function EN(t){var e=+t;return!isFinite(e)||e==0?e:e<0?-EN(-e):spe(e+lpe(e*e+1))}i(EN,"asinh");upe({target:"Math",stat:!0,forced:!(PN&&1/PN(0)>0)},{asinh:EN});var cpe=D(),RN=Math.atanh,fpe=Math.log;cpe({target:"Math",stat:!0,forced:!(RN&&1/RN(-0)<0)},{atanh:i(function(e){var r=+e;return r==0?r:fpe((1+r)/(1-r))/2},"atanh")});var ppe=D(),dpe=Dh(),hpe=Math.abs,vpe=Math.pow;ppe({target:"Math",stat:!0},{cbrt:i(function(e){var r=+e;return dpe(r)*vpe(hpe(r),1/3)},"cbrt")});var ype=D(),mpe=Math.floor,gpe=Math.log,bpe=Math.LOG2E;ype({target:"Math",stat:!0},{clz32:i(function(e){var r=e>>>0;return r?31-mpe(gpe(r+.5)*bpe):32},"clz32")});var Ope=D(),Spe=dc(),IN=Math.cosh,_pe=Math.abs,fO=Math.E;Ope({target:"Math",stat:!0,forced:!IN||IN(710)===1/0},{cosh:i(function(e){var r=Spe(_pe(e)-1)+1;return(r+1/(r*fO*fO))*(fO/2)},"cosh")});var Ppe=D(),qN=dc();Ppe({target:"Math",stat:!0,forced:qN!=Math.expm1},{expm1:qN});var Ipe=D(),qpe=hO();Ipe({target:"Math",stat:!0},{fround:qpe});var kpe=D(),xN=Math.hypot,xpe=Math.abs,Cpe=Math.sqrt,Fpe=!!xN&&xN(1/0,NaN)!==1/0;kpe({target:"Math",stat:!0,arity:2,forced:Fpe},{hypot:i(function(e,r){for(var n=0,o=0,a=arguments.length,u=0,s,l;o<a;)s=xpe(arguments[o++]),u<s?(l=u/s,n=n*l*l+1,u=s):s>0?(l=s/u,n+=l*l):n+=s;return u===1/0?1/0:u*Cpe(n)},"hypot")});var Lpe=D(),jpe=se(),CN=Math.imul,Npe=jpe(function(){return CN(4294967295,5)!=-5||CN.length!=2});Lpe({target:"Math",stat:!0,forced:Npe},{imul:i(function(e,r){var n=65535,o=+e,a=+r,u=n&o,s=n&a;return 0|u*s+((n&o>>>16)*s+u*(n&a>>>16)<<16>>>0)},"imul")});var Mpe=D(),Bpe=vO();Mpe({target:"Math",stat:!0},{log10:Bpe});var $pe=D(),zpe=lO();$pe({target:"Math",stat:!0},{log1p:zpe});var Gpe=D(),Hpe=Math.log,Vpe=Math.LN2;Gpe({target:"Math",stat:!0},{log2:i(function(e){return Hpe(e)/Vpe},"log2")});var Wpe=D(),Kpe=Dh();Wpe({target:"Math",stat:!0},{sign:Kpe});var Ype=D(),Xpe=se(),LN=dc(),Jpe=Math.abs,jN=Math.exp,Qpe=Math.E,Zpe=Xpe(function(){return Math.sinh(-2e-17)!=-2e-17});Ype({target:"Math",stat:!0,forced:Zpe},{sinh:i(function(e){var r=+e;return Jpe(r)<1?(LN(r)-LN(-r))/2:(jN(r-1)-jN(-r-1))*(Qpe/2)},"sinh")});var ede=D(),NN=dc(),DN=Math.exp;ede({target:"Math",stat:!0},{tanh:i(function(e){var r=+e,n=NN(r),o=NN(-r);return n==1/0?1:o==1/0?-1:(n-o)/(DN(r)+DN(-r))},"tanh")});var tde=yr();tde(Math,"Math",!0);var rde=D(),nde=Lw();rde({target:"Math",stat:!0},{trunc:nde});var fde=Oe(),wO=he(),GN=le(),pde=Ju(),dde=rt(),zN=Ae(),hde=_a(),vde=er(),yde=yo(),HN=zd(),mde=se(),gde=bi().f,bde=Mt().f,wde=He().f,Ode=Bh(),Sde=Ia().trim,bO="Number",qo=wO[bO],mO=qo.prototype,_de=wO.TypeError,Pde=GN("".slice),zh=GN("".charCodeAt),Ede=i(function(e){var r=HN(e,"number");return typeof r=="bigint"?r:Rde(r)},"toNumeric"),Rde=i(function(e){var r=HN(e,"number"),n,o,a,u,s,l,f,d;if(yde(r))throw _de("Cannot convert a Symbol value to a number");if(typeof r=="string"&&r.length>2){if(r=Sde(r),n=zh(r,0),n===43||n===45){if(o=zh(r,2),o===88||o===120)return NaN}else if(n===48){switch(zh(r,1)){case 66:case 98:a=2,u=49;break;case 79:case 111:a=8,u=55;break;default:return+r}for(s=Pde(r,2),l=s.length,f=0;f<l;f++)if(d=zh(s,f),d<48||d>u)return NaN;return parseInt(s,a)}}return+r},"toNumber");if(pde(bO,!qo(" 0o1")||!qo("0b1")||qo("+0x1"))){for(qa=i(function(e){var r=arguments.length<1?0:qo(Ede(e)),n=this;return vde(mO,n)&&mde(function(){Ode(n)})?hde(Object(r),n,qa):r},"Number"),gO=fde?gde(qo):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Gh=0;gO.length>Gh;Gh++)zN(qo,vc=gO[Gh])&&!zN(qa,vc)&&wde(qa,vc,bde(qo,vc));qa.prototype=mO,mO.constructor=qa,dde(wO,bO,qa,{constructor:!0})}var qa,gO,Gh,vc;var Tde=D();Tde({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)});var qde=D(),kde=OO();qde({target:"Number",stat:!0},{isFinite:kde});var Fde=D(),Lde=Hh();Fde({target:"Number",stat:!0},{isInteger:Lde});var jde=D();jde({target:"Number",stat:!0},{isNaN:i(function(e){return e!=e},"isNaN")});var Nde=D(),Dde=Hh(),Ude=Math.abs;Nde({target:"Number",stat:!0},{isSafeInteger:i(function(e){return Dde(e)&&Ude(e)<=9007199254740991},"isSafeInteger")});var Mde=D();Mde({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991});var Bde=D();Bde({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991});var Yde=D(),ZN=QN();Yde({target:"Number",stat:!0,forced:Number.parseFloat!=ZN},{parseFloat:ZN});var rhe=D(),aD=SO();rhe({target:"Number",stat:!0,forced:Number.parseInt!=aD},{parseInt:aD});var uhe=D(),_O=le(),she=at(),lhe=Bh(),che=mc(),fhe=vO(),Wh=se(),phe=RangeError,sD=String,dhe=isFinite,hhe=Math.abs,vhe=Math.floor,lD=Math.pow,yhe=Math.round,Kn=_O(1 .toExponential),mhe=_O(che),cD=_O("".slice),fD=Kn(-69e-12,4)==="-6.9000e-11"&&Kn(1.255,2)==="1.25e+0"&&Kn(12345,3)==="1.235e+4"&&Kn(25,0)==="3e+1",ghe=Wh(function(){Kn(1,1/0)})&&Wh(function(){Kn(1,-1/0)}),bhe=!Wh(function(){Kn(1/0,1/0)})&&!Wh(function(){Kn(NaN,1/0)}),whe=!fD||!ghe||!bhe;uhe({target:"Number",proto:!0,forced:whe},{toExponential:i(function(e){var r=lhe(this);if(e===void 0)return Kn(r);var n=she(e);if(!dhe(r))return String(r);if(n<0||n>20)throw phe("Incorrect fraction digits");if(fD)return Kn(r,n);var o="",a="",u=0,s="",l="";if(r<0&&(o="-",r=-r),r===0)u=0,a=mhe("0",n+1);else{var f=fhe(r);u=vhe(f);var d=0,y=lD(10,u-n);d=yhe(r/y),2*r>=(2*d+1)*y&&(d+=1),d>=lD(10,n+1)&&(d/=10,u+=1),a=sD(d)}return n!==0&&(a=cD(a,0,1)+"."+cD(a,1)),u===0?(s="+",l="0"):(s=u>0?"+":"-",l=sD(hhe(u))),a+="e"+s+l,o+a},"toExponential")});var Ohe=D(),RO=le(),She=at(),_he=Bh(),Phe=mc(),pD=se(),Ehe=RangeError,vD=String,yD=Math.floor,EO=RO(Phe),dD=RO("".slice),gc=RO(1 .toFixed),Kh=i(function t(e,r,n){return r===0?n:r%2===1?t(e,r-1,n*e):t(e*e,r/2,n)},"pow"),Rhe=i(function(e){for(var r=0,n=e;n>=4096;)r+=12,n/=4096;for(;n>=2;)r+=1,n/=2;return r},"log"),ls=i(function(e,r,n){for(var o=-1,a=n;++o<6;)a+=r*e[o],e[o]=a%1e7,a=yD(a/1e7)},"multiply"),PO=i(function(e,r){for(var n=6,o=0;--n>=0;)o+=e[n],e[n]=yD(o/r),o=o%r*1e7},"divide"),hD=i(function(e){for(var r=6,n="";--r>=0;)if(n!==""||r===0||e[r]!==0){var o=vD(e[r]);n=n===""?o:n+EO("0",7-o.length)+o}return n},"dataToString"),The=pD(function(){return gc(8e-5,3)!=="0.000"||gc(.9,0)!=="1"||gc(1.255,2)!=="1.25"||gc(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!pD(function(){gc({})});Ohe({target:"Number",proto:!0,forced:The},{toFixed:i(function(e){var r=_he(this),n=She(e),o=[0,0,0,0,0,0],a="",u="0",s,l,f,d;if(n<0||n>20)throw Ehe("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return vD(r);if(r<0&&(a="-",r=-r),r>1e-21)if(s=Rhe(r*Kh(2,69,1))-69,l=s<0?r*Kh(2,-s,1):r/Kh(2,s,1),l*=4503599627370496,s=52-s,s>0){for(ls(o,0,l),f=n;f>=7;)ls(o,1e7,0),f-=7;for(ls(o,Kh(10,f,1),0),f=s-1;f>=23;)PO(o,1<<23),f-=23;PO(o,1<<f),ls(o,1,1),PO(o,2),u=hD(o)}else ls(o,0,l),ls(o,1<<-s,0),u=hD(o)+EO("0",n);return n>0?(d=u.length,u=a+(d<=n?"0."+EO("0",n-d)+u:dD(u,0,d-n)+"."+dD(u,d-n))):u=a+u,u},"toFixed")});var jhe=D(),wD=AO();jhe({target:"Object",stat:!0,arity:2,forced:Object.assign!==wD},{assign:wD});var Mhe=D(),Bhe=Oe(),$he=bc(),zhe=de(),Ghe=ke(),Hhe=He();Bhe&&Mhe({target:"Object",proto:!0,forced:$he},{__defineGetter__:i(function(e,r){Hhe.f(Ghe(this),e,{get:zhe(r),enumerable:!0,configurable:!0})},"__defineGetter__")});var Vhe=D(),Whe=Oe(),Khe=bc(),Yhe=de(),Xhe=ke(),Jhe=He();Whe&&Vhe({target:"Object",proto:!0,forced:Khe},{__defineSetter__:i(function(e,r){Jhe.f(Xhe(this),e,{set:Yhe(r),enumerable:!0,configurable:!0})},"__defineSetter__")});var ive=D(),ove=IO().entries;ive({target:"Object",stat:!0},{entries:i(function(e){return ove(e)},"entries")});var ave=D(),uve=ss(),sve=se(),lve=Te(),cve=Io().onFreeze,qO=Object.freeze,fve=sve(function(){qO(1)});ave({target:"Object",stat:!0,forced:fve,sham:!uve},{freeze:i(function(e){return qO&&lve(e)?qO(cve(e)):e},"freeze")});var pve=D(),dve=be(),hve=$n();pve({target:"Object",stat:!0},{fromEntries:i(function(e){var r={};return dve(e,function(n,o){hve(r,n,o)},{AS_ENTRIES:!0}),r},"fromEntries")});var vve=D(),yve=se(),mve=bt(),RD=Mt().f,TD=Oe(),gve=yve(function(){RD(1)}),bve=!TD||gve;vve({target:"Object",stat:!0,forced:bve,sham:!TD},{getOwnPropertyDescriptor:i(function(e,r){return RD(mve(e),r)},"getOwnPropertyDescriptor")});var wve=D(),Ove=Oe(),Sve=Jd(),_ve=bt(),Pve=Mt(),Eve=$n();wve({target:"Object",stat:!0,sham:!Ove},{getOwnPropertyDescriptors:i(function(e){for(var r=_ve(e),n=Pve.f,o=Sve(r),a={},u=0,s,l;o.length>u;)l=n(r,s=o[u++]),l!==void 0&&Eve(a,s,l);return a},"getOwnPropertyDescriptors")});var Rve=D(),Tve=se(),Ave=ih().f,Ive=Tve(function(){return!Object.getOwnPropertyNames(1)});Rve({target:"Object",stat:!0,forced:Ive},{getOwnPropertyNames:Ave});var qve=D(),kve=se(),xve=ke(),AD=Bt(),Cve=hh(),Fve=kve(function(){AD(1)});qve({target:"Object",stat:!0,forced:Fve,sham:!Cve},{getPrototypeOf:i(function(e){return AD(xve(e))},"getPrototypeOf")});var Lve=D(),jve=Ae();Lve({target:"Object",stat:!0},{hasOwn:jve});var Nve=D(),Dve=kO();Nve({target:"Object",stat:!0},{is:Dve});var Uve=D(),qD=lc();Uve({target:"Object",stat:!0,forced:Object.isExtensible!==qD},{isExtensible:qD});var Mve=D(),Bve=se(),$ve=Te(),zve=vr(),kD=Lh(),xO=Object.isFrozen,Gve=Bve(function(){xO(1)});Mve({target:"Object",stat:!0,forced:Gve||kD},{isFrozen:i(function(e){return!$ve(e)||kD&&zve(e)=="ArrayBuffer"?!0:xO?xO(e):!1},"isFrozen")});var Hve=D(),Vve=se(),Wve=Te(),Kve=vr(),xD=Lh(),CO=Object.isSealed,Yve=Vve(function(){CO(1)});Hve({target:"Object",stat:!0,forced:Yve||xD},{isSealed:i(function(e){return!Wve(e)||xD&&Kve(e)=="ArrayBuffer"?!0:CO?CO(e):!1},"isSealed")});var Xve=D(),Jve=ke(),CD=ga(),Qve=se(),Zve=Qve(function(){CD(1)});Xve({target:"Object",stat:!0,forced:Zve},{keys:i(function(e){return CD(Jve(e))},"keys")});var eye=D(),tye=Oe(),rye=bc(),nye=ke(),iye=Bn(),oye=Bt(),aye=Mt().f;tye&&eye({target:"Object",proto:!0,forced:rye},{__lookupGetter__:i(function(e){var r=nye(this),n=iye(e),o;do if(o=aye(r,n))return o.get;while(r=oye(r))},"__lookupGetter__")});var uye=D(),sye=Oe(),lye=bc(),cye=ke(),fye=Bn(),pye=Bt(),dye=Mt().f;sye&&uye({target:"Object",proto:!0,forced:lye},{__lookupSetter__:i(function(e){var r=cye(this),n=fye(e),o;do if(o=dye(r,n))return o.set;while(r=pye(r))},"__lookupSetter__")});var hye=D(),vye=Te(),yye=Io().onFreeze,mye=ss(),gye=se(),FO=Object.preventExtensions,bye=gye(function(){FO(1)});hye({target:"Object",stat:!0,forced:bye,sham:!mye},{preventExtensions:i(function(e){return FO&&vye(e)?FO(yye(e)):e},"preventExtensions")});var wye=D(),Oye=Te(),Sye=Io().onFreeze,_ye=ss(),Pye=se(),LO=Object.seal,Eye=Pye(function(){LO(1)});wye({target:"Object",stat:!0,forced:Eye,sham:!_ye},{seal:i(function(e){return LO&&Oye(e)?LO(Sye(e)):e},"seal")});var Aye=Zd(),Iye=rt(),qye=LD();Aye||Iye(Object.prototype,"toString",qye,{unsafe:!0});var kye=D(),xye=IO().values;kye({target:"Object",stat:!0},{values:i(function(e){return xye(e)},"values")});M3();$3();G3();H3();V3();X3();var Ege=D(),Rge=ce(),Tge=de(),Age=Ei(),Ige=Co(),qge=be();Ege({target:"Promise",stat:!0},{allSettled:i(function(e){var r=this,n=Age.f(r),o=n.resolve,a=n.reject,u=Ige(function(){var s=Tge(r.resolve),l=[],f=0,d=1;qge(e,function(y){var m=f++,w=!1;d++,Rge(s,r,y).then(function(_){w||(w=!0,l[m]={status:"fulfilled",value:_},--d||o(l))},function(_){w||(w=!0,l[m]={status:"rejected",reason:_},--d||o(l))})}),--d||o(l)});return u.error&&a(u.value),n.promise},"allSettled")});var kge=D(),xge=ce(),Cge=de(),Fge=ye(),Lge=Ei(),jge=Co(),Nge=be(),J3="No one promise resolved";kge({target:"Promise",stat:!0},{any:i(function(e){var r=this,n=Fge("AggregateError"),o=Lge.f(r),a=o.resolve,u=o.reject,s=jge(function(){var l=Cge(r.resolve),f=[],d=0,y=1,m=!1;Nge(e,function(w){var _=d++,T=!1;y++,xge(l,r,w).then(function(R){T||m||(m=!0,a(R))},function(R){T||m||(T=!0,f[_]=R,--y||u(new n(f,J3)))})}),--y||u(new n(f,J3))});return s.error&&u(s.value),o.promise},"any")});var Dge=D(),Uge=tt(),av=Fa(),Mge=se(),Z3=ye(),eU=Pe(),Bge=tr(),Q3=fS(),$ge=rt(),dS=av&&av.prototype,zge=!!av&&Mge(function(){dS.finally.call({then:i(function(){},"then")},function(){})});Dge({target:"Promise",proto:!0,real:!0,forced:zge},{finally:i(function(e){var r=Bge(this,Z3("Promise")),n=eU(e);return this.then(n?function(o){return Q3(r,e()).then(function(){return o})}:e,n?function(o){return Q3(r,e()).then(function(){throw o})}:e)},"_finally")});!Uge&&eU(av)&&(pS=Z3("Promise").prototype.finally,dS.finally!==pS&&$ge(dS,"finally",pS,{unsafe:!0}));var pS;var Gge=D(),Hge=gr(),Vge=de(),Wge=te(),Kge=se(),Yge=!Kge(function(){Reflect.apply(function(){})});Gge({target:"Reflect",stat:!0,forced:Yge},{apply:i(function(e,r,n){return Hge(Vge(e),r,Wge(n))},"apply")});var nbe=D(),ibe=ye(),vS=gr(),obe=oU(),aU=fs(),abe=te(),uU=Te(),ube=wt(),lU=se(),yS=ibe("Reflect","construct"),sbe=Object.prototype,lbe=[].push,cU=lU(function(){function t(){}return i(t,"F"),!(yS(function(){},[],t)instanceof t)}),fU=!lU(function(){yS(function(){})}),sU=cU||fU;nbe({target:"Reflect",stat:!0,forced:sU,sham:sU},{construct:i(function(e,r){aU(e),abe(r);var n=arguments.length<3?e:aU(arguments[2]);if(fU&&!cU)return yS(e,r,n);if(e==n){switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3])}var o=[null];return vS(lbe,o,r),new(vS(obe,e,o))}var a=n.prototype,u=ube(uU(a)?a:sbe),s=vS(e,u,r);return uU(s)?s:u},"construct")});var cbe=D(),fbe=Oe(),pU=te(),pbe=Bn(),dU=He(),dbe=se(),hbe=dbe(function(){Reflect.defineProperty(dU.f({},1,{value:1}),1,{value:2})});cbe({target:"Reflect",stat:!0,forced:hbe,sham:!fbe},{defineProperty:i(function(e,r,n){pU(e);var o=pbe(r);pU(n);try{return dU.f(e,o,n),!0}catch(a){return!1}},"defineProperty")});var vbe=D(),ybe=te(),mbe=Mt().f;vbe({target:"Reflect",stat:!0},{deleteProperty:i(function(e,r){var n=mbe(ybe(e),r);return n&&!n.configurable?!1:delete e[r]},"deleteProperty")});var gbe=D(),bbe=ce(),wbe=Te(),Obe=te(),Sbe=mS(),_be=Mt(),Pbe=Bt();function yU(t,e){var r=arguments.length<3?t:arguments[2],n,o;if(Obe(t)===r)return t[e];if(n=_be.f(t,e),n)return Sbe(n)?n.value:n.get===void 0?void 0:bbe(n.get,r);if(wbe(o=Pbe(t)))return yU(o,e,r)}i(yU,"get");gbe({target:"Reflect",stat:!0},{get:yU});var Ebe=D(),Rbe=Oe(),Tbe=te(),Abe=Mt();Ebe({target:"Reflect",stat:!0,sham:!Rbe},{getOwnPropertyDescriptor:i(function(e,r){return Abe.f(Tbe(e),r)},"getOwnPropertyDescriptor")});var Ibe=D(),qbe=te(),kbe=Bt(),xbe=hh();Ibe({target:"Reflect",stat:!0,sham:!xbe},{getPrototypeOf:i(function(e){return kbe(qbe(e))},"getPrototypeOf")});var Cbe=D();Cbe({target:"Reflect",stat:!0},{has:i(function(e,r){return r in e},"has")});var Fbe=D(),Lbe=te(),jbe=lc();Fbe({target:"Reflect",stat:!0},{isExtensible:i(function(e){return Lbe(e),jbe(e)},"isExtensible")});var Nbe=D(),Dbe=Jd();Nbe({target:"Reflect",stat:!0},{ownKeys:Dbe});var Ube=D(),Mbe=ye(),Bbe=te(),$be=ss();Ube({target:"Reflect",stat:!0,sham:!$be},{preventExtensions:i(function(e){Bbe(e);try{var r=Mbe("Object","preventExtensions");return r&&r(e),!0}catch(n){return!1}},"preventExtensions")});var zbe=D(),Gbe=ce(),Hbe=te(),mU=Te(),Vbe=mS(),Wbe=se(),gS=He(),gU=Mt(),Kbe=Bt(),bU=kr();function wU(t,e,r){var n=arguments.length<4?t:arguments[3],o=gU.f(Hbe(t),e),a,u,s;if(!o){if(mU(u=Kbe(t)))return wU(u,e,r,n);o=bU(0)}if(Vbe(o)){if(o.writable===!1||!mU(n))return!1;if(a=gU.f(n,e)){if(a.get||a.set||a.writable===!1)return!1;a.value=r,gS.f(n,e,a)}else gS.f(n,e,bU(0,r))}else{if(s=o.set,s===void 0)return!1;Gbe(s,n,r)}return!0}i(wU,"set");var Ybe=Wbe(function(){var t=i(function(){},"Constructor"),e=gS.f(new t,"a",{configurable:!0});return Reflect.set(t.prototype,"a",1,e)!==!1});zbe({target:"Reflect",stat:!0,forced:Ybe},{set:wU});var Xbe=D(),Jbe=te(),Qbe=p0(),OU=zn();OU&&Xbe({target:"Reflect",stat:!0},{setPrototypeOf:i(function(e,r){Jbe(e),Qbe(r);try{return OU(e,r),!0}catch(n){return!1}},"setPrototypeOf")});var Zbe=D(),ewe=he(),twe=yr();Zbe({global:!0},{Reflect:{}});twe(ewe.Reflect,"Reflect",!0);var wwe=Oe(),RS=he(),Rc=le(),Owe=Ju(),Swe=_a(),_we=It(),Pwe=bi().f,IU=er(),Ewe=gs(),qU=Le(),Rwe=bs(),CU=Ec(),Twe=d0(),Awe=rt(),Iwe=se(),qwe=Ae(),kwe=We().enforce,xwe=Ro(),Cwe=ge(),FU=sv(),LU=SS(),Fwe=Cwe("match"),jo=RS.RegExp,ws=jo.prototype,Lwe=RS.SyntaxError,jwe=Rc(ws.exec),lv=Rc("".charAt),kU=Rc("".replace),xU=Rc("".indexOf),Nwe=Rc("".slice),Dwe=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,ja=/a/g,_S=/a/g,Uwe=new jo(ja)!==ja,jU=CU.MISSED_STICKY,Mwe=CU.UNSUPPORTED_Y,Bwe=wwe&&(!Uwe||jU||FU||LU||Iwe(function(){return _S[Fwe]=!1,jo(ja)!=ja||jo(_S)==_S||jo(ja,"i")!="/a/i"})),$we=i(function(e){for(var r=e.length,n=0,o="",a=!1,u;n<=r;n++){if(u=lv(e,n),u==="\\"){o+=u+lv(e,++n);continue}!a&&u==="."?o+="[\\s\\S]":(u==="["?a=!0:u==="]"&&(a=!1),o+=u)}return o},"handleDotAll"),zwe=i(function(e){for(var r=e.length,n=0,o="",a=[],u={},s=!1,l=!1,f=0,d="",y;n<=r;n++){if(y=lv(e,n),y==="\\")y=y+lv(e,++n);else if(y==="]")s=!1;else if(!s)switch(!0){case y==="[":s=!0;break;case y==="(":jwe(Dwe,Nwe(e,n+1))&&(n+=2,l=!0),o+=y,f++;continue;case(y===">"&&l):if(d===""||qwe(u,d))throw new Lwe("Invalid capture group name");u[d]=!0,a[a.length]=[d,f],l=!1,d="";continue}l?d+=y:o+=y}return[o,a]},"handleNCG");if(Owe("RegExp",Bwe)){for(Lo=i(function(e,r){var n=IU(ws,this),o=Ewe(e),a=r===void 0,u=[],s=e,l,f,d,y,m,w;if(!n&&o&&a&&e.constructor===Lo)return e;if((o||IU(ws,e))&&(e=e.source,a&&(r=Rwe(s))),e=e===void 0?"":qU(e),r=r===void 0?"":qU(r),s=e,FU&&"dotAll"in ja&&(f=!!r&&xU(r,"s")>-1,f&&(r=kU(r,/s/g,""))),l=r,jU&&"sticky"in ja&&(d=!!r&&xU(r,"y")>-1,d&&Mwe&&(r=kU(r,/y/g,""))),LU&&(y=zwe(e),e=y[0],u=y[1]),m=Swe(jo(e,r),n?this:ws,Lo),(f||d||u.length)&&(w=kwe(m),f&&(w.dotAll=!0,w.raw=Lo($we(e),l)),d&&(w.sticky=!0),u.length&&(w.groups=u)),e!==s)try{_we(m,"source",s===""?"(?:)":s)}catch(_){}return m},"RegExp"),PS=Pwe(jo),ES=0;PS.length>ES;)Twe(Lo,jo,PS[ES++]);ws.constructor=Lo,Lo.prototype=ws,Awe(RS,"RegExp",Lo,{constructor:!0})}var Lo,PS,ES;xwe("RegExp");var Hwe=Oe(),Vwe=sv(),Wwe=vr(),Kwe=Ri(),Ywe=We().get,UU=RegExp.prototype,Xwe=TypeError;Hwe&&Vwe&&Kwe(UU,"dotAll",{configurable:!0,get:i(function(){if(this!==UU){if(Wwe(this)==="RegExp")return!!Ywe(this).dotAll;throw Xwe("Incompatible receiver, RegExp required")}},"dotAll")});var bEt=Re(pv(),1);var f0e=he(),p0e=Oe(),d0e=Ri(),h0e=uv(),v0e=se(),zU=f0e.RegExp,GU=zU.prototype,y0e=p0e&&v0e(function(){var t=!0;try{zU(".","d")}catch(l){t=!1}var e={},r="",n=t?"dgimsy":"gimsy",o=i(function(f,d){Object.defineProperty(e,f,{get:i(function(){return r+=d,!0},"get")})},"addGetter"),a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};t&&(a.hasIndices="d");for(var u in a)o(u,a[u]);var s=Object.getOwnPropertyDescriptor(GU,"flags").get.call(e);return s!==n||r!==n});y0e&&d0e(GU,"flags",{configurable:!0,get:h0e});var m0e=Oe(),g0e=Ec().MISSED_STICKY,b0e=vr(),w0e=Ri(),O0e=We().get,HU=RegExp.prototype,S0e=TypeError;m0e&&g0e&&w0e(HU,"sticky",{configurable:!0,get:i(function(){if(this!==HU){if(b0e(this)==="RegExp")return!!O0e(this).sticky;throw S0e("Incompatible receiver, RegExp required")}},"sticky")});pv();var _0e=D(),P0e=ce(),E0e=le(),R0e=Pe(),T0e=Te(),A0e=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},e.test("abc")===!0&&t}(),I0e=TypeError,q0e=E0e(/./.test);_0e({target:"RegExp",proto:!0,forced:!A0e},{test:i(function(e){var r=this.exec;if(!R0e(r))return q0e(this,e);var n=P0e(r,this,e);if(n!==null&&!T0e(n))throw new I0e("RegExp exec method returned something other than an Object or null");return!!n},"test")});var k0e=ya().PROPER,x0e=rt(),C0e=te(),VU=Le(),F0e=se(),L0e=bs(),kS="toString",j0e=RegExp.prototype,WU=j0e[kS],N0e=F0e(function(){return WU.call({source:"a",flags:"b"})!="/a/b"}),D0e=k0e&&WU.name!=kS;(N0e||D0e)&&x0e(RegExp.prototype,kS,i(function(){var e=C0e(this),r=VU(e.source),n=VU(L0e(e));return"/"+r+"/"+n},"toString"),{unsafe:!0});KU();var B0e=D(),$0e=le(),z0e=gt(),G0e=at(),H0e=Le(),V0e=se(),W0e=$0e("".charAt),K0e=V0e(function(){return"\uD842\uDFB7".at(-2)!=="\uD842"});B0e({target:"String",proto:!0,forced:K0e},{at:i(function(e){var r=H0e(z0e(this)),n=r.length,o=G0e(e),a=o>=0?o:n+o;return a<0||a>=n?void 0:W0e(r,a)},"at")});var eOe=D(),tOe=Na().codeAt;eOe({target:"String",proto:!0},{codePointAt:i(function(e){return tOe(this,e)},"codePointAt")});var aOe=D(),rM=le(),uOe=Mt().f,sOe=xr(),eM=Le(),lOe=dv(),cOe=gt(),fOe=hv(),pOe=tt(),tM=rM("".endsWith),dOe=rM("".slice),hOe=Math.min,nM=fOe("endsWith"),vOe=!pOe&&!nM&&!!function(){var t=uOe(String.prototype,"endsWith");return t&&!t.writable}();aOe({target:"String",proto:!0,forced:!vOe&&!nM},{endsWith:i(function(e){var r=eM(cOe(this));lOe(e);var n=arguments.length>1?arguments[1]:void 0,o=r.length,a=n===void 0?o:hOe(sOe(n),o),u=eM(e);return tM?tM(r,u,a):dOe(r,a-u.length,a)===u},"endsWith")});var yOe=D(),mOe=le(),gOe=yn(),bOe=RangeError,iM=String.fromCharCode,oM=String.fromCodePoint,wOe=mOe([].join),OOe=!!oM&&oM.length!=1;yOe({target:"String",stat:!0,arity:1,forced:OOe},{fromCodePoint:i(function(e){for(var r=[],n=arguments.length,o=0,a;n>o;){if(a=+arguments[o++],gOe(a,1114111)!==a)throw bOe(a+" is not a valid code point");r[o]=a<65536?iM(a):iM(((a-=65536)>>10)+55296,a%1024+56320)}return wOe(r,"")},"fromCodePoint")});var SOe=D(),_Oe=le(),POe=dv(),EOe=gt(),aM=Le(),ROe=hv(),TOe=_Oe("".indexOf);SOe({target:"String",proto:!0,forced:!ROe("includes")},{includes:i(function(e){return!!~TOe(aM(EOe(this)),aM(POe(e)),arguments.length>1?arguments[1]:void 0)},"includes")});var qEt=Re(CS(),1);var $Oe=ce(),zOe=Ac(),GOe=te(),HOe=xr(),LS=Le(),VOe=gt(),WOe=At(),KOe=Ic(),mM=Ss();zOe("match",function(t,e,r){return[i(function(o){var a=VOe(this),u=o==null?void 0:WOe(o,t);return u?$Oe(u,o,a):new RegExp(o)[t](LS(a))},"match"),function(n){var o=GOe(this),a=LS(n),u=r(e,o,a);if(u.done)return u.value;if(!o.global)return mM(o,a);var s=o.unicode;o.lastIndex=0;for(var l=[],f=0,d;(d=mM(o,a))!==null;){var y=LS(d[0]);l[f]=y,y===""&&(o.lastIndex=KOe(a,HOe(o.lastIndex),s)),f++}return f===0?null:l}]});var YOe=D(),gM=ce(),OM=le(),XOe=Po(),bM=gt(),SM=xr(),qc=Le(),JOe=te(),QOe=vr(),ZOe=gs(),_M=bs(),eSe=At(),tSe=rt(),rSe=se(),nSe=ge(),iSe=tr(),oSe=Ic(),aSe=Ss(),PM=We(),NS=tt(),vv=nSe("matchAll"),EM="RegExp String",RM=EM+" Iterator",uSe=PM.set,sSe=PM.getterFor(RM),wM=RegExp.prototype,lSe=TypeError,DS=OM("".indexOf),yv=OM("".matchAll),jS=!!yv&&!rSe(function(){yv("a",/./)}),cSe=XOe(i(function(e,r,n,o){uSe(this,{type:RM,regexp:e,string:r,global:n,unicode:o,done:!1})},"RegExpStringIterator"),EM,i(function(){var e=sSe(this);if(e.done)return{value:void 0,done:!0};var r=e.regexp,n=e.string,o=aSe(r,n);return o===null?{value:void 0,done:e.done=!0}:e.global?(qc(o[0])===""&&(r.lastIndex=oSe(n,SM(r.lastIndex),e.unicode)),{value:o,done:!1}):(e.done=!0,{value:o,done:!1})},"next")),US=i(function(e){var r=JOe(this),n=qc(e),o=iSe(r,RegExp),a=qc(_M(r)),u,s,l;return u=new o(o===RegExp?r.source:r,a),s=!!~DS(a,"g"),l=!!~DS(a,"u"),u.lastIndex=SM(r.lastIndex),new cSe(u,n,s,l)},"$matchAll");YOe({target:"String",proto:!0,forced:jS},{matchAll:i(function(e){var r=bM(this),n,o,a,u;if(e!=null){if(ZOe(e)&&(n=qc(bM(_M(e))),!~DS(n,"g")))throw lSe("`.matchAll` does not allow non-global regexes");if(jS)return yv(r,e);if(a=eSe(e,vv),a===void 0&&NS&&QOe(e)=="RegExp"&&(a=US),a)return gM(a,e,r)}else if(jS)return yv(r,e);return o=qc(r),u=new RegExp(e,"g"),NS?gM(US,u,o):u[vv](o)},"matchAll")});NS||vv in wM||tSe(wM,vv,US);var gSe=D(),bSe=MS().end,wSe=BS();gSe({target:"String",proto:!0,forced:wSe},{padEnd:i(function(e){return bSe(this,e,arguments.length>1?arguments[1]:void 0)},"padEnd")});var OSe=D(),SSe=MS().start,_Se=BS();OSe({target:"String",proto:!0,forced:_Se},{padStart:i(function(e){return SSe(this,e,arguments.length>1?arguments[1]:void 0)},"padStart")});var PSe=D(),FM=le(),ESe=bt(),RSe=ke(),xM=Le(),TSe=Fe(),CM=FM([].push),ASe=FM([].join);PSe({target:"String",stat:!0},{raw:i(function(e){for(var r=ESe(RSe(e).raw),n=TSe(r),o=arguments.length,a=[],u=0;n>u;){if(CM(a,xM(r[u++])),u===n)return ASe(a,"");u<o&&CM(a,xM(arguments[u]))}},"raw")});var ISe=D(),qSe=mc();ISe({target:"String",proto:!0},{repeat:qSe});var jSe=gr(),jM=ce(),mv=le(),NSe=Ac(),DSe=se(),USe=te(),MSe=Pe(),BSe=at(),$Se=xr(),_s=Le(),zSe=gt(),GSe=Ic(),HSe=At(),VSe=HS(),WSe=Ss(),KSe=ge(),WS=KSe("replace"),YSe=Math.max,XSe=Math.min,JSe=mv([].concat),VS=mv([].push),NM=mv("".indexOf),DM=mv("".slice),QSe=i(function(e){return e===void 0?e:String(e)},"maybeToString"),ZSe=function(){return"a".replace(/./,"$0")==="$0"}(),UM=function(){return/./[WS]?/./[WS]("a","$0")==="":!1}(),e_e=!DSe(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});NSe("replace",function(t,e,r){var n=UM?"$":"$0";return[i(function(a,u){var s=zSe(this),l=a==null?void 0:HSe(a,WS);return l?jM(l,a,s,u):jM(e,_s(s),a,u)},"replace"),function(o,a){var u=USe(this),s=_s(o);if(typeof a=="string"&&NM(a,n)===-1&&NM(a,"$<")===-1){var l=r(e,u,s,a);if(l.done)return l.value}var f=MSe(a);f||(a=_s(a));var d=u.global;if(d){var y=u.unicode;u.lastIndex=0}for(var m=[];;){var w=WSe(u,s);if(w===null||(VS(m,w),!d))break;var _=_s(w[0]);_===""&&(u.lastIndex=GSe(s,$Se(u.lastIndex),y))}for(var T="",R=0,E=0;E<m.length;E++){w=m[E];for(var A=_s(w[0]),k=YSe(XSe(BSe(w.index),s.length),0),U=[],G=1;G<w.length;G++)VS(U,QSe(w[G]));var M=w.groups;if(f){var z=JSe([A],U,k,s);M!==void 0&&VS(z,M);var W=_s(jSe(a,void 0,z))}else W=VSe(A,s,k,U,M,a);k>=R&&(T+=DM(s,R,k)+W,R=k+A.length)}return T+DM(s,R)}]},!e_e||!ZSe||UM);var t_e=D(),r_e=ce(),KS=le(),MM=gt(),n_e=Pe(),i_e=gs(),Ps=Le(),o_e=At(),a_e=bs(),u_e=HS(),s_e=ge(),l_e=tt(),c_e=s_e("replace"),f_e=TypeError,zM=KS("".indexOf),p_e=KS("".replace),BM=KS("".slice),d_e=Math.max,$M=i(function(e,r,n){return n>e.length?-1:r===""?n:zM(e,r,n)},"stringIndexOf");t_e({target:"String",proto:!0},{replaceAll:i(function(e,r){var n=MM(this),o,a,u,s,l,f,d,y,m,w=0,_=0,T="";if(e!=null){if(o=i_e(e),o&&(a=Ps(MM(a_e(e))),!~zM(a,"g")))throw f_e("`.replaceAll` does not allow non-global regexes");if(u=o_e(e,c_e),u)return r_e(u,e,n,r);if(l_e&&o)return p_e(Ps(n),e,r)}for(s=Ps(n),l=Ps(e),f=n_e(r),f||(r=Ps(r)),d=l.length,y=d_e(1,d),w=$M(s,l,0);w!==-1;)m=f?Ps(r(l,w,s)):u_e(l,s,w,[],void 0,r),T+=BM(s,_,w)+m,_=w+d,w=$M(s,l,w+y);return _<s.length&&(T+=BM(s,_)),T},"replaceAll")});var h_e=ce(),v_e=Ac(),y_e=te(),m_e=gt(),GM=kO(),HM=Le(),g_e=At(),b_e=Ss();v_e("search",function(t,e,r){return[i(function(o){var a=m_e(this),u=o==null?void 0:g_e(o,t);return u?h_e(u,o,a):new RegExp(o)[t](HM(a))},"search"),function(n){var o=y_e(this),a=HM(n),u=r(e,o,a);if(u.done)return u.value;var s=o.lastIndex;GM(s,0)||(o.lastIndex=0);var l=b_e(o,a);return GM(o.lastIndex,s)||(o.lastIndex=s),l===null?-1:l.index}]});var w_e=gr(),kc=ce(),XS=le(),O_e=Ac(),S_e=gs(),__e=te(),VM=gt(),P_e=tr(),E_e=Ic(),R_e=xr(),YS=Le(),T_e=At(),WM=Qu(),KM=Ss(),A_e=Tc(),I_e=Ec(),q_e=se(),Es=I_e.UNSUPPORTED_Y,YM=4294967295,k_e=Math.min,XM=[].push,x_e=XS(/./.exec),Rs=XS(XM),xc=XS("".slice),C_e=!q_e(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return r.length!==2||r[0]!=="a"||r[1]!=="b"});O_e("split",function(t,e,r){var n;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?n=i(function(a,u){var s=YS(VM(this)),l=u===void 0?YM:u>>>0;if(l===0)return[];if(a===void 0)return[s];if(!S_e(a))return kc(e,s,a,l);for(var f=[],d=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(a.sticky?"y":""),y=0,m=new RegExp(a.source,d+"g"),w,_,T;(w=kc(A_e,m,s))&&(_=m.lastIndex,!(_>y&&(Rs(f,xc(s,y,w.index)),w.length>1&&w.index<s.length&&w_e(XM,f,WM(w,1)),T=w[0].length,y=_,f.length>=l)));)m.lastIndex===w.index&&m.lastIndex++;return y===s.length?(T||!x_e(m,""))&&Rs(f,""):Rs(f,xc(s,y)),f.length>l?WM(f,0,l):f},"internalSplit"):"0".split(void 0,0).length?n=i(function(a,u){return a===void 0&&u===0?[]:kc(e,this,a,u)},"internalSplit"):n=e,[i(function(a,u){var s=VM(this),l=a==null?void 0:T_e(a,t);return l?kc(l,a,s,u):kc(n,YS(s),a,u)},"split"),function(o,a){var u=__e(this),s=YS(o),l=r(n,u,s,a,n!==e);if(l.done)return l.value;var f=P_e(u,RegExp),d=u.unicode,y=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(Es?"g":"y"),m=new f(Es?"^(?:"+u.source+")":u,y),w=a===void 0?YM:a>>>0;if(w===0)return[];if(s.length===0)return KM(m,s)===null?[s]:[];for(var _=0,T=0,R=[];T<s.length;){m.lastIndex=Es?0:T;var E=KM(m,Es?xc(s,T):s),A;if(E===null||(A=k_e(R_e(m.lastIndex+(Es?T:0)),s.length))===_)T=E_e(s,T,d);else{if(Rs(R,xc(s,_,T)),R.length===w)return R;for(var k=1;k<=E.length-1;k++)if(Rs(R,E[k]),R.length===w)return R;T=_=A}}return Rs(R,xc(s,_)),R}]},!C_e,Es);var F_e=D(),ZM=le(),L_e=Mt().f,j_e=xr(),JM=Le(),N_e=dv(),D_e=gt(),U_e=hv(),M_e=tt(),QM=ZM("".startsWith),B_e=ZM("".slice),$_e=Math.min,e5=U_e("startsWith"),z_e=!M_e&&!e5&&!!function(){var t=L_e(String.prototype,"startsWith");return t&&!t.writable}();F_e({target:"String",proto:!0,forced:!z_e&&!e5},{startsWith:i(function(e){var r=JM(D_e(this));N_e(e);var n=j_e($_e(arguments.length>1?arguments[1]:void 0,r.length)),o=JM(e);return QM?QM(r,o,n):B_e(r,n,n+o.length)===o},"startsWith")});var V_e=D(),W_e=Ia().trim,K_e=gv();V_e({target:"String",proto:!0,forced:K_e("trim")},{trim:i(function(){return W_e(this)},"trim")});a5();var Q_e=D(),u5=JS();Q_e({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==u5},{trimEnd:u5});c5();var r1e=D(),f5=QS();r1e({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==f5},{trimStart:f5});var s1e=D(),l1e=wr(),c1e=Or();s1e({target:"String",proto:!0,forced:c1e("anchor")},{anchor:i(function(e){return l1e(this,"a","name",e)},"anchor")});var f1e=D(),p1e=wr(),d1e=Or();f1e({target:"String",proto:!0,forced:d1e("big")},{big:i(function(){return p1e(this,"big","","")},"big")});var h1e=D(),v1e=wr(),y1e=Or();h1e({target:"String",proto:!0,forced:y1e("blink")},{blink:i(function(){return v1e(this,"blink","","")},"blink")});var m1e=D(),g1e=wr(),b1e=Or();m1e({target:"String",proto:!0,forced:b1e("bold")},{bold:i(function(){return g1e(this,"b","","")},"bold")});var w1e=D(),O1e=wr(),S1e=Or();w1e({target:"String",proto:!0,forced:S1e("fixed")},{fixed:i(function(){return O1e(this,"tt","","")},"fixed")});var _1e=D(),P1e=wr(),E1e=Or();_1e({target:"String",proto:!0,forced:E1e("fontcolor")},{fontcolor:i(function(e){return P1e(this,"font","color",e)},"fontcolor")});var R1e=D(),T1e=wr(),A1e=Or();R1e({target:"String",proto:!0,forced:A1e("fontsize")},{fontsize:i(function(e){return T1e(this,"font","size",e)},"fontsize")});var I1e=D(),q1e=wr(),k1e=Or();I1e({target:"String",proto:!0,forced:k1e("italics")},{italics:i(function(){return q1e(this,"i","","")},"italics")});var x1e=D(),C1e=wr(),F1e=Or();x1e({target:"String",proto:!0,forced:F1e("link")},{link:i(function(e){return C1e(this,"a","href",e)},"link")});var L1e=D(),j1e=wr(),N1e=Or();L1e({target:"String",proto:!0,forced:N1e("small")},{small:i(function(){return j1e(this,"small","","")},"small")});var D1e=D(),U1e=wr(),M1e=Or();D1e({target:"String",proto:!0,forced:M1e("strike")},{strike:i(function(){return U1e(this,"strike","","")},"strike")});var B1e=D(),$1e=wr(),z1e=Or();B1e({target:"String",proto:!0,forced:z1e("sub")},{sub:i(function(){return $1e(this,"sub","","")},"sub")});var G1e=D(),H1e=wr(),V1e=Or();G1e({target:"String",proto:!0,forced:V1e("sup")},{sup:i(function(){return H1e(this,"sup","","")},"sup")});var GPe=Xn();GPe("Float32",function(t){return i(function(r,n,o){return t(this,r,n,o)},"Float32Array")});var HPe=Xn();HPe("Float64",function(t){return i(function(r,n,o){return t(this,r,n,o)},"Float64Array")});var VPe=Xn();VPe("Int8",function(t){return i(function(r,n,o){return t(this,r,n,o)},"Int8Array")});var WPe=Xn();WPe("Int16",function(t){return i(function(r,n,o){return t(this,r,n,o)},"Int16Array")});var KPe=Xn();KPe("Int32",function(t){return i(function(r,n,o){return t(this,r,n,o)},"Int32Array")});var YPe=Xn();YPe("Uint8",function(t){return i(function(r,n,o){return t(this,r,n,o)},"Uint8Array")});var XPe=Xn();XPe("Uint8",function(t){return i(function(r,n,o){return t(this,r,n,o)},"Uint8ClampedArray")},!0);var JPe=Xn();JPe("Uint16",function(t){return i(function(r,n,o){return t(this,r,n,o)},"Uint16Array")});var QPe=Xn();QPe("Uint32",function(t){return i(function(r,n,o){return t(this,r,n,o)},"Uint32Array")});var W5=_e(),ZPe=Fe(),eEe=at(),tEe=W5.aTypedArray,rEe=W5.exportTypedArrayMethod;rEe("at",i(function(e){var r=tEe(this),n=ZPe(r),o=eEe(e),a=o>=0?o:n+o;return a<0||a>=n?void 0:r[a]},"at"));var nEe=le(),K5=_e(),iEe=T0(),oEe=nEe(iEe),aEe=K5.aTypedArray,uEe=K5.exportTypedArrayMethod;uEe("copyWithin",i(function(e,r){return oEe(aEe(this),e,r,arguments.length>2?arguments[2]:void 0)},"copyWithin"));var Y5=_e(),sEe=Ot().every,lEe=Y5.aTypedArray,cEe=Y5.exportTypedArrayMethod;cEe("every",i(function(e){return sEe(lEe(this),e,arguments.length>1?arguments[1]:void 0)},"every"));var J5=_e(),dEe=Oh(),hEe=g_(),vEe=mn(),yEe=ce(),mEe=le(),gEe=se(),bEe=J5.aTypedArray,wEe=J5.exportTypedArrayMethod,OEe=mEe("".slice),SEe=gEe(function(){var t=0;return new Int8Array(2).fill({valueOf:i(function(){return t++},"valueOf")}),t!==1});wEe("fill",i(function(e){var r=arguments.length;bEe(this);var n=OEe(vEe(this),0,3)==="Big"?hEe(e):+e;return yEe(dEe,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},"fill"),SEe);var r8=_e(),IEe=Ot().filter,qEe=jc(),kEe=r8.aTypedArray,xEe=r8.exportTypedArrayMethod;xEe("filter",i(function(e){var r=IEe(kEe(this),e,arguments.length>1?arguments[1]:void 0);return qEe(this,r)},"filter"));var n8=_e(),CEe=Ot().find,FEe=n8.aTypedArray,LEe=n8.exportTypedArrayMethod;LEe("find",i(function(e){return CEe(FEe(this),e,arguments.length>1?arguments[1]:void 0)},"find"));var i8=_e(),jEe=Ot().findIndex,NEe=i8.aTypedArray,DEe=i8.exportTypedArrayMethod;DEe("findIndex",i(function(e){return jEe(NEe(this),e,arguments.length>1?arguments[1]:void 0)},"findIndex"));var o8=_e(),UEe=nc().findLast,MEe=o8.aTypedArray,BEe=o8.exportTypedArrayMethod;BEe("findLast",i(function(e){return UEe(MEe(this),e,arguments.length>1?arguments[1]:void 0)},"findLast"));var a8=_e(),$Ee=nc().findLastIndex,zEe=a8.aTypedArray,GEe=a8.exportTypedArrayMethod;GEe("findLastIndex",i(function(e){return $Ee(zEe(this),e,arguments.length>1?arguments[1]:void 0)},"findLastIndex"));var u8=_e(),HEe=Ot().forEach,VEe=u8.aTypedArray,WEe=u8.exportTypedArrayMethod;WEe("forEach",i(function(e){HEe(VEe(this),e,arguments.length>1?arguments[1]:void 0)},"forEach"));var KEe=_v(),YEe=_e().exportTypedArrayStaticMethod,XEe=s_();YEe("from",XEe,KEe);var s8=_e(),JEe=Gl().includes,QEe=s8.aTypedArray,ZEe=s8.exportTypedArrayMethod;ZEe("includes",i(function(e){return JEe(QEe(this),e,arguments.length>1?arguments[1]:void 0)},"includes"));var l8=_e(),eRe=Gl().indexOf,tRe=l8.aTypedArray,rRe=l8.exportTypedArrayMethod;rRe("indexOf",i(function(e){return eRe(tRe(this),e,arguments.length>1?arguments[1]:void 0)},"indexOf"));var nRe=he(),iRe=se(),b_=le(),f8=_e(),w_=uc(),oRe=ge(),O_=oRe("iterator"),c8=nRe.Uint8Array,aRe=b_(w_.values),uRe=b_(w_.keys),sRe=b_(w_.entries),S_=f8.aTypedArray,Av=f8.exportTypedArrayMethod,Cs=c8&&c8.prototype,Iv=!iRe(function(){Cs[O_].call([1])}),p8=!!Cs&&Cs.values&&Cs[O_]===Cs.values&&Cs.values.name==="values",d8=i(function(){return aRe(S_(this))},"values");Av("entries",i(function(){return sRe(S_(this))},"entries"),Iv);Av("keys",i(function(){return uRe(S_(this))},"keys"),Iv);Av("values",d8,Iv||!p8,{name:"values"});Av(O_,d8,Iv||!p8,{name:"values"});var h8=_e(),lRe=le(),cRe=h8.aTypedArray,fRe=h8.exportTypedArrayMethod,pRe=lRe([].join);fRe("join",i(function(e){return pRe(cRe(this),e)},"join"));var g8=_e(),ORe=gr(),SRe=m8(),_Re=g8.aTypedArray,PRe=g8.exportTypedArrayMethod;PRe("lastIndexOf",i(function(e){var r=arguments.length;return ORe(SRe,_Re(this),r>1?[e,arguments[1]]:[e])},"lastIndexOf"));var b8=_e(),ERe=Ot().map,RRe=xs(),TRe=b8.aTypedArray,ARe=b8.exportTypedArrayMethod;ARe("map",i(function(e){return ERe(TRe(this),e,arguments.length>1?arguments[1]:void 0,function(r,n){return new(RRe(r))(n)})},"map"));var w8=_e(),IRe=_v(),qRe=w8.aTypedArrayConstructor,kRe=w8.exportTypedArrayStaticMethod;kRe("of",i(function(){for(var e=0,r=arguments.length,n=new(qRe(this))(r);r>e;)n[e]=arguments[e++];return n},"of"),IRe);var _8=_e(),NRe=P_().left,DRe=_8.aTypedArray,URe=_8.exportTypedArrayMethod;URe("reduce",i(function(e){var r=arguments.length;return NRe(DRe(this),e,r,r>1?arguments[1]:void 0)},"reduce"));var P8=_e(),MRe=P_().right,BRe=P8.aTypedArray,$Re=P8.exportTypedArrayMethod;$Re("reduceRight",i(function(e){var r=arguments.length;return MRe(BRe(this),e,r,r>1?arguments[1]:void 0)},"reduceRight"));var E8=_e(),zRe=E8.aTypedArray,GRe=E8.exportTypedArrayMethod,HRe=Math.floor;GRe("reverse",i(function(){for(var e=this,r=zRe(e).length,n=HRe(r/2),o=0,a;o<n;)a=e[o],e[o++]=e[--r],e[r]=a;return e},"reverse"));var T8=he(),A8=ce(),T_=_e(),VRe=Fe(),WRe=u_(),KRe=ke(),I8=se(),YRe=T8.RangeError,E_=T8.Int8Array,R8=E_&&E_.prototype,q8=R8&&R8.set,XRe=T_.aTypedArray,JRe=T_.exportTypedArrayMethod,R_=!I8(function(){var t=new Uint8ClampedArray(2);return A8(q8,t,{length:1,0:3},1),t[1]!==3}),QRe=R_&&T_.NATIVE_ARRAY_BUFFER_VIEWS&&I8(function(){var t=new E_(2);return t.set(1),t.set("2",1),t[0]!==0||t[1]!==2});JRe("set",i(function(e){XRe(this);var r=WRe(arguments.length>1?arguments[1]:void 0,1),n=KRe(e);if(R_)return A8(q8,this,n,r);var o=this.length,a=VRe(n),u=0;if(a+r>o)throw YRe("Wrong length");for(;u<a;)this[r+u]=n[u++]},"set"),!R_||QRe);var k8=_e(),ZRe=xs(),eTe=se(),tTe=So(),rTe=k8.aTypedArray,nTe=k8.exportTypedArrayMethod,iTe=eTe(function(){new Int8Array(1).slice()});nTe("slice",i(function(e,r){for(var n=tTe(rTe(this),e,r),o=ZRe(this),a=0,u=n.length,s=new o(u);u>a;)s[a]=n[a++];return s},"slice"),iTe);var x8=_e(),oTe=Ot().some,aTe=x8.aTypedArray,uTe=x8.exportTypedArrayMethod;uTe("some",i(function(e){return oTe(aTe(this),e,arguments.length>1?arguments[1]:void 0)},"some"));var sTe=he(),lTe=le(),A_=se(),cTe=de(),fTe=Rh(),N8=_e(),C8=U0(),pTe=M0(),F8=vo(),L8=Th(),dTe=N8.aTypedArray,hTe=N8.exportTypedArrayMethod,Nc=sTe.Uint16Array,Fs=Nc&&lTe(Nc.prototype.sort),vTe=!!Fs&&!(A_(function(){Fs(new Nc(2),null)})&&A_(function(){Fs(new Nc(2),{})})),j8=!!Fs&&!A_(function(){if(F8)return F8<74;if(C8)return C8<67;if(pTe)return!0;if(L8)return L8<602;var t=new Nc(516),e=Array(516),r,n;for(r=0;r<516;r++)n=r%4,t[r]=515-r,e[r]=r-2*n+3;for(Fs(t,function(o,a){return(o/4|0)-(a/4|0)}),r=0;r<516;r++)if(t[r]!==e[r])return!0}),yTe=i(function(e){return function(r,n){return e!==void 0?+e(r,n)||0:n!==n?-1:r!==r?1:r===0&&n===0?1/r>0&&1/n<0?1:-1:r>n}},"getSortCompare");hTe("sort",i(function(e){return e!==void 0&&cTe(e),j8?Fs(this,e):fTe(dTe(this),yTe(e))},"sort"),!j8||vTe);var U8=_e(),mTe=xr(),D8=yn(),gTe=xs(),bTe=U8.aTypedArray,wTe=U8.exportTypedArrayMethod;wTe("subarray",i(function(e,r){var n=bTe(this),o=n.length,a=D8(e,o),u=gTe(n);return new u(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,mTe((r===void 0?o:D8(r,o))-a))},"subarray"));var OTe=he(),STe=gr(),$8=_e(),I_=se(),M8=So(),qv=OTe.Int8Array,B8=$8.aTypedArray,_Te=$8.exportTypedArrayMethod,z8=[].toLocaleString,PTe=!!qv&&I_(function(){z8.call(new qv(1))}),ETe=I_(function(){return[1,2].toLocaleString()!=new qv([1,2]).toLocaleString()})||!I_(function(){qv.prototype.toLocaleString.call([1,2])});_Te("toLocaleString",i(function(){return STe(z8,PTe?M8(B8(this)):B8(this),M8(arguments))},"toLocaleString"),ETe);var RTe=_e().exportTypedArrayMethod,TTe=se(),ATe=he(),ITe=le(),G8=ATe.Uint8Array,qTe=G8&&G8.prototype||{},kv=[].toString,kTe=ITe([].join);TTe(function(){kv.call({})})&&(kv=i(function(){return kTe(this)},"toString"));var xTe=qTe.toString!=kv;RTe("toString",kv,xTe);var BRt=Re(Dv(),1);tB();var UAe=D(),MAe=B_();UAe({target:"Array",stat:!0,forced:!0},{fromAsync:MAe});var BAe=D(),$Ae=Ot().filterReject,zAe=nt();BAe({target:"Array",proto:!0,forced:!0},{filterOut:i(function(e){return $Ae(this,e,arguments.length>1?arguments[1]:void 0)},"filterOut")});zAe("filterOut");var GAe=D(),HAe=Ot().filterReject,VAe=nt();GAe({target:"Array",proto:!0,forced:!0},{filterReject:i(function(e){return HAe(this,e,arguments.length>1?arguments[1]:void 0)},"filterReject")});VAe("filterReject");var nIe=D(),iIe=Bv(),oIe=nt();nIe({target:"Array",proto:!0},{group:i(function(e){var r=arguments.length>1?arguments[1]:void 0;return iIe(this,e,r)},"group")});oIe("group");var aIe=D(),uIe=Bv(),sIe=Ta(),lIe=nt();aIe({target:"Array",proto:!0,forced:!sIe("groupBy")},{groupBy:i(function(e){var r=arguments.length>1?arguments[1]:void 0;return uIe(this,e,r)},"groupBy")});lIe("groupBy");var bIe=D(),wIe=Ta(),OIe=nt(),SIe=z_();bIe({target:"Array",proto:!0,name:"groupToMap",forced:!wIe("groupByToMap")},{groupByToMap:SIe});OIe("groupByToMap");var _Ie=D(),PIe=nt(),EIe=z_();_Ie({target:"Array",proto:!0},{groupToMap:EIe});PIe("groupToMap");var RIe=D(),TIe=ba(),TB=Object.isFrozen,AB=i(function(e,r){if(!TB||!TIe(e)||!TB(e))return!1;for(var n=0,o=e.length,a;n<o;)if(a=e[n++],!(typeof a=="string"||r&&typeof a=="undefined"))return!1;return o!==0},"isFrozenStringArray");RIe({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:i(function(e){if(!AB(e,!0))return!1;var r=e.raw;return r.length===e.length&&AB(r,!1)},"isTemplateObject")});var AIe=Oe(),IIe=nt(),qIe=ke(),kIe=Fe(),xIe=Ri();AIe&&(xIe(Array.prototype,"lastIndex",{configurable:!0,get:i(function(){var e=qIe(this),r=kIe(e);return r==0?0:r-1},"lastIndex")}),IIe("lastIndex"));var CIe=Oe(),FIe=nt(),IB=ke(),qB=Fe(),LIe=Ri();CIe&&(LIe(Array.prototype,"lastItem",{configurable:!0,get:i(function(){var e=IB(this),r=qB(e);return r==0?void 0:e[r-1]},"lastItem"),set:i(function(e){var r=IB(this),n=qB(r);return r[n==0?0:n-1]=e},"lastItem")}),FIe("lastItem"));var NIe=D(),DIe=G_(),UIe=bt(),MIe=nt(),BIe=Array;NIe({target:"Array",proto:!0},{toReversed:i(function(){return DIe(UIe(this),BIe)},"toReversed")});MIe("toReversed");var $Ie=D(),zIe=le(),GIe=de(),HIe=bt(),VIe=ks(),WIe=U_(),KIe=nt(),YIe=Array,XIe=zIe(WIe("Array").sort);$Ie({target:"Array",proto:!0},{toSorted:i(function(e){e!==void 0&&GIe(e);var r=HIe(this),n=VIe(YIe,r);return XIe(n,e)},"toSorted")});KIe("toSorted");var JIe=D(),QIe=nt(),ZIe=Ra(),eqe=Fe(),tqe=yn(),rqe=bt(),nqe=at(),iqe=Array,oqe=Math.max,aqe=Math.min;JIe({target:"Array",proto:!0},{toSpliced:i(function(e,r){var n=rqe(this),o=eqe(n),a=tqe(e,o),u=arguments.length,s=0,l,f,d,y;for(u===0?l=f=0:u===1?(l=0,f=o-a):(l=u-2,f=aqe(oqe(nqe(r),0),o-a)),d=ZIe(o+l-f),y=iqe(d);s<a;s++)y[s]=n[s];for(;s<a+l;s++)y[s]=arguments[s-a+2];for(;s<d;s++)y[s]=n[s+f-l];return y},"toSpliced")});QIe("toSpliced");var yqe=D(),mqe=nt(),gqe=Gv();yqe({target:"Array",proto:!0,forced:!0},{uniqueBy:gqe});mqe("uniqueBy");var Sqe=D(),_qe=V_(),Pqe=bt(),Eqe=Array;Sqe({target:"Array",proto:!0},{with:i(function(e,r){return _qe(Pqe(this),Eqe,e,r)},"_with")});var Rqe=D(),Tqe=br(),jB=It(),NB=Ae(),Aqe=ge(),Ma=Mc(),DB=tt(),LB=Aqe("toStringTag"),W_=i(function(){Tqe(this,Ma)},"AsyncIterator");W_.prototype=Ma;NB(Ma,LB)||jB(Ma,LB,"AsyncIterator");(DB||!NB(Ma,"constructor")||Ma.constructor===Object)&&jB(Ma,"constructor",W_);Rqe({global:!0,constructor:!0,forced:DB},{AsyncIterator:W_});var Hqe=D(),Vqe=K_();Hqe({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:Vqe});var Kqe=D(),Yqe=ce(),XB=te(),Xqe=it(),Jqe=zc(),Qqe=Is(),Zqe=Uo(),eke=Zqe(function(t){var e=this;return new t(function(r,n){var o=i(function(s){e.done=!0,n(s)},"doneAndReject"),a=i(function u(){try{t.resolve(XB(Yqe(e.next,e.iterator))).then(function(s){try{XB(s).done?(e.done=!0,r({done:!0,value:void 0})):e.remaining?(e.remaining--,u()):r({done:!1,value:s.value})}catch(l){o(l)}},o)}catch(s){o(s)}},"loop");a()})});Kqe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{drop:i(function(e){return new eke(Xqe(this),{remaining:Qqe(Jqe(+e))})},"drop")});var tke=D(),rke=Ua().every;tke({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{every:i(function(e){return rke(this,e)},"every")});var nke=D(),ike=ce(),oke=de(),JB=te(),ake=it(),uke=Uo(),ske=js(),lke=uke(function(t){var e=this,r=e.iterator,n=e.filterer;return new t(function(o,a){var u=i(function(d){e.done=!0,a(d)},"doneAndReject"),s=i(function(d){ske(r,u,d,u)},"ifAbruptCloseAsyncIterator"),l=i(function f(){try{t.resolve(JB(ike(e.next,r))).then(function(d){try{if(JB(d).done)e.done=!0,o({done:!0,value:void 0});else{var y=d.value;try{t.resolve(n(y)).then(function(m){m?o({done:!1,value:y}):f()},s)}catch(m){s(m)}}}catch(m){u(m)}},u)}catch(d){u(d)}},"loop");l()})});nke({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{filter:i(function(e){return new lke(ake(this),{filterer:oke(e)})},"filter")});var cke=D(),fke=Ua().find;cke({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{find:i(function(e){return fke(this,e)},"find")});var pke=D(),QB=ce(),ZB=de(),Hv=te(),dke=it(),hke=Uo(),vke=Mv(),yke=js(),mke=hke(function(t){var e=this,r=e.iterator,n=e.mapper,o;return new t(function(a,u){var s=i(function(m){e.done=!0,u(m)},"doneAndReject"),l=i(function(m){yke(r,s,m,s)},"ifAbruptCloseAsyncIterator"),f=i(function(){try{t.resolve(Hv(QB(e.next,r))).then(function(m){try{if(Hv(m).done)e.done=!0,a({done:!0,value:void 0});else{var w=m.value;try{t.resolve(n(w)).then(function(_){try{e.innerIterator=o=vke(_),e.innerNext=ZB(o.next),d()}catch(T){l(T)}},l)}catch(_){l(_)}}}catch(_){s(_)}},s)}catch(m){s(m)}},"outerLoop"),d=i(function(){if(o=e.innerIterator)try{t.resolve(Hv(QB(e.innerNext,o))).then(function(m){try{Hv(m).done?(e.innerIterator=e.innerNext=null,f()):a({done:!1,value:m.value})}catch(w){l(w)}},l)}catch(m){l(m)}else f()},"innerLoop");d()})});pke({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{flatMap:i(function(e){return new mke(dke(this),{mapper:ZB(e),innerIterator:null,innerNext:null})},"flatMap")});var gke=D(),bke=Ua().forEach;gke({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{forEach:i(function(e){return bke(this,e)},"forEach")});var Ske=D(),_ke=ke(),Pke=er(),Eke=Mc(),Rke=Mv(),Tke=Jr(),Ake=it(),Ike=Hn(),qke=At(),kke=ge(),xke=Bc(),Cke=Y_(),Fke=kke("asyncIterator");Ske({target:"AsyncIterator",stat:!0,forced:!0},{from:i(function(e){var r=_ke(e),n=qke(r,Fke),o;return n&&(o=Rke(r,n),Pke(Eke,o))?o:(o===void 0&&(n=Ike(r),n&&(o=new xke(Tke(r,n)))),new Cke(Ake(o!==void 0?o:r)))},"from")});var Lke=D(),jke=K_();Lke({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:jke});var Nke=D(),Dke=ce(),Uke=de(),t4=te(),Mke=it(),Bke=Uo(),$ke=js(),zke=Bke(function(t){var e=this,r=e.iterator,n=e.mapper;return new t(function(o,a){var u=i(function(f){e.done=!0,a(f)},"doneAndReject"),s=i(function(f){$ke(r,u,f,u)},"ifAbruptCloseAsyncIterator");t.resolve(t4(Dke(e.next,r))).then(function(l){try{if(t4(l).done)e.done=!0,o({done:!0,value:void 0});else{var f=l.value;try{t.resolve(n(f)).then(function(d){o({done:!1,value:d})},s)}catch(d){s(d)}}}catch(d){u(d)}},u)})});Nke({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{map:i(function(e){return new zke(Mke(this),{mapper:Uke(e)})},"map")});var Gke=D(),Hke=ce(),Vke=de(),r4=te(),Wke=ye(),Kke=it(),Yke=js(),X_=Wke("Promise"),Xke=TypeError;Gke({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{reduce:i(function(e){var r=Kke(this),n=r.iterator,o=r.next,a=arguments.length<2,u=a?void 0:arguments[1];return Vke(e),new X_(function(s,l){var f=i(function(m){Yke(n,l,m,l)},"ifAbruptCloseAsyncIterator"),d=i(function y(){try{X_.resolve(r4(Hke(o,n))).then(function(m){try{if(r4(m).done)a?l(Xke("Reduce of empty iterator with no initial value")):s(u);else{var w=m.value;if(a)a=!1,u=w,y();else try{X_.resolve(e(u,w)).then(function(_){u=_,y()},f)}catch(_){f(_)}}}catch(_){l(_)}},l)}catch(m){l(m)}},"loop");d()})},"reduce")});var Jke=D(),Qke=Ua().some;Jke({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{some:i(function(e){return Qke(this,e)},"some")});var Zke=D(),n4=ce(),e2e=te(),t2e=it(),r2e=zc(),n2e=Is(),i2e=Uo(),o2e=i2e(function(t){var e=this,r=e.iterator,n;if(!e.remaining--){var o={done:!0,value:void 0};return e.done=!0,n=r.return,n!==void 0?t.resolve(n4(n,r,void 0)).then(function(){return o}):o}return t.resolve(n4(e.next,r)).then(function(a){return e2e(a).done?(e.done=!0,{done:!0,value:void 0}):{done:!1,value:a.value}}).then(null,function(a){throw e.done=!0,a})});Zke({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{take:i(function(e){return new o2e(t2e(this),{remaining:n2e(r2e(+e))})},"take")});var a2e=D(),u2e=Ua().toArray;a2e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{toArray:i(function(){return u2e(this,void 0,[])},"toArray")});var p2e=D(),d2e=Z_();typeof BigInt=="function"&&p2e({target:"BigInt",stat:!0,forced:!0},{range:i(function(e,r,n){return new d2e(e,r,n,"bigint",BigInt(0),BigInt(1))},"range")});var b2e=D(),w2e=gr(),O2e=e1(),S2e=ye(),d4=wt(),_2e=Object,P2e=i(function(){var e=S2e("Object","freeze");return e?e(d4(null)):d4(null)},"initializer");b2e({global:!0,forced:!0},{compositeKey:i(function(){return w2e(O2e,_2e,arguments).get("object",P2e)},"compositeKey")});var E2e=D(),R2e=e1(),h4=ye(),T2e=gr();E2e({global:!0,forced:!0},{compositeSymbol:i(function(){return arguments.length==1&&typeof arguments[0]=="string"?h4("Symbol").for(arguments[0]):T2e(R2e,null,arguments).get("symbol",h4("Symbol"))},"compositeSymbol")});var A2e=D(),I2e=le(),q2e=Pe(),k2e=Yu(),x2e=Ae(),C2e=Oe(),F2e=Object.getOwnPropertyDescriptor,v4=/^\s*class\b/,L2e=I2e(v4.exec),j2e=i(function(e){try{if(!C2e||!L2e(v4,k2e(e)))return!1}catch(n){}var r=F2e(e,"prototype");return!!r&&x2e(r,"writable")&&!r.writable},"isClassConstructor");A2e({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:i(function(e){return q2e(e)&&!j2e(e)},"isCallable")});var N2e=D(),D2e=gn();N2e({target:"Function",stat:!0,forced:!0},{isConstructor:D2e});var U2e=D(),M2e=le(),B2e=de();U2e({target:"Function",proto:!0,forced:!0},{unThis:i(function(){return M2e(B2e(this))},"unThis")});var $2e=D(),z2e=he(),G2e=br(),H2e=Pe(),m4=It(),V2e=se(),g4=Ae(),W2e=ge(),Mo=is().IteratorPrototype,K2e=tt(),y4=W2e("toStringTag"),t1=z2e.Iterator,b4=K2e||!H2e(t1)||t1.prototype!==Mo||!V2e(function(){t1({})}),r1=i(function(){G2e(this,Mo)},"Iterator");g4(Mo,y4)||m4(Mo,y4,"Iterator");(b4||!g4(Mo,"constructor")||Mo.constructor===Object)&&m4(Mo,"constructor",r1);r1.prototype=Mo;$2e({global:!0,constructor:!0,forced:b4},{Iterator:r1});var pxe=D(),dxe=n1();pxe({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:dxe});var hxe=D(),T4=ce(),A4=te(),vxe=it(),yxe=zc(),mxe=Is(),gxe=Bo(),bxe=gxe(function(){for(var t=this.iterator,e=this.next,r,n;this.remaining;)if(this.remaining--,r=A4(T4(e,t)),n=this.done=!!r.done,n)return;if(r=A4(T4(e,t)),n=this.done=!!r.done,!n)return r.value});hxe({target:"Iterator",proto:!0,real:!0,forced:!0},{drop:i(function(e){return new bxe(vxe(this),{remaining:mxe(yxe(+e))})},"drop")});var wxe=D(),Oxe=be(),Sxe=de(),_xe=it();wxe({target:"Iterator",proto:!0,real:!0,forced:!0},{every:i(function(e){var r=_xe(this);return Sxe(e),!Oxe(r,function(n,o){if(!e(n))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped},"every")});var Pxe=D(),Exe=ce(),Rxe=de(),Txe=te(),Axe=it(),Ixe=Bo(),qxe=Sh(),kxe=Ixe(function(){for(var t=this.iterator,e=this.filterer,r=this.next,n,o,a;;){if(n=Txe(Exe(r,t)),o=this.done=!!n.done,o)return;if(a=n.value,qxe(t,e,a))return a}});Pxe({target:"Iterator",proto:!0,real:!0,forced:!0},{filter:i(function(e){return new kxe(Axe(this),{filterer:Rxe(e)})},"filter")});var xxe=D(),Cxe=be(),Fxe=de(),Lxe=it();xxe({target:"Iterator",proto:!0,real:!0,forced:!0},{find:i(function(e){var r=Lxe(this);return Fxe(e),Cxe(r,function(n,o){if(e(n))return o(n)},{IS_RECORD:!0,INTERRUPTED:!0}).result},"find")});var jxe=D(),i1=ce(),q4=de(),o1=te(),Nxe=it(),Dxe=Hn(),Uxe=Bo(),I4=Ea(),Mxe=TypeError,Bxe=Uxe(function(){for(var t=this.iterator,e=this.mapper,r,n,o,a;;){if(a=this.innerIterator)try{if(r=o1(i1(this.innerNext,a)),!r.done)return r.value;this.innerIterator=this.innerNext=null}catch(u){I4(t,"throw",u)}if(r=o1(i1(this.next,t)),this.done=!!r.done)return;try{if(n=e(r.value),o=Dxe(n),!o)throw Mxe(".flatMap callback should return an iterable object");this.innerIterator=a=o1(i1(o,n)),this.innerNext=q4(a.next)}catch(u){I4(t,"throw",u)}}});jxe({target:"Iterator",proto:!0,real:!0,forced:!0},{flatMap:i(function(e){return new Bxe(Nxe(this),{mapper:q4(e),innerIterator:null,innerNext:null})},"flatMap")});var $xe=D(),zxe=be(),Gxe=it();$xe({target:"Iterator",proto:!0,real:!0,forced:!0},{forEach:i(function(e){zxe(Gxe(this),e,{IS_RECORD:!0})},"forEach")});var Hxe=D(),Vxe=ce(),Wxe=ke(),Kxe=er(),Yxe=is().IteratorPrototype,Xxe=Bo(),Jxe=Jr(),Qxe=it(),Zxe=Hn(),eCe=Xxe(function(){return Vxe(this.next,this.iterator)},!0);Hxe({target:"Iterator",stat:!0,forced:!0},{from:i(function(e){var r=Wxe(e),n=Zxe(r),o;if(n){if(o=Jxe(r,n),Kxe(Yxe,o))return o}else o=r;return new eCe(Qxe(o))},"from")});var tCe=D(),rCe=n1();tCe({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:rCe});var nCe=D(),iCe=ce(),oCe=de(),aCe=te(),uCe=it(),sCe=Bo(),lCe=Sh(),cCe=sCe(function(){var t=this.iterator,e=aCe(iCe(this.next,t)),r=this.done=!!e.done;if(!r)return lCe(t,this.mapper,e.value)});nCe({target:"Iterator",proto:!0,real:!0,forced:!0},{map:i(function(e){return new cCe(uCe(this),{mapper:oCe(e)})},"map")});var fCe=D(),pCe=be(),dCe=de(),hCe=it(),vCe=TypeError;fCe({target:"Iterator",proto:!0,real:!0,forced:!0},{reduce:i(function(e){var r=hCe(this);dCe(e);var n=arguments.length<2,o=n?void 0:arguments[1];if(pCe(r,function(a){n?(n=!1,o=a):o=e(o,a)},{IS_RECORD:!0}),n)throw vCe("Reduce of empty iterator with no initial value");return o},"reduce")});var yCe=D(),mCe=be(),gCe=de(),bCe=it();yCe({target:"Iterator",proto:!0,real:!0,forced:!0},{some:i(function(e){var r=bCe(this);return gCe(e),mCe(r,function(n,o){if(e(n))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped},"some")});var wCe=D(),OCe=ce(),SCe=te(),_Ce=it(),PCe=zc(),ECe=Is(),RCe=Bo(),TCe=Ea(),ACe=RCe(function(){var t=this.iterator;if(!this.remaining--)return this.done=!0,TCe(t,"normal",void 0);var e=SCe(OCe(this.next,t)),r=this.done=!!e.done;if(!r)return e.value});wCe({target:"Iterator",proto:!0,real:!0,forced:!0},{take:i(function(e){return new ACe(_Ce(this),{remaining:ECe(PCe(+e))})},"take")});var ICe=D(),qCe=be(),kCe=it(),xCe=[].push;ICe({target:"Iterator",proto:!0,real:!0,forced:!0},{toArray:i(function(){var e=[];return qCe(kCe(this),xCe,{that:e,IS_RECORD:!0}),e},"toArray")});var CCe=D(),FCe=Bc(),LCe=Y_(),jCe=it();CCe({target:"Iterator",proto:!0,real:!0,forced:!0},{toAsync:i(function(){return new LCe(jCe(new FCe(this)))},"toAsync")});var MCe=D(),BCe=Vc();MCe({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:BCe});var zCe=D(),GCe=u1();zCe({target:"Map",proto:!0,real:!0,forced:!0},{emplace:GCe});var VCe=D(),WCe=te(),KCe=Ke(),YCe=On(),XCe=be();VCe({target:"Map",proto:!0,real:!0,forced:!0},{every:i(function(e){var r=WCe(this),n=YCe(r),o=KCe(e,arguments.length>1?arguments[1]:void 0);return!XCe(n,function(a,u,s){if(!o(u,a,r))return s()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"every")});var JCe=D(),QCe=ye(),ZCe=Ke(),eFe=ce(),tFe=de(),rFe=te(),nFe=tr(),iFe=On(),oFe=be();JCe({target:"Map",proto:!0,real:!0,forced:!0},{filter:i(function(e){var r=rFe(this),n=iFe(r),o=ZCe(e,arguments.length>1?arguments[1]:void 0),a=new(nFe(r,QCe("Map"))),u=tFe(a.set);return oFe(n,function(s,l){o(l,s,r)&&eFe(u,a,s,l)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a},"filter")});var aFe=D(),uFe=te(),sFe=Ke(),lFe=On(),cFe=be();aFe({target:"Map",proto:!0,real:!0,forced:!0},{find:i(function(e){var r=uFe(this),n=lFe(r),o=sFe(e,arguments.length>1?arguments[1]:void 0);return cFe(n,function(a,u,s){if(o(u,a,r))return s(u)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result},"find")});var fFe=D(),pFe=te(),dFe=Ke(),hFe=On(),vFe=be();fFe({target:"Map",proto:!0,real:!0,forced:!0},{findKey:i(function(e){var r=pFe(this),n=hFe(r),o=dFe(e,arguments.length>1?arguments[1]:void 0);return vFe(n,function(a,u,s){if(o(u,a,r))return s(a)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result},"findKey")});var wFe=D(),OFe=Wc();wFe({target:"Map",stat:!0,forced:!0},{from:OFe});var SFe=D(),s1=ce(),_Fe=le(),Yv=de(),PFe=Jr(),EFe=be(),RFe=_Fe([].push);SFe({target:"Map",stat:!0,forced:!0},{groupBy:i(function(e,r){Yv(r);var n=PFe(e),o=new this,a=Yv(o.has),u=Yv(o.get),s=Yv(o.set);return EFe(n,function(l){var f=r(l);s1(a,o,f)?RFe(s1(u,o,f),l):s1(s,o,f,[l])},{IS_ITERATOR:!0}),o},"groupBy")});var TFe=D(),AFe=te(),IFe=On(),qFe=D4(),kFe=be();TFe({target:"Map",proto:!0,real:!0,forced:!0},{includes:i(function(e){return kFe(IFe(AFe(this)),function(r,n,o){if(qFe(n,e))return o()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"includes")});var xFe=D(),CFe=ce(),FFe=be(),U4=de();xFe({target:"Map",stat:!0,forced:!0},{keyBy:i(function(e,r){var n=new this;U4(r);var o=U4(n.set);return FFe(e,function(a){CFe(o,n,r(a),a)}),n},"keyBy")});var LFe=D(),jFe=te(),NFe=On(),DFe=be();LFe({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:i(function(e){return DFe(NFe(jFe(this)),function(r,n,o){if(n===e)return o(r)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result},"keyOf")});var UFe=D(),MFe=ye(),BFe=Ke(),$Fe=ce(),zFe=de(),GFe=te(),HFe=tr(),VFe=On(),WFe=be();UFe({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:i(function(e){var r=GFe(this),n=VFe(r),o=BFe(e,arguments.length>1?arguments[1]:void 0),a=new(HFe(r,MFe("Map"))),u=zFe(a.set);return WFe(n,function(s,l){$Fe(u,a,o(l,s,r),l)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a},"mapKeys")});var KFe=D(),YFe=ye(),XFe=Ke(),JFe=ce(),QFe=de(),ZFe=te(),eLe=tr(),tLe=On(),rLe=be();KFe({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:i(function(e){var r=ZFe(this),n=tLe(r),o=XFe(e,arguments.length>1?arguments[1]:void 0),a=new(eLe(r,YFe("Map"))),u=QFe(a.set);return rLe(n,function(s,l){JFe(u,a,s,o(l,s,r))},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a},"mapValues")});var nLe=D(),iLe=de(),oLe=te(),aLe=be();nLe({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:i(function(e){for(var r=oLe(this),n=iLe(r.set),o=arguments.length,a=0;a<o;)aLe(arguments[a++],n,{that:r,AS_ENTRIES:!0});return r},"merge")});var sLe=D(),lLe=Kc();sLe({target:"Map",stat:!0,forced:!0},{of:lLe});var cLe=D(),fLe=te(),pLe=de(),dLe=On(),hLe=be(),vLe=TypeError;cLe({target:"Map",proto:!0,real:!0,forced:!0},{reduce:i(function(e){var r=fLe(this),n=dLe(r),o=arguments.length<2,a=o?void 0:arguments[1];if(pLe(e),hLe(n,function(u,s){o?(o=!1,a=s):a=e(a,s,u,r)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o)throw vLe("Reduce of empty map with no initial value");return a},"reduce")});var yLe=D(),mLe=te(),gLe=Ke(),bLe=On(),wLe=be();yLe({target:"Map",proto:!0,real:!0,forced:!0},{some:i(function(e){var r=mLe(this),n=bLe(r),o=gLe(e,arguments.length>1?arguments[1]:void 0);return wLe(n,function(a,u,s){if(o(u,a,r))return s()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"some")});var OLe=D(),l1=ce(),SLe=te(),Yc=de(),_Le=TypeError;OLe({target:"Map",proto:!0,real:!0,forced:!0},{update:i(function(e,r){var n=SLe(this),o=Yc(n.get),a=Yc(n.has),u=Yc(n.set),s=arguments.length;Yc(r);var l=l1(a,n,e);if(!l&&s<3)throw _Le("Updating absent value");var f=l?l1(o,n,e):Yc(s>2?arguments[2]:void 0)(e,n);return l1(u,n,e,r(f,e,n)),n},"update")});var RLe=D(),TLe=Qv();RLe({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:TLe});var ALe=D(),ILe=Qv();ALe({target:"Map",proto:!0,real:!0,forced:!0},{upsert:ILe});var qLe=D(),kLe=Math.min,xLe=Math.max;qLe({target:"Math",stat:!0,forced:!0},{clamp:i(function(e,r,n){return kLe(n,xLe(r,e))},"clamp")});var CLe=D();CLe({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180});var FLe=D(),LLe=180/Math.PI;FLe({target:"Math",stat:!0,forced:!0},{degrees:i(function(e){return e*LLe},"degrees")});var jLe=D(),NLe=f1(),DLe=hO();jLe({target:"Math",stat:!0,forced:!0},{fscale:i(function(e,r,n,o,a){return DLe(NLe(e,r,n,o,a))},"fscale")});var ULe=D();ULe({target:"Math",stat:!0,forced:!0},{iaddh:i(function(e,r,n,o){var a=e>>>0,u=r>>>0,s=n>>>0;return u+(o>>>0)+((a&s|(a|s)&~(a+s>>>0))>>>31)|0},"iaddh")});var MLe=D();MLe({target:"Math",stat:!0,forced:!0},{imulh:i(function(e,r){var n=65535,o=+e,a=+r,u=o&n,s=a&n,l=o>>16,f=a>>16,d=(l*s>>>0)+(u*s>>>16);return l*f+(d>>16)+((u*f>>>0)+(d&n)>>16)},"imulh")});var BLe=D();BLe({target:"Math",stat:!0,forced:!0},{isubh:i(function(e,r,n,o){var a=e>>>0,u=r>>>0,s=n>>>0;return u-(o>>>0)-((~a&s|~(a^s)&a-s>>>0)>>>31)|0},"isubh")});var $Le=D();$Le({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI});var zLe=D(),GLe=Math.PI/180;zLe({target:"Math",stat:!0,forced:!0},{radians:i(function(e){return e*GLe},"radians")});var HLe=D(),VLe=f1();HLe({target:"Math",stat:!0,forced:!0},{scale:VLe});var WLe=D(),KLe=te(),YLe=OO(),XLe=Po(),z4=We(),G4="Seeded Random",H4=G4+" Generator",JLe='Math.seededPRNG() argument should have a "seed" field with a finite value.',QLe=z4.set,ZLe=z4.getterFor(H4),eje=TypeError,tje=XLe(i(function(e){QLe(this,{type:H4,seed:e%2147483647})},"SeededRandomGenerator"),G4,i(function(){var e=ZLe(this),r=e.seed=(e.seed*1103515245+12345)%2147483647;return{value:(r&1073741823)/1073741823,done:!1}},"next"));WLe({target:"Math",stat:!0,forced:!0},{seededPRNG:i(function(e){var r=KLe(e).seed;if(!YLe(r))throw eje(JLe);return new tje(r)},"seededPRNG")});var rje=D();rje({target:"Math",stat:!0,forced:!0},{signbit:i(function(e){var r=+e;return r==r&&r==0?1/r==-1/0:r<0},"signbit")});var nje=D();nje({target:"Math",stat:!0,forced:!0},{umulh:i(function(e,r){var n=65535,o=+e,a=+r,u=o&n,s=a&n,l=o>>>16,f=a>>>16,d=(l*s>>>0)+(u*s>>>16);return l*f+(d>>>16)+((u*f>>>0)+(d&n)>>>16)},"umulh")});var ije=D(),ey=le(),oje=at(),aje=SO(),Zv="Invalid number representation",uje="Invalid radix",sje=RangeError,p1=SyntaxError,lje=TypeError,V4=/^[\da-z]+$/,cje=ey("".charAt),fje=ey(V4.exec),pje=ey(1 .toString),dje=ey("".slice);ije({target:"Number",stat:!0,forced:!0},{fromString:i(function(e,r){var n=1,o,a;if(typeof e!="string")throw lje(Zv);if(!e.length||cje(e,0)=="-"&&(n=-1,e=dje(e,1),!e.length))throw p1(Zv);if(o=r===void 0?10:oje(r),o<2||o>36)throw sje(uje);if(!fje(V4,e)||pje(a=aje(e,o),o)!==e)throw p1(Zv);return n*a},"fromString")});var hje=D(),vje=Z_();hje({target:"Number",stat:!0,forced:!0},{range:i(function(e,r,n){return new vje(e,r,n,"number",0,1)},"range")});var Sje=D(),_je=ty();Sje({target:"Object",stat:!0,forced:!0},{iterateEntries:i(function(e){return new _je(e,"entries")},"iterateEntries")});var Pje=D(),Eje=ty();Pje({target:"Object",stat:!0,forced:!0},{iterateKeys:i(function(e){return new Eje(e,"keys")},"iterateKeys")});var Rje=D(),Tje=ty();Rje({target:"Object",stat:!0,forced:!0},{iterateValues:i(function(e){return new Tje(e,"values")},"iterateValues")});u6();l6();f6();var tNe=D(),rNe=Ei(),nNe=Co();tNe({target:"Promise",stat:!0,forced:!0},{try:i(function(e){var r=rNe.f(this),n=nNe(e);return(n.error?r.reject:r.resolve)(n.value),r.promise},"_try")});var dNe=D(),y6=Qn(),hNe=te(),vNe=y6.toKey,yNe=y6.set;dNe({target:"Reflect",stat:!0},{defineMetadata:i(function(e,r,n){var o=arguments.length<4?void 0:vNe(arguments[3]);yNe(e,r,hNe(n),o)},"defineMetadata")});var mNe=D(),S1=Qn(),gNe=te(),bNe=S1.toKey,wNe=S1.getMap,m6=S1.store;mNe({target:"Reflect",stat:!0},{deleteMetadata:i(function(e,r){var n=arguments.length<3?void 0:bNe(arguments[2]),o=wNe(gNe(r),n,!1);if(o===void 0||!o.delete(e))return!1;if(o.size)return!0;var a=m6.get(r);return a.delete(n),!!a.size||m6.delete(r)},"deleteMetadata")});var ONe=D(),_1=Qn(),SNe=te(),_Ne=Bt(),PNe=_1.has,ENe=_1.get,RNe=_1.toKey,TNe=i(function t(e,r,n){var o=PNe(e,r,n);if(o)return ENe(e,r,n);var a=_Ne(r);return a!==null?t(e,a,n):void 0},"ordinaryGetMetadata");ONe({target:"Reflect",stat:!0},{getMetadata:i(function(e,r){var n=arguments.length<3?void 0:RNe(arguments[2]);return TNe(e,SNe(r),n)},"getMetadata")});var ANe=D(),g6=le(),b6=Qn(),INe=te(),qNe=Bt(),kNe=Gv(),xNe=g6(kNe),CNe=g6([].concat),FNe=b6.keys,LNe=b6.toKey,jNe=i(function t(e,r){var n=FNe(e,r),o=qNe(e);if(o===null)return n;var a=t(o,r);return a.length?n.length?xNe(CNe(n,a)):a:n},"ordinaryMetadataKeys");ANe({target:"Reflect",stat:!0},{getMetadataKeys:i(function(e){var r=arguments.length<2?void 0:LNe(arguments[1]);return jNe(INe(e),r)},"getMetadataKeys")});var NNe=D(),w6=Qn(),DNe=te(),UNe=w6.get,MNe=w6.toKey;NNe({target:"Reflect",stat:!0},{getOwnMetadata:i(function(e,r){var n=arguments.length<3?void 0:MNe(arguments[2]);return UNe(e,DNe(r),n)},"getOwnMetadata")});var BNe=D(),O6=Qn(),$Ne=te(),zNe=O6.keys,GNe=O6.toKey;BNe({target:"Reflect",stat:!0},{getOwnMetadataKeys:i(function(e){var r=arguments.length<2?void 0:GNe(arguments[1]);return zNe($Ne(e),r)},"getOwnMetadataKeys")});var HNe=D(),S6=Qn(),VNe=te(),WNe=Bt(),KNe=S6.has,YNe=S6.toKey,XNe=i(function t(e,r,n){var o=KNe(e,r,n);if(o)return!0;var a=WNe(r);return a!==null?t(e,a,n):!1},"ordinaryHasMetadata");HNe({target:"Reflect",stat:!0},{hasMetadata:i(function(e,r){var n=arguments.length<3?void 0:YNe(arguments[2]);return XNe(e,VNe(r),n)},"hasMetadata")});var JNe=D(),_6=Qn(),QNe=te(),ZNe=_6.has,eDe=_6.toKey;JNe({target:"Reflect",stat:!0},{hasOwnMetadata:i(function(e,r){var n=arguments.length<3?void 0:eDe(arguments[2]);return ZNe(e,QNe(r),n)},"hasOwnMetadata")});var tDe=D(),P6=Qn(),rDe=te(),nDe=P6.toKey,iDe=P6.set;tDe({target:"Reflect",stat:!0},{metadata:i(function(e,r){return i(function(o,a){iDe(e,r,rDe(o),nDe(a))},"decorator")},"metadata")});var sDe=D(),lDe=P1();sDe({target:"Set",proto:!0,real:!0,forced:!0},{addAll:lDe});var cDe=D(),fDe=Vc();cDe({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:fDe});var pDe=D(),dDe=ye(),hDe=ce(),vDe=de(),yDe=te(),mDe=tr(),gDe=be();pDe({target:"Set",proto:!0,real:!0,forced:!0},{difference:i(function(e){var r=yDe(this),n=new(mDe(r,dDe("Set")))(r),o=vDe(n.delete);return gDe(e,function(a){hDe(o,n,a)}),n},"difference")});var wDe=D(),ODe=te(),SDe=Ke(),_De=$o(),PDe=be();wDe({target:"Set",proto:!0,real:!0,forced:!0},{every:i(function(e){var r=ODe(this),n=_De(r),o=SDe(e,arguments.length>1?arguments[1]:void 0);return!PDe(n,function(a,u){if(!o(a,a,r))return u()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"every")});var EDe=D(),RDe=ye(),TDe=ce(),ADe=de(),IDe=te(),qDe=Ke(),kDe=tr(),xDe=$o(),CDe=be();EDe({target:"Set",proto:!0,real:!0,forced:!0},{filter:i(function(e){var r=IDe(this),n=xDe(r),o=qDe(e,arguments.length>1?arguments[1]:void 0),a=new(kDe(r,RDe("Set"))),u=ADe(a.add);return CDe(n,function(s){o(s,s,r)&&TDe(u,a,s)},{IS_ITERATOR:!0}),a},"filter")});var FDe=D(),LDe=te(),jDe=Ke(),NDe=$o(),DDe=be();FDe({target:"Set",proto:!0,real:!0,forced:!0},{find:i(function(e){var r=LDe(this),n=NDe(r),o=jDe(e,arguments.length>1?arguments[1]:void 0);return DDe(n,function(a,u){if(o(a,a,r))return u(a)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result},"find")});var UDe=D(),MDe=Wc();UDe({target:"Set",stat:!0,forced:!0},{from:MDe});var BDe=D(),$De=ye(),T6=ce(),A6=de(),zDe=te(),GDe=tr(),HDe=be();BDe({target:"Set",proto:!0,real:!0,forced:!0},{intersection:i(function(e){var r=zDe(this),n=new(GDe(r,$De("Set"))),o=A6(r.has),a=A6(n.add);return HDe(e,function(u){T6(o,r,u)&&T6(a,n,u)}),n},"intersection")});var VDe=D(),WDe=ce(),KDe=de(),YDe=te(),XDe=be();VDe({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:i(function(e){var r=YDe(this),n=KDe(r.has);return!XDe(e,function(o,a){if(WDe(n,r,o)===!0)return a()},{INTERRUPTED:!0}).stopped},"isDisjointFrom")});var JDe=D(),QDe=ye(),ZDe=ce(),e3e=de(),t3e=Pe(),r3e=te(),n3e=Jr(),i3e=be();JDe({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:i(function(e){var r=n3e(this),n=r3e(e),o=n.has;return t3e(o)||(n=new(QDe("Set"))(e),o=e3e(n.has)),!i3e(r,function(a,u){if(ZDe(o,n,a)===!1)return u()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"isSubsetOf")});var o3e=D(),a3e=ce(),u3e=de(),s3e=te(),l3e=be();o3e({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:i(function(e){var r=s3e(this),n=u3e(r.has);return!l3e(e,function(o,a){if(a3e(n,r,o)===!1)return a()},{INTERRUPTED:!0}).stopped},"isSupersetOf")});var c3e=D(),f3e=le(),p3e=te(),d3e=Le(),h3e=$o(),v3e=be(),y3e=f3e([].join),m3e=[].push;c3e({target:"Set",proto:!0,real:!0,forced:!0},{join:i(function(e){var r=p3e(this),n=h3e(r),o=e===void 0?",":d3e(e),a=[];return v3e(n,m3e,{that:a,IS_ITERATOR:!0}),y3e(a,o)},"join")});var g3e=D(),b3e=ye(),w3e=Ke(),O3e=ce(),S3e=de(),_3e=te(),P3e=tr(),E3e=$o(),R3e=be();g3e({target:"Set",proto:!0,real:!0,forced:!0},{map:i(function(e){var r=_3e(this),n=E3e(r),o=w3e(e,arguments.length>1?arguments[1]:void 0),a=new(P3e(r,b3e("Set"))),u=S3e(a.add);return R3e(n,function(s){O3e(u,a,o(s,s,r))},{IS_ITERATOR:!0}),a},"map")});var T3e=D(),A3e=Kc();T3e({target:"Set",stat:!0,forced:!0},{of:A3e});var I3e=D(),q3e=de(),k3e=te(),x3e=$o(),C3e=be(),F3e=TypeError;I3e({target:"Set",proto:!0,real:!0,forced:!0},{reduce:i(function(e){var r=k3e(this),n=x3e(r),o=arguments.length<2,a=o?void 0:arguments[1];if(q3e(e),C3e(n,function(u){o?(o=!1,a=u):a=e(a,u,u,r)},{IS_ITERATOR:!0}),o)throw F3e("Reduce of empty set with no initial value");return a},"reduce")});var L3e=D(),j3e=te(),N3e=Ke(),D3e=$o(),U3e=be();L3e({target:"Set",proto:!0,real:!0,forced:!0},{some:i(function(e){var r=j3e(this),n=D3e(r),o=N3e(e,arguments.length>1?arguments[1]:void 0);return U3e(n,function(a,u){if(o(a,a,r))return u()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"some")});var M3e=D(),B3e=ye(),I6=ce(),q6=de(),$3e=te(),z3e=tr(),G3e=be();M3e({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:i(function(e){var r=$3e(this),n=new(z3e(r,B3e("Set")))(r),o=q6(n.delete),a=q6(n.add);return G3e(e,function(u){I6(o,n,u)||I6(a,n,u)}),n},"symmetricDifference")});var H3e=D(),V3e=ye(),W3e=de(),K3e=te(),Y3e=tr(),X3e=be();H3e({target:"Set",proto:!0,real:!0,forced:!0},{union:i(function(e){var r=K3e(this),n=new(Y3e(r,V3e("Set")))(r);return X3e(e,W3e(n.add),{that:n}),n},"union")});var J3e=D(),Q3e=Na().charAt,Z3e=gt(),eUe=at(),tUe=Le();J3e({target:"String",proto:!0,forced:!0},{at:i(function(e){var r=tUe(Z3e(this)),n=r.length,o=eUe(e),a=o>=0?o:n+o;return a<0||a>=n?void 0:Q3e(r,a)},"at")});var rUe=D(),C6=le(),nUe=bt(),k6=Le(),iUe=Fe(),oUe=TypeError,F6=Array.prototype,x6=C6(F6.push),aUe=C6(F6.join);rUe({target:"String",stat:!0,forced:!0},{cooked:i(function(e){for(var r=nUe(e),n=iUe(r),o=arguments.length,a=[],u=0;n>u;){var s=r[u++];if(s===void 0)throw oUe("Incorrect template");if(x6(a,k6(s)),u===n)return aUe(a,"");u<o&&x6(a,k6(arguments[u]))}},"cooked")});var uUe=D(),sUe=Po(),lUe=gt(),cUe=Le(),L6=We(),j6=Na(),fUe=j6.codeAt,pUe=j6.charAt,N6="String Iterator",dUe=L6.set,hUe=L6.getterFor(N6),vUe=sUe(i(function(e){dUe(this,{type:N6,string:e,index:0})},"StringIterator"),"String",i(function(){var e=hUe(this),r=e.string,n=e.index,o;return n>=r.length?{value:void 0,done:!0}:(o=pUe(r,n),e.index+=o.length,{value:{codePoint:fUe(o,0),position:n},done:!1})},"next"));uUe({target:"String",proto:!0,forced:!0},{codePoints:i(function(){return new vUe(cUe(lUe(this)))},"codePoints")});var yUe=ut();yUe("asyncDispose");var mUe=ut();mUe("dispose");var gUe=ut();gUe("matcher");var bUe=ut();bUe("metadata");var wUe=ut();wUe("metadataKey");var OUe=ut();OUe("observable");var SUe=ut();SUe("patternMatch");var _Ue=ut();_Ue("replaceAll");var PUe=ye(),EUe=fs(),RUe=B_(),D6=_e(),TUe=ks(),AUe=D6.aTypedArrayConstructor,IUe=D6.exportTypedArrayStaticMethod;IUe("fromAsync",i(function(e){var r=this,n=arguments.length,o=n>1?arguments[1]:void 0,a=n>2?arguments[2]:void 0;return new(PUe("Promise"))(function(u){EUe(r),u(RUe(e,o,a))}).then(function(u){return TUe(AUe(r),u)})},"fromAsync"),!0);var U6=_e(),qUe=Ot().filterReject,kUe=jc(),xUe=U6.aTypedArray,CUe=U6.exportTypedArrayMethod;CUe("filterOut",i(function(e){var r=qUe(xUe(this),e,arguments.length>1?arguments[1]:void 0);return kUe(this,r)},"filterOut"),!0);var M6=_e(),FUe=Ot().filterReject,LUe=jc(),jUe=M6.aTypedArray,NUe=M6.exportTypedArrayMethod;NUe("filterReject",i(function(e){var r=FUe(jUe(this),e,arguments.length>1?arguments[1]:void 0);return LUe(this,r)},"filterReject"),!0);var B6=_e(),DUe=Bv(),UUe=xs(),MUe=B6.aTypedArray,BUe=B6.exportTypedArrayMethod;BUe("groupBy",i(function(e){var r=arguments.length>1?arguments[1]:void 0;return DUe(MUe(this),e,r,UUe)},"groupBy"),!0);var $Ue=G_(),E1=_e(),zUe=E1.aTypedArray,GUe=E1.exportTypedArrayMethod,HUe=E1.getTypedArrayConstructor;GUe("toReversed",i(function(){return $Ue(zUe(this),HUe(this))},"toReversed"));var ay=_e(),VUe=le(),WUe=de(),KUe=ks(),YUe=ay.aTypedArray,XUe=ay.getTypedArrayConstructor,JUe=ay.exportTypedArrayMethod,QUe=VUe(ay.TypedArrayPrototype.sort);JUe("toSorted",i(function(e){e!==void 0&&WUe(e);var r=YUe(this),n=KUe(XUe(r),r);return QUe(n,e)},"toSorted"));var R1=_e(),ZUe=Fe(),eMe=yn(),tMe=at(),rMe=se(),nMe=R1.aTypedArray,iMe=R1.getTypedArrayConstructor,oMe=R1.exportTypedArrayMethod,aMe=Math.max,uMe=Math.min,sMe=!rMe(function(){var t=new Int8Array([1]),e=t.toSpliced(1,0,{valueOf:i(function(){return t[0]=2,3},"valueOf")});return e[0]!==2||e[1]!==3});oMe("toSpliced",i(function(e,r){var n=nMe(this),o=iMe(n),a=ZUe(n),u=eMe(e,a),s=arguments.length,l=0,f,d,y,m,w;if(s===0)f=d=0;else if(s===1)f=0,d=a-u;else if(d=uMe(aMe(tMe(r),0),a-u),f=s-2,f){y=new o(f);for(var _=2;_<s;_++)y[_-2]=arguments[_]}for(m=a+f-d,w=new o(m);l<u;l++)w[l]=n[l];for(;l<u+f;l++)w[l]=y[l-u];for(;l<m;l++)w[l]=n[l+d-f];return w},"toSpliced"),!sMe);var lMe=le(),$6=_e(),cMe=Gv(),fMe=jc(),pMe=$6.aTypedArray,dMe=$6.exportTypedArrayMethod,hMe=lMe(cMe);dMe("uniqueBy",i(function(e){return fMe(this,hMe(pMe(this),e))},"uniqueBy"),!0);var gMe=V_(),T1=_e(),bMe=G6(),wMe=at(),OMe=g_(),SMe=T1.aTypedArray,_Me=T1.getTypedArrayConstructor,PMe=T1.exportTypedArrayMethod,EMe=!!function(){try{new Int8Array(1).with(2,{valueOf:i(function(){throw 8},"valueOf")})}catch(t){return t===8}}();PMe("with",i(function(e,r){var n=SMe(this),o=wMe(e),a=bMe(n)?OMe(r):+r;return gMe(n,_Me(n),o,a)},"_with"),!EMe);var RMe=D(),TMe=Vc();RMe({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:TMe});var AMe=D(),IMe=Wc();AMe({target:"WeakMap",stat:!0,forced:!0},{from:IMe});var qMe=D(),kMe=Kc();qMe({target:"WeakMap",stat:!0,forced:!0},{of:kMe});var xMe=D(),CMe=u1();xMe({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:CMe});var FMe=D(),LMe=Qv();FMe({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:LMe});var jMe=D(),NMe=P1();jMe({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:NMe});var DMe=D(),UMe=Vc();DMe({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:UMe});var MMe=D(),BMe=Wc();MMe({target:"WeakSet",stat:!0,forced:!0},{from:BMe});var $Me=D(),zMe=Kc();$Me({target:"WeakSet",stat:!0,forced:!0},{of:zMe});var GMe=D(),J6=ye(),q1=le(),k1=se(),HMe=Le(),VMe=Ae(),WMe=xo(),I1=A1().ctoi,Q6=/[^\d+/a-z]/i,KMe=/[\t\n\f\r ]+/g,YMe=/[=]+$/,tf=J6("atob"),XMe=String.fromCharCode,JMe=q1("".charAt),K6=q1("".replace),QMe=q1(Q6.exec),x1=k1(function(){return tf(" ")!==""}),C1=!k1(function(){tf("a")}),Y6=!x1&&!C1&&!k1(function(){tf()}),X6=!x1&&!C1&&tf.length!==1;GMe({global:!0,enumerable:!0,forced:x1||C1||Y6||X6},{atob:i(function(e){if(WMe(arguments.length,1),Y6||X6)return tf(e);var r=K6(HMe(e),KMe,""),n="",o=0,a=0,u,s;if(r.length%4==0&&(r=K6(r,YMe,"")),r.length%4==1||QMe(Q6,r))throw new(J6("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;u=JMe(r,o++);)VMe(I1,u)&&(s=a%4?s*64+I1[u]:I1[u],a++%4&&(n+=XMe(255&s>>(-2*a&6))));return n},"atob")});var ZMe=D(),i7=ye(),o7=le(),a7=se(),Z6=Le(),e5e=xo(),t5e=A1().itoc,$a=i7("btoa"),e7=o7("".charAt),r5e=o7("".charCodeAt),t7=!!$a&&!a7(function(){$a()}),r7=!!$a&&a7(function(){return $a(null)!=="bnVsbA=="}),n7=!!$a&&$a.length!==1;ZMe({global:!0,enumerable:!0,forced:t7||r7||n7},{btoa:i(function(e){if(e5e(arguments.length,1),t7||r7||n7)return $a(Z6(e));for(var r=Z6(e),n="",o=0,a=t5e,u,s;e7(r,o)||(a="=",o%1);){if(s=r5e(r,o+=3/4),s>255)throw new(i7("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");u=u<<8|s,n+=e7(a,63&u>>8-o%1*8)}return n},"btoa")});var p7=he(),d7=F1(),u5e=j1(),N1=f7(),s5e=It(),h7=i(function(e){if(e&&e.forEach!==N1)try{s5e(e,"forEach",N1)}catch(r){e.forEach=N1}},"handlePrototype");for(uy in d7)d7[uy]&&h7(p7[uy]&&p7[uy].prototype);var uy;h7(u5e);var v7=he(),m7=F1(),l5e=j1(),rf=uc(),D1=It(),g7=ge(),U1=g7("iterator"),y7=g7("toStringTag"),M1=rf.values,b7=i(function(e,r){if(e){if(e[U1]!==M1)try{D1(e,U1,M1)}catch(o){e[U1]=M1}if(e[y7]||D1(e,y7,r),m7[r]){for(var n in rf)if(e[n]!==rf[n])try{D1(e,n,rf[n])}catch(o){e[n]=rf[n]}}}},"handlePrototype");for(sy in m7)b7(v7[sy]&&v7[sy].prototype,sy);var sy;b7(l5e,"DOMTokenList");var y5e=D(),m5e=O7(),py=ye(),W1=se(),g5e=wt(),K1=kr(),dy=He().f,b5e=rt(),cy=Ri(),fy=Ae(),w5e=br(),O5e=te(),A7=P7(),R7=ts(),Us=B1(),S5e=tc(),I7=We(),Y1=Oe(),q7=tt(),Ms="DOMException",V1="DATA_CLONE_ERR",vy=py("Error"),Ii=py(Ms)||function(){try{var t=py("MessageChannel")||m5e("worker_threads").MessageChannel;new t().port1.postMessage(new WeakMap)}catch(e){if(e.name==V1&&e.code==25)return e.constructor}}(),_5e=Ii&&Ii.prototype,k7=vy.prototype,P5e=I7.set,E5e=I7.getterFor(Ms),R5e="stack"in vy(Ms),x7=i(function(e){return fy(Us,e)&&Us[e].m?Us[e].c:0},"codeFor"),X1=i(function(){w5e(this,of);var e=arguments.length,r=R7(e<1?void 0:arguments[0]),n=R7(e<2?void 0:arguments[1],"Error"),o=x7(n);if(P5e(this,{type:Ms,name:n,message:r,code:o}),Y1||(this.name=n,this.message=r,this.code=o),R5e){var a=vy(r);a.name=Ms,dy(this,"stack",K1(1,S5e(a.stack,1)))}},"DOMException"),of=X1.prototype=g5e(k7),C7=i(function(e){return{enumerable:!0,configurable:!0,get:e}},"createGetterDescriptor"),$1=i(function(e){return C7(function(){return E5e(this)[e]})},"getterFor");Y1&&(cy(of,"code",$1("code")),cy(of,"message",$1("message")),cy(of,"name",$1("name")));dy(of,"constructor",K1(1,X1));var yy=W1(function(){return!(new Ii instanceof vy)}),F7=yy||W1(function(){return k7.toString!==A7||String(new Ii(1,2))!=="2: 1"}),L7=yy||W1(function(){return new Ii(1,"DataCloneError").code!==25}),T5e=yy||Ii[V1]!==25||_5e[V1]!==25,T7=q7?F7||L7||T5e:yy;y5e({global:!0,constructor:!0,forced:T7},{DOMException:T7?X1:Ii});var af=py(Ms),hy=af.prototype;F7&&(q7||Ii===af)&&b5e(hy,"toString",A7);L7&&Y1&&Ii===af&&cy(hy,"code",C7(function(){return x7(O5e(this).name)}));for(z1 in Us)fy(Us,z1)&&(G1=Us[z1],nf=G1.s,H1=K1(6,G1.c),fy(af,nf)||dy(af,nf,H1),fy(hy,nf)||dy(hy,nf,H1));var G1,nf,H1,z1;var A5e=D(),I5e=he(),iP=ye(),rP=kr(),nP=He().f,j7=Ae(),q5e=br(),k5e=_a(),N7=ts(),J1=B1(),x5e=tc(),C5e=Oe(),M7=tt(),sf="DOMException",B7=iP("Error"),lf=iP(sf),oP=i(function(){q5e(this,F5e);var e=arguments.length,r=N7(e<1?void 0:arguments[0]),n=N7(e<2?void 0:arguments[1],"Error"),o=new lf(r,n),a=B7(r);return a.name=sf,nP(o,"stack",rP(1,x5e(a.stack,1))),k5e(o,this,oP),o},"DOMException"),F5e=oP.prototype=lf.prototype,L5e="stack"in B7(sf),j5e="stack"in new lf(1,2),Q1=lf&&C5e&&Object.getOwnPropertyDescriptor(I5e,sf),N5e=!!Q1&&!(Q1.writable&&Q1.configurable),D7=L5e&&!N5e&&!j5e;A5e({global:!0,constructor:!0,forced:M7||D7},{DOMException:D7?oP:lf});var uf=iP(sf),U7=uf.prototype;if(U7.constructor!==uf){M7||nP(U7,"constructor",rP(1,uf));for(Z1 in J1)j7(J1,Z1)&&(eP=J1[Z1],tP=eP.s,j7(uf,tP)||nP(uf,tP,rP(6,eP.c)))}var eP,tP,Z1;var D5e=ye(),U5e=yr(),$7="DOMException";U5e(D5e($7),$7);var M5e=D(),B5e=he(),$5e=XO(),z5e=de(),G5e=xo(),H5e=ko(),V5e=B5e.process;M5e({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:i(function(e){G5e(arguments.length,1),z5e(e);var r=H5e&&V5e.domain;$5e(r?r.bind(e):e)},"queueMicrotask")});function cP(t){return cP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cP(t)}i(cP,"_typeof");var W5e=tt(),K5e=D(),vt=he(),pf=ye(),qi=le(),by=se(),Y5e=ha(),fP=Pe(),G7=gn(),pP=Te(),X5e=yo(),J5e=be(),H7=te(),V7=mn(),Q5e=Ae(),Z5e=$n(),aP=It(),dP=Fe(),e8e=xo(),t8e=bs(),r8e=ph(),uP=vo(),n8e=QO(),i8e=Qh(),o8e=ko(),cf=vt.Object,W7=vt.Date,df=vt.Error,a8e=vt.EvalError,u8e=vt.RangeError,s8e=vt.ReferenceError,l8e=vt.SyntaxError,K7=vt.TypeError,c8e=vt.URIError,f8e=vt.PerformanceMark,Bs=vt.WebAssembly,p8e=Bs&&Bs.CompileError||df,d8e=Bs&&Bs.LinkError||df,h8e=Bs&&Bs.RuntimeError||df,za=pf("DOMException"),Y7=pf("Set"),my=pf("Map"),vP=my.prototype,X7=qi(vP.has),v8e=qi(vP.get),gy=qi(vP.set),y8e=qi(Y7.prototype.add),m8e=pf("Object","keys"),g8e=qi([].push),b8e=qi((!0).valueOf),w8e=qi(1 .valueOf),O8e=qi("".valueOf),S8e=qi(W7.prototype.getTime),hP=Y5e("structuredClone"),ff="DataCloneError",sP="Transferring",J7=i(function(e){return!by(function(){var r=new vt.Set([7]),n=e(r),o=e(cf(7));return n==r||!n.has(7)||cP(o)!="object"||o!=7})&&e},"checkBasicSemantic"),z7=i(function(e,r){return!by(function(){var n=new r,o=e({a:n,b:n});return!(o&&o.a===o.b&&o.a instanceof r&&o.a.stack===n.stack)})},"checkErrorsCloning"),_8e=i(function(e){return!by(function(){var r=e(new vt.AggregateError([1],hP,{cause:3}));return r.name!="AggregateError"||r.errors[0]!=1||r.message!=hP||r.cause!=3})},"checkNewErrorsCloningSemantic"),Go=vt.structuredClone,P8e=W5e||!z7(Go,df)||!z7(Go,za)||!_8e(Go),E8e=!Go&&J7(function(t){return new f8e(hP,{detail:t}).detail}),zo=J7(Go)||E8e,lP=i(function(e){throw new za("Uncloneable type: "+e,ff)},"throwUncloneable"),nr=i(function(e,r){throw new za((r||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",ff)},"throwUnpolyfillable"),R8e=i(function t(e,r){if(X5e(e)&&lP("Symbol"),!pP(e))return e;if(r){if(X7(r,e))return v8e(r,e)}else r=new my;var n=V7(e),o=!1,a,u,s,l,f,d,y,m,w,_;switch(n){case"Array":s=[],o=!0;break;case"Object":s={},o=!0;break;case"Map":s=new my,o=!0;break;case"Set":s=new Y7,o=!0;break;case"RegExp":s=new RegExp(e.source,t8e(e));break;case"Error":switch(u=e.name,u){case"AggregateError":s=pf("AggregateError")([]);break;case"EvalError":s=a8e();break;case"RangeError":s=u8e();break;case"ReferenceError":s=s8e();break;case"SyntaxError":s=l8e();break;case"TypeError":s=K7();break;case"URIError":s=c8e();break;case"CompileError":s=p8e();break;case"LinkError":s=d8e();break;case"RuntimeError":s=h8e();break;default:s=df()}o=!0;break;case"DOMException":s=new za(e.message,e.name),o=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":a=vt[n],pP(a)||nr(n),s=new a(t(e.buffer,r),e.byteOffset,n==="DataView"?e.byteLength:e.length);break;case"DOMQuad":try{s=new DOMQuad(t(e.p1,r),t(e.p2,r),t(e.p3,r),t(e.p4,r))}catch(T){zo?s=zo(e):nr(n)}break;case"FileList":if(a=vt.DataTransfer,G7(a)){for(l=new a,f=0,d=dP(e);f<d;f++)l.items.add(t(e[f],r));s=l.files}else zo?s=zo(e):nr(n);break;case"ImageData":try{s=new ImageData(t(e.data,r),e.width,e.height,{colorSpace:e.colorSpace})}catch(T){zo?s=zo(e):nr(n)}break;default:if(zo)s=zo(e);else switch(n){case"BigInt":s=cf(e.valueOf());break;case"Boolean":s=cf(b8e(e));break;case"Number":s=cf(w8e(e));break;case"String":s=cf(O8e(e));break;case"Date":s=new W7(S8e(e));break;case"ArrayBuffer":a=vt.DataView,!a&&typeof e.slice!="function"&&nr(n);try{if(typeof e.slice=="function")s=e.slice(0);else for(d=e.byteLength,s=new ArrayBuffer(d),w=new a(e),_=new a(s),f=0;f<d;f++)_.setUint8(f,w.getUint8(f))}catch(T){throw new za("ArrayBuffer is detached",ff)}break;case"SharedArrayBuffer":s=e;break;case"Blob":try{s=e.slice(0,e.size,e.type)}catch(T){nr(n)}break;case"DOMPoint":case"DOMPointReadOnly":a=vt[n];try{s=a.fromPoint?a.fromPoint(e):new a(e.x,e.y,e.z,e.w)}catch(T){nr(n)}break;case"DOMRect":case"DOMRectReadOnly":a=vt[n];try{s=a.fromRect?a.fromRect(e):new a(e.x,e.y,e.width,e.height)}catch(T){nr(n)}break;case"DOMMatrix":case"DOMMatrixReadOnly":a=vt[n];try{s=a.fromMatrix?a.fromMatrix(e):new a(e)}catch(T){nr(n)}break;case"AudioData":case"VideoFrame":fP(e.clone)||nr(n);try{s=e.clone()}catch(T){lP(n)}break;case"File":try{s=new File([e],e.name,e)}catch(T){nr(n)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":nr(n);default:lP(n)}}if(gy(r,e,s),o)switch(n){case"Array":case"Object":for(y=m8e(e),f=0,d=dP(y);f<d;f++)m=y[f],Z5e(s,m,t(e[m],r));break;case"Map":e.forEach(function(T,R){gy(s,t(R,r),t(T,r))});break;case"Set":e.forEach(function(T){y8e(s,t(T,r))});break;case"Error":aP(s,"message",t(e.message,r)),Q5e(e,"cause")&&aP(s,"cause",t(e.cause,r)),u=="AggregateError"&&(s.errors=t(e.errors,r));case"DOMException":r8e&&aP(s,"stack",t(e.stack,r))}return s},"structuredCloneInternal"),Q7=Go&&!by(function(){if(i8e&&uP>92||o8e&&uP>94||n8e&&uP>97)return!1;var t=new ArrayBuffer(8),e=Go(t,{transfer:[t]});return t.byteLength!=0||e.byteLength!=8}),T8e=i(function(e,r){if(!pP(e))throw K7("Transfer option cannot be converted to a sequence");var n=[];J5e(e,function(w){g8e(n,H7(w))});var o=0,a=dP(n),u,s,l,f,d,y,m;if(Q7)for(f=Go(n,{transfer:n});o<a;)gy(r,n[o],f[o++]);else for(;o<a;){if(u=n[o++],X7(r,u))throw new za("Duplicate transferable",ff);switch(s=V7(u),s){case"ImageBitmap":l=vt.OffscreenCanvas,G7(l)||nr(s,sP);try{y=new l(u.width,u.height),m=y.getContext("bitmaprenderer"),m.transferFromImageBitmap(u),d=y.transferToImageBitmap()}catch(w){}break;case"AudioData":case"VideoFrame":(!fP(u.clone)||!fP(u.close))&&nr(s,sP);try{d=u.clone(),u.close()}catch(w){}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":nr(s,sP)}if(d===void 0)throw new za("This object cannot be transferred: "+s,ff);gy(r,u,d)}},"tryToTransfer");K5e({global:!0,enumerable:!0,sham:!Q7,forced:P8e},{structuredClone:i(function(e){var r=e8e(arguments.length,1)>1&&arguments[1]!=null?H7(arguments[1]):void 0,n=r?r.transfer:void 0,o;return n!==void 0&&(o=new my,T8e(n,o)),R8e(e,o)},"structuredClone")});K9();var KBe=D(),YBe=ce();KBe({target:"URL",proto:!0,enumerable:!0},{toJSON:i(function(){return YBe(URL.prototype.toString,this)},"toJSON")});qP();function JP(t){return JP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JP(t)}i(JP,"_typeof");var Qt=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof Qt!="undefined"&&Qt,_r={searchParams:"URLSearchParams"in Qt,iterable:"Symbol"in Qt&&"iterator"in Symbol,blob:"FileReader"in Qt&&"Blob"in Qt&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in Qt,arrayBuffer:"ArrayBuffer"in Qt};function XBe(t){return t&&DataView.prototype.isPrototypeOf(t)}i(XBe,"isDataView");_r.arrayBuffer&&(Y9=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],J9=ArrayBuffer.isView||function(t){return t&&Y9.indexOf(Object.prototype.toString.call(t))>-1});var Y9,J9;function _f(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}i(_f,"normalizeName");function QP(t){return typeof t!="string"&&(t=String(t)),t}i(QP,"normalizeValue");function ZP(t){var e={next:i(function(){var n=t.shift();return{done:n===void 0,value:n}},"next")};return _r.iterable&&(e[Symbol.iterator]=function(){return e}),e}i(ZP,"iteratorFor");function qt(t){this.map={},t instanceof qt?t.forEach(function(e,r){this.append(r,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}i(qt,"Headers");qt.prototype.append=function(t,e){t=_f(t),e=QP(e);var r=this.map[t];this.map[t]=r?r+", "+e:e};qt.prototype.delete=function(t){delete this.map[_f(t)]};qt.prototype.get=function(t){return t=_f(t),this.has(t)?this.map[t]:null};qt.prototype.has=function(t){return this.map.hasOwnProperty(_f(t))};qt.prototype.set=function(t,e){this.map[_f(t)]=QP(e)};qt.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)};qt.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),ZP(t)};qt.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),ZP(t)};qt.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),ZP(t)};_r.iterable&&(qt.prototype[Symbol.iterator]=qt.prototype.entries);function XP(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}i(XP,"consumed");function Q9(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}i(Q9,"fileReaderReady");function JBe(t){var e=new FileReader,r=Q9(e);return e.readAsArrayBuffer(t),r}i(JBe,"readBlobAsArrayBuffer");function QBe(t){var e=new FileReader,r=Q9(e);return e.readAsText(t),r}i(QBe,"readBlobAsText");function ZBe(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}i(ZBe,"readArrayBufferAsText");function X9(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}i(X9,"bufferClone");function Z9(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:_r.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:_r.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:_r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():_r.arrayBuffer&&_r.blob&&XBe(t)?(this._bodyArrayBuffer=X9(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):_r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||J9(t))?this._bodyArrayBuffer=X9(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},_r.blob&&(this.blob=function(){var t=XP(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=XP(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(JBe)}),this.text=function(){var t=XP(this);if(t)return t;if(this._bodyBlob)return QBe(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(ZBe(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},_r.formData&&(this.formData=function(){return this.text().then(r4e)}),this.json=function(){return this.text().then(JSON.parse)},this}i(Z9,"Body");var e4e=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function t4e(t){var e=t.toUpperCase();return e4e.indexOf(e)>-1?e:t}i(t4e,"normalizeMethod");function Ya(t,e){if(!(this instanceof Ya))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var r=e.body;if(t instanceof Ya){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new qt(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!r&&t._bodyInit!=null&&(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new qt(e.headers)),this.method=t4e(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var o=/\?/;this.url+=(o.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}i(Ya,"Request");Ya.prototype.clone=function(){return new Ya(this,{body:this._bodyInit})};function r4e(t){var e=new FormData;return t.trim().split("&").forEach(function(r){if(r){var n=r.split("="),o=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(a))}}),e}i(r4e,"decode");function n4e(t){var e=new qt,r=t.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf("\n")===0?n.substr(1,n.length):n}).forEach(function(n){var o=n.split(":"),a=o.shift().trim();if(a){var u=o.join(":").trim();e.append(a,u)}}),e}i(n4e,"parseHeaders");Z9.call(Ya.prototype);function ti(t,e){if(!(this instanceof ti))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new qt(e.headers),this.url=e.url||"",this._initBody(t)}i(ti,"Response");Z9.call(ti.prototype);ti.prototype.clone=function(){return new ti(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new qt(this.headers),url:this.url})};ti.error=function(){var t=new ti(null,{status:0,statusText:""});return t.type="error",t};var i4e=[301,302,303,307,308];ti.redirect=function(t,e){if(i4e.indexOf(e)===-1)throw new RangeError("Invalid status code");return new ti(null,{status:e,headers:{location:t}})};var Ka=Qt.DOMException;try{new Ka}catch(t){Ka=i(function(r,n){this.message=r,this.name=n;var o=Error(r);this.stack=o.stack},"DOMException"),Ka.prototype=Object.create(Error.prototype),Ka.prototype.constructor=Ka}function e$(t,e){return new Promise(function(r,n){var o=new Ya(t,e);if(o.signal&&o.signal.aborted)return n(new Ka("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}i(u,"abortXhr"),a.onload=function(){var l={status:a.status,statusText:a.statusText,headers:n4e(a.getAllResponseHeaders()||"")};l.url="responseURL"in a?a.responseURL:l.headers.get("X-Request-URL");var f="response"in a?a.response:a.responseText;setTimeout(function(){r(new ti(f,l))},0)},a.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},a.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},a.onabort=function(){setTimeout(function(){n(new Ka("Aborted","AbortError"))},0)};function s(l){try{return l===""&&Qt.location.href?Qt.location.href:l}catch(f){return l}}i(s,"fixUrl"),a.open(o.method,s(o.url),!0),o.credentials==="include"?a.withCredentials=!0:o.credentials==="omit"&&(a.withCredentials=!1),"responseType"in a&&(_r.blob?a.responseType="blob":_r.arrayBuffer&&o.headers.get("Content-Type")&&o.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(a.responseType="arraybuffer")),e&&JP(e.headers)==="object"&&!(e.headers instanceof qt)?Object.getOwnPropertyNames(e.headers).forEach(function(l){a.setRequestHeader(l,QP(e.headers[l]))}):o.headers.forEach(function(l,f){a.setRequestHeader(f,l)}),o.signal&&(o.signal.addEventListener("abort",u),a.onreadystatechange=function(){a.readyState===4&&o.signal.removeEventListener("abort",u)}),a.send(typeof o._bodyInit=="undefined"?null:o._bodyInit)})}i(e$,"fetch");e$.polyfill=!0;Qt.fetch||(Qt.fetch=e$,Qt.Headers=qt,Qt.Request=Ya,Qt.Response=ti);function eE(t){return eE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eE(t)}i(eE,"_typeof");(function(t){typeof define=="function"&&define.amd?define(t):t()})(function(){"use strict";function t(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}i(t,"_classCallCheck");function e(E,A){for(var k=0;k<A.length;k++){var U=A[k];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(E,U.key,U)}}i(e,"_defineProperties");function r(E,A,k){return A&&e(E.prototype,A),k&&e(E,k),E}i(r,"_createClass");function n(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),A&&a(E,A)}i(n,"_inherits");function o(E){return o=Object.setPrototypeOf?Object.getPrototypeOf:i(function(k){return k.__proto__||Object.getPrototypeOf(k)},"_getPrototypeOf"),o(E)}i(o,"_getPrototypeOf");function a(E,A){return a=Object.setPrototypeOf||i(function(U,G){return U.__proto__=G,U},"_setPrototypeOf"),a(E,A)}i(a,"_setPrototypeOf");function u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}i(u,"_isNativeReflectConstruct");function s(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}i(s,"_assertThisInitialized");function l(E,A){return A&&(eE(A)==="object"||typeof A=="function")?A:s(E)}i(l,"_possibleConstructorReturn");function f(E){var A=u();return i(function(){var U=o(E),G;if(A){var M=o(this).constructor;G=Reflect.construct(U,arguments,M)}else G=U.apply(this,arguments);return l(this,G)},"_createSuperInternal")}i(f,"_createSuper");function d(E,A){for(;!Object.prototype.hasOwnProperty.call(E,A)&&(E=o(E),E!==null););return E}i(d,"_superPropBase");function y(E,A,k){return typeof Reflect!="undefined"&&Reflect.get?y=Reflect.get:y=i(function(G,M,z){var W=d(G,M);if(!!W){var K=Object.getOwnPropertyDescriptor(W,M);return K.get?K.get.call(z):K.value}},"_get"),y(E,A,k||E)}i(y,"_get");var m=function(){function E(){t(this,E),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return i(E,"Emitter"),r(E,[{key:"addEventListener",value:i(function(k,U,G){k in this.listeners||(this.listeners[k]=[]),this.listeners[k].push({callback:U,options:G})},"addEventListener")},{key:"removeEventListener",value:i(function(k,U){if(k in this.listeners){for(var G=this.listeners[k],M=0,z=G.length;M<z;M++)if(G[M].callback===U){G.splice(M,1);return}}},"removeEventListener")},{key:"dispatchEvent",value:i(function(k){if(k.type in this.listeners){for(var U=this.listeners[k.type],G=U.slice(),M=0,z=G.length;M<z;M++){var W=G[M];try{W.callback.call(this,k)}catch(K){Promise.resolve().then(function(){throw K})}W.options&&W.options.once&&this.removeEventListener(k.type,W.callback)}return!k.defaultPrevented}},"dispatchEvent")}]),E}(),w=function(E){n(k,E);var A=f(k);function k(){var U;return t(this,k),U=A.call(this),U.listeners||m.call(s(U)),Object.defineProperty(s(U),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(s(U),"onabort",{value:null,writable:!0,configurable:!0}),U}return i(k,"AbortSignal"),r(k,[{key:"toString",value:i(function(){return"[object AbortSignal]"},"toString")},{key:"dispatchEvent",value:i(function(G){G.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,G)),y(o(k.prototype),"dispatchEvent",this).call(this,G)},"dispatchEvent")}]),k}(m),_=function(){function E(){t(this,E),Object.defineProperty(this,"signal",{value:new w,writable:!0,configurable:!0})}return i(E,"AbortController"),r(E,[{key:"abort",value:i(function(){var k;try{k=new Event("abort")}catch(U){typeof document!="undefined"?document.createEvent?(k=document.createEvent("Event"),k.initEvent("abort",!1,!1)):(k=document.createEventObject(),k.type="abort"):k={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(k)},"abort")},{key:"toString",value:i(function(){return"[object AbortController]"},"toString")}]),E}();typeof Symbol!="undefined"&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",w.prototype[Symbol.toStringTag]="AbortSignal");function T(E){return E.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof E.Request=="function"&&!E.Request.prototype.hasOwnProperty("signal")||!E.AbortController}i(T,"polyfillNeeded");function R(E){typeof E=="function"&&(E={fetch:E});var A=E,k=A.fetch,U=A.Request,G=U===void 0?k.Request:U,M=A.AbortController,z=A.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,W=z===void 0?!1:z;if(!T({fetch:k,Request:G,AbortController:M,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:W}))return{fetch:k,Request:K};var K=G;(K&&!K.prototype.hasOwnProperty("signal")||W)&&(K=i(function(v,g){var b;g&&g.signal&&(b=g.signal,delete g.signal);var P=new G(v,g);return b&&Object.defineProperty(P,"signal",{writable:!1,enumerable:!1,configurable:!0,value:b}),P},"Request"),K.prototype=G.prototype);var p=k,c=i(function(v,g){var b=K&&K.prototype.isPrototypeOf(v)?v.signal:g?g.signal:void 0;if(b){var P;try{P=new DOMException("Aborted","AbortError")}catch(L){P=new Error("Aborted"),P.name="AbortError"}if(b.aborted)return Promise.reject(P);var x=new Promise(function(L,S){b.addEventListener("abort",function(){return S(P)},{once:!0})});return g&&g.signal&&delete g.signal,Promise.race([x,p(v,g)])}return p(v,g)},"abortableFetch");return{fetch:c,Request:K}}i(R,"abortableFetchDecorator"),function(E){if(!!T(E)){if(!E.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var A=R(E),k=A.fetch,U=A.Request;E.fetch=k,E.Request=U,Object.defineProperty(E,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:_}),Object.defineProperty(E,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:w})}}(typeof self!="undefined"?self:global)});(function(){var t=i(function(r,n,o){var a=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return a?new Promise(function(u,s){a.call(navigator,r,u,s)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))},"promisifiedOldGUM");navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=t)})();var r$=function(){if(typeof Map!="undefined")return Map;function t(e,r){var n=-1;return e.some(function(o,a){return o[0]===r?(n=a,!0):!1}),n}return i(t,"getIndex"),function(){function e(){this.__entries__=[]}return i(e,"class_1"),Object.defineProperty(e.prototype,"size",{get:i(function(){return this.__entries__.length},"get"),enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),o=this.__entries__[n];return o&&o[1]},e.prototype.set=function(r,n){var o=t(this.__entries__,r);~o?this.__entries__[o][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,o=t(n,r);~o&&n.splice(o,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var o=0,a=this.__entries__;o<a.length;o++){var u=a[o];r.call(n,u[1],u[0])}},e}()}(),tE=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,xy=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),o4e=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(xy):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),a4e=2;function u4e(t,e){var r=!1,n=!1,o=0;function a(){r&&(r=!1,t()),n&&s()}i(a,"resolvePending");function u(){o4e(a)}i(u,"timeoutCallback");function s(){var l=Date.now();if(r){if(l-o<a4e)return;n=!0}else r=!0,n=!1,setTimeout(u,e);o=l}return i(s,"proxy"),s}i(u4e,"throttle");var s4e=20,l4e=["top","right","bottom","left","width","height","size","weight"],c4e=typeof MutationObserver!="undefined",f4e=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=u4e(this.refresh.bind(this),s4e)}return i(t,"ResizeObserverController"),t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!tE||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c4e?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!tE||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,o=l4e.some(function(a){return!!~n.indexOf(a)});o&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),n$=i(function(e,r){for(var n=0,o=Object.keys(r);n<o.length;n++){var a=o[n];Object.defineProperty(e,a,{value:r[a],enumerable:!1,writable:!1,configurable:!0})}return e},"defineConfigurable"),Ys=i(function(e){var r=e&&e.ownerDocument&&e.ownerDocument.defaultView;return r||xy},"getWindowOf"),i$=Fy(0,0,0,0);function Cy(t){return parseFloat(t)||0}i(Cy,"toFloat");function t$(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,o){var a=t["border-"+o+"-width"];return n+Cy(a)},0)}i(t$,"getBordersSize");function p4e(t){for(var e=["top","right","bottom","left"],r={},n=0,o=e;n<o.length;n++){var a=o[n],u=t["padding-"+a];r[a]=Cy(u)}return r}i(p4e,"getPaddings");function d4e(t){var e=t.getBBox();return Fy(0,0,e.width,e.height)}i(d4e,"getSVGContentRect");function h4e(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return i$;var n=Ys(t).getComputedStyle(t),o=p4e(n),a=o.left+o.right,u=o.top+o.bottom,s=Cy(n.width),l=Cy(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+a)!==e&&(s-=t$(n,"left","right")+a),Math.round(l+u)!==r&&(l-=t$(n,"top","bottom")+u)),!y4e(t)){var f=Math.round(s+a)-e,d=Math.round(l+u)-r;Math.abs(f)!==1&&(s-=f),Math.abs(d)!==1&&(l-=d)}return Fy(o.left,o.top,s,l)}i(h4e,"getHTMLElementContentRect");var v4e=function(){return typeof SVGGraphicsElement!="undefined"?function(t){return t instanceof Ys(t).SVGGraphicsElement}:function(t){return t instanceof Ys(t).SVGElement&&typeof t.getBBox=="function"}}();function y4e(t){return t===Ys(t).document.documentElement}i(y4e,"isDocumentElement");function m4e(t){return tE?v4e(t)?d4e(t):h4e(t):i$}i(m4e,"getContentRect");function g4e(t){var e=t.x,r=t.y,n=t.width,o=t.height,a=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,u=Object.create(a.prototype);return n$(u,{x:e,y:r,width:n,height:o,top:r,right:e+n,bottom:o+r,left:e}),u}i(g4e,"createReadOnlyRect");function Fy(t,e,r,n){return{x:t,y:e,width:r,height:n}}i(Fy,"createRectInit");var b4e=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Fy(0,0,0,0),this.target=e}return i(t,"ResizeObservation"),t.prototype.isActive=function(){var e=m4e(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),w4e=function(){function t(e,r){var n=g4e(r);n$(this,{target:e,contentRect:n})}return i(t,"ResizeObserverEntry"),t}(),O4e=function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new r$,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return i(t,"ResizeObserverSPI"),t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof Ys(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new b4e(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof Ys(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;!r.has(e)||(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new w4e(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),o$=typeof WeakMap!="undefined"?new WeakMap:new r$,a$=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=f4e.getInstance(),n=new O4e(e,r,this);o$.set(this,n)}return i(t,"ResizeObserver"),t}();["observe","unobserve","disconnect"].forEach(function(t){a$.prototype[t]=function(){var e;return(e=o$.get(this))[t].apply(e,arguments)}});var S4e=function(){return typeof xy.ResizeObserver!="undefined"?xy.ResizeObserver:a$}(),u$=S4e;var HIt=Re(s$(),1);var Mk={};Dl(Mk,{Audio:function(){return bg},AwsS3:function(){return AI},AwsS3Multipart:function(){return WI},Box:function(){return cl},Compressor:function(){return aQ},Dashboard:function(){return ll},DefaultStore:function(){return My},DragDrop:function(){return ng},DropTarget:function(){return BT},Dropbox:function(){return fl},Facebook:function(){return pl},FileInput:function(){return sg},Form:function(){return xk},GoldenRetriever:function(){return Lk},GoogleDrive:function(){return hl},ImageEditor:function(){return pg},Informer:function(){return rl},Instagram:function(){return vl},OneDrive:function(){return yl},ProgressBar:function(){return hg},ReduxDevTools:function(){return Uk},ReduxStore:function(){return bG},RemoteSources:function(){return VA},ScreenCapture:function(){return Hg},StatusBar:function(){return tl},ThumbnailGenerator:function(){return cp},Transloadit:function(){return ua},Tus:function(){return Tl},Unsplash:function(){return ml},Uppy:function(){return Hy},Url:function(){return yu},Webcam:function(){return Jg},XHRUpload:function(){return Rk},Zoom:function(){return gl},debugLogger:function(){return qf},locales:function(){return Qnt},server:function(){return ME},views:function(){return Jnt}});function jr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}i(jr,"has");function l$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(l$,"ownKeys");function jy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l$(Object(r),!0).forEach(function(n){_4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(jy,"_objectSpread");function _4e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(_4e,"_defineProperty");function nE(t){return nE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nE(t)}i(nE,"_typeof");function P4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(P4e,"_classCallCheck");function c$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(c$,"_defineProperties");function E4e(t,e,r){return e&&c$(t.prototype,e),r&&c$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(E4e,"_createClass");function f$(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(f$,"_classPrivateFieldLooseBase");var R4e=0;function T4e(t){return"__private_"+R4e+++"_"+t}i(T4e,"_classPrivateFieldLooseKey");function A4e(t,e,r){var n=[];return t.forEach(function(o){return typeof o!="string"?n.push(o):e[Symbol.split](o).forEach(function(a,u,s){a!==""&&n.push(a),u<s.length-1&&n.push(r)})}),n}i(A4e,"insertReplacement");function p$(t,e){var r=/\$/g,n="$$$$",o=[t];if(e==null)return o;for(var a=0,u=Object.keys(e);a<u.length;a++){var s=u[a];if(s!=="_"){var l=e[s];typeof l=="string"&&(l=r[Symbol.replace](l,n)),o=A4e(o,new RegExp("%\\{".concat(s,"\\}"),"g"),l)}}return o}i(p$,"interpolate");var Ef=T4e("apply"),Ny=function(){function t(e){P4e(this,t),Object.defineProperty(this,Ef,{value:I4e}),this.locale={strings:{},pluralize:i(function(n){return n===1?0:1},"pluralize")},Array.isArray(e)?e.forEach(f$(this,Ef)[Ef],this):f$(this,Ef)[Ef](e)}return i(t,"Translator"),E4e(t,[{key:"translate",value:i(function(r,n){return this.translateArray(r,n).join("")},"translate")},{key:"translateArray",value:i(function(r,n){if(!jr(this.locale.strings,r))throw new Error("missing string: ".concat(r));var o=this.locale.strings[r],a=nE(o)==="object";if(a){if(n&&typeof n.smart_count!="undefined"){var u=this.locale.pluralize(n.smart_count);return p$(o[u],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return p$(o,n)},"translateArray")}]),t}();function I4e(t){if(!!(t!=null&&t.strings)){var e=this.locale;this.locale=jy(jy({},e),{},{strings:jy(jy({},e.strings),t.strings)}),this.locale.pluralize=t.pluralize||e.pluralize}}i(I4e,"_apply2");var H$=Re(iE(),1);var q4e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var nn=i(function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21,r="",n=e;n--;)r+=q4e[Math.random()*64|0];return r},"nanoid");var V$=Re(Rf(),1);function g$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(g$,"ownKeys");function aE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g$(Object(r),!0).forEach(function(n){K4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(aE,"_objectSpread");function K4e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(K4e,"_defineProperty");function Y4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Y4e,"_classCallCheck");function b$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(b$,"_defineProperties");function X4e(t,e,r){return e&&b$(t.prototype,e),r&&b$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(X4e,"_createClass");function Uy(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Uy,"_classPrivateFieldLooseBase");var J4e=0;function w$(t){return"__private_"+J4e+++"_"+t}i(w$,"_classPrivateFieldLooseKey");var Q4e={version:"3.0.0-beta.3"},Ja=w$("callbacks"),uE=w$("publish"),O$=function(){function t(){Y4e(this,t),Object.defineProperty(this,uE,{value:Z4e}),Object.defineProperty(this,Ja,{writable:!0,value:new Set}),this.state={}}return i(t,"DefaultStore"),X4e(t,[{key:"getState",value:i(function(){return this.state},"getState")},{key:"setState",value:i(function(r){var n=aE({},this.state),o=aE(aE({},this.state),r);this.state=o,Uy(this,uE)[uE](n,o,r)},"setState")},{key:"subscribe",value:i(function(r){var n=this;return Uy(this,Ja)[Ja].add(r),function(){Uy(n,Ja)[Ja].delete(r)}},"subscribe")}]),t}();function Z4e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Uy(this,Ja)[Ja].forEach(function(n){n.apply(void 0,e)})}i(Z4e,"_publish2");O$.VERSION=Q4e.version;var My=O$;function Ci(t){var e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}i(Ci,"getFileNameAndExtension");var Tf={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function Af(t){var e;if(t.type)return t.type;var r=t.name?(e=Ci(t.name).extension)==null?void 0:e.toLowerCase():null;return r&&r in Tf?Tf[r]:"application/octet-stream"}i(Af,"getFileType");function e6e(t){return t.charCodeAt(0).toString(32)}i(e6e,"encodeCharacter");function S$(t){var e="";return t.replace(/[^A-Z0-9]/ig,function(r){return e+="-".concat(e6e(r)),"/"})+e}i(S$,"encodeFilename");function If(t){var e="uppy";return typeof t.name=="string"&&(e+="-".concat(S$(t.name.toLowerCase()))),t.type!==void 0&&(e+="-".concat(t.type)),t.meta&&typeof t.meta.relativePath=="string"&&(e+="-".concat(S$(t.meta.relativePath.toLowerCase()))),t.data.size!==void 0&&(e+="-".concat(t.data.size)),t.data.lastModified!==void 0&&(e+="-".concat(t.data.lastModified)),e}i(If,"generateFileID");function t6e(t,e){return o6e(t)||i6e(t,e)||n6e(t,e)||r6e()}i(t6e,"_slicedToArray");function r6e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(r6e,"_nonIterableRest");function n6e(t,e){if(!!t){if(typeof t=="string")return _$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _$(t,e)}}i(n6e,"_unsupportedIterableToArray");function _$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(_$,"_arrayLikeToArray");function i6e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],o=!0,a=!1,u,s;try{for(r=r.call(t);!(o=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));o=!0);}catch(l){a=!0,s=l}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw s}}return n}}i(i6e,"_iterableToArrayLimit");function o6e(t){if(Array.isArray(t))return t}i(o6e,"_arrayWithHoles");function sE(t){if(t==null&&typeof navigator!="undefined"&&(t=navigator.userAgent),!t)return!0;var e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;var r=e[1],n=r.split("."),o=t6e(n,2),a=o[0],u=o[1];return a=parseInt(a,10),u=parseInt(u,10),a<15||a===15&&u<15063||a>18||a===18&&u>=18218}i(sE,"supportsUploadProgress");function lE(t,e){return e.name?e.name:t.split("/")[0]==="image"?"".concat(t.split("/")[0],".").concat(t.split("/")[1]):"noname"}i(lE,"getFileName");function cE(t){return t<10?"0".concat(t):t.toString()}i(cE,"pad");function Xs(){var t=new Date,e=cE(t.getHours()),r=cE(t.getMinutes()),n=cE(t.getSeconds());return"".concat(e,":").concat(r,":").concat(n)}i(Xs,"getTimeStamp");var P$={debug:i(function(){},"debug"),warn:i(function(){},"warn"),error:i(function(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=console).error.apply(e,["[Uppy] [".concat(Xs(),"]")].concat(n))},"error")},qf={debug:i(function(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=console).debug.apply(e,["[Uppy] [".concat(Xs(),"]")].concat(n))},"debug"),warn:i(function(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=console).warn.apply(e,["[Uppy] [".concat(Xs(),"]")].concat(n))},"warn"),error:i(function(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=console).error.apply(e,["[Uppy] [".concat(Xs(),"]")].concat(n))},"error")};var zy=Re(By(),1),j$=Re(q$(),1);function dE(t){return dE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dE(t)}i(dE,"_typeof");function s6e(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=l6e(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,o=i(function(){},"F");return{s:o,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return a=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!a&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(s6e,"_createForOfIteratorHelper");function l6e(t,e){if(!!t){if(typeof t=="string")return k$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k$(t,e)}}i(l6e,"_unsupportedIterableToArray");function k$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(k$,"_arrayLikeToArray");function x$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(x$,"_defineProperties");function C$(t,e,r){return e&&x$(t.prototype,e),r&&x$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(C$,"_createClass");function F$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(F$,"_classCallCheck");function c6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kf(t,e)}i(c6e,"_inherits");function f6e(t){var e=L$();return i(function(){var n=xf(t),o;if(e){var a=xf(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return p6e(this,o)},"_createSuperInternal")}i(f6e,"_createSuper");function p6e(t,e){if(e&&(dE(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d6e(t)}i(p6e,"_possibleConstructorReturn");function d6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(d6e,"_assertThisInitialized");function hE(t){var e=typeof Map=="function"?new Map:void 0;return hE=i(function(n){if(n===null||!h6e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return $y(n,arguments,xf(this).constructor)}return i(o,"Wrapper"),o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),kf(o,n)},"_wrapNativeSuper"),hE(t)}i(hE,"_wrapNativeSuper");function $y(t,e,r){return L$()?$y=Reflect.construct.bind():$y=i(function(o,a,u){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(o,s),f=new l;return u&&kf(f,u.prototype),f},"_construct"),$y.apply(null,arguments)}i($y,"_construct");function L$(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(L$,"_isNativeReflectConstruct");function h6e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(h6e,"_isNativeFunction");function kf(t,e){return kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),kf(t,e)}i(kf,"_setPrototypeOf");function xf(t){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),xf(t)}i(xf,"_getPrototypeOf");var N$={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},on=function(t){c6e(r,t);var e=f6e(r);function r(){var n;return F$(this,r),n=e.apply(this,arguments),n.isRestriction=!0,n}return i(r,"RestrictionError"),C$(r)}(hE(Error)),D$=function(){function t(e,r){F$(this,t),this.i18n=r,this.getOpts=function(){var n=e();if(n.restrictions.allowedFileTypes!=null&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}return i(t,"Restricter"),C$(t,[{key:"validate",value:i(function(r,n){var o=this.getOpts().restrictions,a=o.maxFileSize,u=o.minFileSize,s=o.maxTotalFileSize,l=o.maxNumberOfFiles,f=o.allowedFileTypes;if(l&&n.length+1>l)throw new on("".concat(this.i18n("youCanOnlyUploadX",{smart_count:l})));if(f){var d=f.some(function(w){return w.includes("/")?r.type?(0,j$.default)(r.type.replace(/;.*?$/,""),w):!1:w[0]==="."&&r.extension?r.extension.toLowerCase()===w.slice(1).toLowerCase():!1});if(!d){var y=f.join(", ");throw new on(this.i18n("youCanOnlyUploadFileTypes",{types:y}))}}if(s&&r.size!=null){var m=n.reduce(function(w,_){return w+_.size},r.size);if(m>s)throw new on(this.i18n("exceedsSize",{size:(0,zy.default)(s),file:r.name}))}if(a&&r.size!=null&&r.size>a)throw new on(this.i18n("exceedsSize",{size:(0,zy.default)(a),file:r.name}));if(u&&r.size!=null&&r.size<u)throw new on(this.i18n("inferiorSize",{size:(0,zy.default)(u)}))},"validate")},{key:"validateMinNumberOfFiles",value:i(function(r){var n=this.getOpts().restrictions.minNumberOfFiles;if(Object.keys(r).length<n)throw new on(this.i18n("youHaveToAtLeastSelectX",{smart_count:n}))},"validateMinNumberOfFiles")},{key:"getMissingRequiredMetaFields",value:i(function(r){var n=new on(this.i18n("missingRequiredMetaFieldOnFile",{fileName:r.name})),o=this.getOpts().restrictions.requiredMetaFields,a=[],u=s6e(o),s;try{for(u.s();!(s=u.n()).done;){var l=s.value;(!Object.hasOwn(r.meta,l)||r.meta[l]==="")&&a.push(l)}}catch(f){u.e(f)}finally{u.f()}return{missingFields:a,error:n}},"getMissingRequiredMetaFields")}]),t}();var U$={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};function gE(){"use strict";gE=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&Wo(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(gE,"_regeneratorRuntime");function M$(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(M$,"asyncGeneratorStep");function v6e(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){M$(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){M$(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(v6e,"_asyncToGenerator");function Gy(t){return b6e(t)||g6e(t)||m6e(t)||y6e()}i(Gy,"_toConsumableArray");function y6e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(y6e,"_nonIterableSpread");function m6e(t,e){if(!!t){if(typeof t=="string")return bE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bE(t,e)}}i(m6e,"_unsupportedIterableToArray");function g6e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(g6e,"_iterableToArray");function b6e(t){if(Array.isArray(t))return bE(t)}i(b6e,"_arrayWithoutHoles");function bE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(bE,"_arrayLikeToArray");function Wo(t){return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(t)}i(Wo,"_typeof");function B$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(B$,"ownKeys");function ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B$(Object(r),!0).forEach(function(n){eu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(ae,"_objectSpread");function eu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(eu,"_defineProperty");function w6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(w6e,"_classCallCheck");function $$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i($$,"_defineProperties");function O6e(t,e,r){return e&&$$(t.prototype,e),r&&$$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(O6e,"_createClass");var z$,G$;function pe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(pe,"_classPrivateFieldLooseBase");var S6e=0;function kt(t){return"__private_"+S6e+++"_"+t}i(kt,"_classPrivateFieldLooseKey");var _6e={version:"3.0.0-beta.4"},$t=kt("plugins"),En=kt("restricter"),Cf=kt("storeUnsubscribe"),Fi=kt("emitter"),Qa=kt("preProcessors"),Za=kt("uploaders"),Ni=kt("postProcessors"),Nr=kt("informAndEmit"),Nf=kt("checkRequiredMetaFieldsOnFile"),vE=kt("checkRequiredMetaFields"),Ff=kt("assertNewUploadAllowed"),Lf=kt("checkAndCreateFileStateObject"),jf=kt("startIfAutoProceed"),yE=kt("addListeners"),Rn=kt("updateOnlineStatus"),Li=kt("createUpload"),mE=kt("getUpload"),tu=kt("removeUpload"),ji=kt("runUpload");z$=Symbol.for("uppy test: getPlugins");G$=Symbol.for("uppy test: createUpload");var W$=function(t,e){function r(n){var o=this;w6e(this,r),Object.defineProperty(this,ji,{value:F6e}),Object.defineProperty(this,tu,{value:C6e}),Object.defineProperty(this,mE,{value:x6e}),Object.defineProperty(this,Li,{value:k6e}),Object.defineProperty(this,yE,{value:q6e}),Object.defineProperty(this,jf,{value:I6e}),Object.defineProperty(this,Lf,{value:A6e}),Object.defineProperty(this,Ff,{value:T6e}),Object.defineProperty(this,vE,{value:R6e}),Object.defineProperty(this,Nf,{value:E6e}),Object.defineProperty(this,Nr,{value:P6e}),Object.defineProperty(this,$t,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,En,{writable:!0,value:void 0}),Object.defineProperty(this,Cf,{writable:!0,value:void 0}),Object.defineProperty(this,Fi,{writable:!0,value:(0,H$.default)()}),Object.defineProperty(this,Qa,{writable:!0,value:new Set}),Object.defineProperty(this,Za,{writable:!0,value:new Set}),Object.defineProperty(this,Ni,{writable:!0,value:new Set}),Object.defineProperty(this,Rn,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=U$;var a={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:N$,meta:{},onBeforeFileAdded:i(function(s){return s},"onBeforeFileAdded"),onBeforeUpload:i(function(s){return s},"onBeforeUpload"),store:new My,logger:P$,infoTimeout:5e3};this.opts=ae(ae(ae({},a),n),{},{restrictions:ae(ae({},a.restrictions),n&&n.restrictions)}),n&&n.logger&&n.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):n&&n.debug&&(this.opts.logger=qf),this.log("Using Core v".concat(this.constructor.VERSION)),this.i18nInit(),this.calculateProgress=(0,V$.default)(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:sE(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:ae({},this.opts.meta),info:[],recoveredState:null}),pe(this,En)[En]=new D$(function(){return o.opts},this.i18n),pe(this,Cf)[Cf]=this.store.subscribe(function(u,s,l){o.emit("state-update",u,s,l),o.updateAll(s)}),this.opts.debug&&typeof window!="undefined"&&(window[this.opts.id]=this),pe(this,yE)[yE]()}return i(r,"Uppy"),O6e(r,[{key:"emit",value:i(function(o){for(var a,u=arguments.length,s=new Array(u>1?u-1:0),l=1;l<u;l++)s[l-1]=arguments[l];(a=pe(this,Fi)[Fi]).emit.apply(a,[o].concat(s))},"emit")},{key:"on",value:i(function(o,a){return pe(this,Fi)[Fi].on(o,a),this},"on")},{key:"once",value:i(function(o,a){return pe(this,Fi)[Fi].once(o,a),this},"once")},{key:"off",value:i(function(o,a){return pe(this,Fi)[Fi].off(o,a),this},"off")},{key:"updateAll",value:i(function(o){this.iteratePlugins(function(a){a.update(o)})},"updateAll")},{key:"setState",value:i(function(o){this.store.setState(o)},"setState")},{key:"getState",value:i(function(){return this.store.getState()},"getState")},{key:"setFileState",value:i(function(o,a){if(!this.getState().files[o])throw new Error("Can\u2019t set state for ".concat(o," (the file could have been removed)"));this.setState({files:ae(ae({},this.getState().files),{},eu({},o,ae(ae({},this.getState().files[o]),a)))})},"setFileState")},{key:"i18nInit",value:i(function(){var o=new Ny([this.defaultLocale,this.opts.locale]);this.i18n=o.translate.bind(o),this.i18nArray=o.translateArray.bind(o),this.locale=o.locale},"i18nInit")},{key:"setOptions",value:i(function(o){this.opts=ae(ae(ae({},this.opts),o),{},{restrictions:ae(ae({},this.opts.restrictions),o&&o.restrictions)}),o.meta&&this.setMeta(o.meta),this.i18nInit(),o.locale&&this.iteratePlugins(function(a){a.setOptions()}),this.setState()},"setOptions")},{key:"resetProgress",value:i(function(){var o={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},a=ae({},this.getState().files),u={};Object.keys(a).forEach(function(s){var l=ae({},a[s]);l.progress=ae(ae({},l.progress),o),u[s]=l}),this.setState({files:u,totalProgress:0}),this.emit("reset-progress")},"resetProgress")},{key:"addPreProcessor",value:i(function(o){pe(this,Qa)[Qa].add(o)},"addPreProcessor")},{key:"removePreProcessor",value:i(function(o){return pe(this,Qa)[Qa].delete(o)},"removePreProcessor")},{key:"addPostProcessor",value:i(function(o){pe(this,Ni)[Ni].add(o)},"addPostProcessor")},{key:"removePostProcessor",value:i(function(o){return pe(this,Ni)[Ni].delete(o)},"removePostProcessor")},{key:"addUploader",value:i(function(o){pe(this,Za)[Za].add(o)},"addUploader")},{key:"removeUploader",value:i(function(o){return pe(this,Za)[Za].delete(o)},"removeUploader")},{key:"setMeta",value:i(function(o){var a=ae(ae({},this.getState().meta),o),u=ae({},this.getState().files);Object.keys(u).forEach(function(s){u[s]=ae(ae({},u[s]),{},{meta:ae(ae({},u[s].meta),o)})}),this.log("Adding metadata:"),this.log(o),this.setState({meta:a,files:u})},"setMeta")},{key:"setFileMeta",value:i(function(o,a){var u=ae({},this.getState().files);if(!u[o]){this.log("Was trying to set metadata for a file that has been removed: ",o);return}var s=ae(ae({},u[o].meta),a);u[o]=ae(ae({},u[o]),{},{meta:s}),this.setState({files:u})},"setFileMeta")},{key:"getFile",value:i(function(o){return this.getState().files[o]},"getFile")},{key:"getFiles",value:i(function(){var o=this.getState(),a=o.files;return Object.values(a)},"getFiles")},{key:"getObjectOfFilesPerState",value:i(function(){var o=this.getState(),a=o.files,u=o.totalProgress,s=o.error,l=Object.values(a),f=l.filter(function(A){var k=A.progress;return!k.uploadComplete&&k.uploadStarted}),d=l.filter(function(A){return!A.progress.uploadStarted}),y=l.filter(function(A){return A.progress.uploadStarted||A.progress.preprocess||A.progress.postprocess}),m=l.filter(function(A){return A.progress.uploadStarted}),w=l.filter(function(A){return A.isPaused}),_=l.filter(function(A){return A.progress.uploadComplete}),T=l.filter(function(A){return A.error}),R=f.filter(function(A){return!A.isPaused}),E=l.filter(function(A){return A.progress.preprocess||A.progress.postprocess});return{newFiles:d,startedFiles:y,uploadStartedFiles:m,pausedFiles:w,completeFiles:_,erroredFiles:T,inProgressFiles:f,inProgressNotPausedFiles:R,processingFiles:E,isUploadStarted:m.length>0,isAllComplete:u===100&&_.length===l.length&&E.length===0,isAllErrored:!!s&&T.length===l.length,isAllPaused:f.length!==0&&w.length===f.length,isUploadInProgress:f.length>0,isSomeGhost:l.some(function(A){return A.isGhost})}},"getObjectOfFilesPerState")},{key:"validateRestrictions",value:i(function(o,a){a===void 0&&(a=this.getFiles());try{pe(this,En)[En].validate(o,a)}catch(u){return u}return null},"validateRestrictions")},{key:"checkIfFileAlreadyExists",value:i(function(o){var a=this.getState(),u=a.files;return!!(u[o]&&!u[o].isGhost)},"checkIfFileAlreadyExists")},{key:"addFile",value:i(function(o){pe(this,Ff)[Ff](o);var a=this.getState(),u=a.files,s=pe(this,Lf)[Lf](u,o);return u[s.id]&&u[s.id].isGhost&&(s=ae(ae({},u[s.id]),{},{data:o.data,isGhost:!1}),this.log("Replaced the blob in the restored ghost file: ".concat(s.name,", ").concat(s.id))),this.setState({files:ae(ae({},u),{},eu({},s.id,s))}),this.emit("file-added",s),this.emit("files-added",[s]),this.log("Added file: ".concat(s.name,", ").concat(s.id,", mime type: ").concat(s.type)),pe(this,jf)[jf](),s.id},"addFile")},{key:"addFiles",value:i(function(o){var a=this;pe(this,Ff)[Ff]();for(var u=ae({},this.getState().files),s=[],l=[],f=0;f<o.length;f++)try{var d=pe(this,Lf)[Lf](u,o[f]);u[d.id]&&u[d.id].isGhost&&(d=ae(ae({},u[d.id]),{},{data:o[f].data,isGhost:!1}),this.log("Replaced blob in a ghost file: ".concat(d.name,", ").concat(d.id))),u[d.id]=d,s.push(d)}catch(w){w.isRestriction||l.push(w)}if(this.setState({files:u}),s.forEach(function(w){a.emit("file-added",w)}),this.emit("files-added",s),s.length>5?this.log("Added batch of ".concat(s.length," files")):Object.keys(s).forEach(function(w){a.log("Added file: ".concat(s[w].name,"\n id: ").concat(s[w].id,"\n type: ").concat(s[w].type))}),s.length>0&&pe(this,jf)[jf](),l.length>0){var y="Multiple errors occurred while adding files:\n";if(l.forEach(function(w){y+="\n * ".concat(w.message)}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:l.length}),details:y},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(l,y);var m=new Error(y);throw m.errors=l,m}},"addFiles")},{key:"removeFiles",value:i(function(o,a){var u=this,s=this.getState(),l=s.files,f=s.currentUploads,d=ae({},l),y=ae({},f),m=Object.create(null);o.forEach(function(R){l[R]&&(m[R]=l[R],delete d[R])});function w(R){return m[R]===void 0}i(w,"fileIsNotRemoved"),Object.keys(y).forEach(function(R){var E=f[R].fileIDs.filter(w);if(E.length===0){delete y[R];return}var A=u.getState(),k=A.capabilities;if(E.length!==f[R].fileIDs.length&&!k.individualCancellation)throw new Error("individualCancellation is disabled");y[R]=ae(ae({},f[R]),{},{fileIDs:E})});var _={currentUploads:y,files:d};Object.keys(d).length===0&&(_.allowNewUpload=!0,_.error=null,_.recoveredState=null),this.setState(_),this.calculateTotalProgress();var T=Object.keys(m);T.forEach(function(R){u.emit("file-removed",m[R],a)}),T.length>5?this.log("Removed ".concat(T.length," files")):this.log("Removed files: ".concat(T.join(", ")))},"removeFiles")},{key:"removeFile",value:i(function(o,a){a===void 0&&(a=null),this.removeFiles([o],a)},"removeFile")},{key:"pauseResume",value:i(function(o){if(!(!this.getState().capabilities.resumableUploads||this.getFile(o).uploadComplete)){var a=this.getFile(o).isPaused||!1,u=!a;return this.setFileState(o,{isPaused:u}),this.emit("upload-pause",o,u),u}},"pauseResume")},{key:"pauseAll",value:i(function(){var o=ae({},this.getState().files),a=Object.keys(o).filter(function(u){return!o[u].progress.uploadComplete&&o[u].progress.uploadStarted});a.forEach(function(u){var s=ae(ae({},o[u]),{},{isPaused:!0});o[u]=s}),this.setState({files:o}),this.emit("pause-all")},"pauseAll")},{key:"resumeAll",value:i(function(){var o=ae({},this.getState().files),a=Object.keys(o).filter(function(u){return!o[u].progress.uploadComplete&&o[u].progress.uploadStarted});a.forEach(function(u){var s=ae(ae({},o[u]),{},{isPaused:!1,error:null});o[u]=s}),this.setState({files:o}),this.emit("resume-all")},"resumeAll")},{key:"retryAll",value:i(function(){var o=ae({},this.getState().files),a=Object.keys(o).filter(function(s){return o[s].error});if(a.forEach(function(s){var l=ae(ae({},o[s]),{},{isPaused:!1,error:null});o[s]=l}),this.setState({files:o,error:null}),this.emit("retry-all",a),a.length===0)return Promise.resolve({successful:[],failed:[]});var u=pe(this,Li)[Li](a,{forceAllowNewUpload:!0});return pe(this,ji)[ji](u)},"retryAll")},{key:"cancelAll",value:i(function(o){var a=o===void 0?{}:o,u=a.reason,s=u===void 0?"user":u;if(this.emit("cancel-all",{reason:s}),s==="user"){var l=this.getState(),f=l.files,d=Object.keys(f);d.length&&this.removeFiles(d,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}},"cancelAll")},{key:"retryUpload",value:i(function(o){this.setFileState(o,{error:null,isPaused:!1}),this.emit("upload-retry",o);var a=pe(this,Li)[Li]([o],{forceAllowNewUpload:!0});return pe(this,ji)[ji](a)},"retryUpload")},{key:"logout",value:i(function(){this.iteratePlugins(function(o){o.provider&&o.provider.logout&&o.provider.logout()})},"logout")},{key:"calculateProgress",value:i(function(o,a){if(o==null||!this.getFile(o.id)){this.log("Not setting progress for a file that has been removed: ".concat(o==null?void 0:o.id));return}var u=Number.isFinite(a.bytesTotal)&&a.bytesTotal>0;this.setFileState(o.id,{progress:ae(ae({},this.getFile(o.id).progress),{},{bytesUploaded:a.bytesUploaded,bytesTotal:a.bytesTotal,percentage:u?Math.round(a.bytesUploaded/a.bytesTotal*100):0})}),this.calculateTotalProgress()},"calculateProgress")},{key:"calculateTotalProgress",value:i(function(){var o=this.getFiles(),a=o.filter(function(T){return T.progress.uploadStarted||T.progress.preprocess||T.progress.postprocess});if(a.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}var u=a.filter(function(T){return T.progress.bytesTotal!=null}),s=a.filter(function(T){return T.progress.bytesTotal==null});if(u.length===0){var l=a.length*100,f=s.reduce(function(T,R){return T+R.progress.percentage},0),d=Math.round(f/l*100);this.setState({totalProgress:d});return}var y=u.reduce(function(T,R){return T+R.progress.bytesTotal},0),m=y/u.length;y+=m*s.length;var w=0;u.forEach(function(T){w+=T.progress.bytesUploaded}),s.forEach(function(T){w+=m*(T.progress.percentage||0)/100});var _=y===0?0:Math.round(w/y*100);_>100&&(_=100),this.setState({totalProgress:_}),this.emit("progress",_)},"calculateTotalProgress")},{key:"updateOnlineStatus",value:i(function(){var o=typeof window.navigator.onLine!="undefined"?window.navigator.onLine:!0;o?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)},"updateOnlineStatus")},{key:"getID",value:i(function(){return this.opts.id},"getID")},{key:"use",value:i(function(o,a){if(typeof o!="function"){var u="Expected a plugin class, but got ".concat(o===null?"null":Wo(o),".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(u)}var s=new o(this,a),l=s.id;if(!l)throw new Error("Your plugin must have an id");if(!s.type)throw new Error("Your plugin must have a type");var f=this.getPlugin(l);if(f){var d="Already found a plugin named '".concat(f.id,"'. ")+"Tried to use: '".concat(l,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(d)}return o.VERSION&&this.log("Using ".concat(l," v").concat(o.VERSION)),s.type in pe(this,$t)[$t]?pe(this,$t)[$t][s.type].push(s):pe(this,$t)[$t][s.type]=[s],s.install(),this},"use")},{key:"getPlugin",value:i(function(o){for(var a=0,u=Object.values(pe(this,$t)[$t]);a<u.length;a++){var s=u[a],l=s.find(function(f){return f.id===o});if(l!=null)return l}},"getPlugin")},{key:t,value:i(function(o){return pe(this,$t)[$t][o]},"value")},{key:"iteratePlugins",value:i(function(o){Object.values(pe(this,$t)[$t]).flat(1).forEach(o)},"iteratePlugins")},{key:"removePlugin",value:i(function(o){this.log("Removing plugin ".concat(o.id)),this.emit("plugin-remove",o),o.uninstall&&o.uninstall();var a=pe(this,$t)[$t][o.type],u=a.findIndex(function(f){return f.id===o.id});u!==-1&&a.splice(u,1);var s=this.getState(),l={plugins:ae(ae({},s.plugins),{},eu({},o.id,void 0))};this.setState(l)},"removePlugin")},{key:"close",value:i(function(o){var a=this,u=o===void 0?{}:o,s=u.reason;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.cancelAll({reason:s}),pe(this,Cf)[Cf](),this.iteratePlugins(function(l){a.removePlugin(l)}),typeof window!="undefined"&&window.removeEventListener&&(window.removeEventListener("online",pe(this,Rn)[Rn]),window.removeEventListener("offline",pe(this,Rn)[Rn]))},"close")},{key:"hideInfo",value:i(function(){var o=this.getState(),a=o.info;this.setState({info:a.slice(1)}),this.emit("info-hidden")},"hideInfo")},{key:"info",value:i(function(o,a,u){var s=this;a===void 0&&(a="info"),u===void 0&&(u=3e3);var l=Wo(o)==="object";this.setState({info:[].concat(Gy(this.getState().info),[{type:a,message:l?o.message:o,details:l?o.details:null}])}),setTimeout(function(){return s.hideInfo()},u),this.emit("info-visible")},"info")},{key:"log",value:i(function(o,a){var u=this.opts.logger;switch(a){case"error":u.error(o);break;case"warning":u.warn(o);break;default:u.debug(o);break}},"log")},{key:"restore",value:i(function(o){return this.log('Core: attempting to restore upload "'.concat(o,'"')),this.getState().currentUploads[o]?pe(this,ji)[ji](o):(pe(this,tu)[tu](o),Promise.reject(new Error("Nonexistent upload")))},"restore")},{key:e,value:i(function(){var o;return(o=pe(this,Li))[Li].apply(o,arguments)},"value")},{key:"addResultData",value:i(function(o,a){if(!pe(this,mE)[mE](o)){this.log("Not setting result for an upload that has been removed: ".concat(o));return}var u=this.getState(),s=u.currentUploads,l=ae(ae({},s[o]),{},{result:ae(ae({},s[o].result),a)});this.setState({currentUploads:ae(ae({},s),{},eu({},o,l))})},"addResultData")},{key:"upload",value:i(function(){var o=this,a;(a=pe(this,$t)[$t].uploader)!=null&&a.length||this.log("No uploader type plugins are used","warning");var u=this.getState(),s=u.files,l=this.opts.onBeforeUpload(s);return l===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(l&&Wo(l)==="object"&&(s=l,this.setState({files:s})),Promise.resolve().then(function(){return pe(o,En)[En].validateMinNumberOfFiles(s)}).catch(function(f){throw pe(o,Nr)[Nr](f),f}).then(function(){if(!pe(o,vE)[vE](s))throw new on(o.i18n("missingRequiredMetaField"))}).catch(function(f){throw f}).then(function(){var f=o.getState(),d=f.currentUploads,y=Object.values(d).flatMap(function(_){return _.fileIDs}),m=[];Object.keys(s).forEach(function(_){var T=o.getFile(_);!T.progress.uploadStarted&&y.indexOf(_)===-1&&m.push(T.id)});var w=pe(o,Li)[Li](m);return pe(o,ji)[ji](w)}).catch(function(f){throw o.emit("error",f),o.log(f,"error"),f}))},"upload")}]),r}(z$,G$);function P6e(t,e){var r=t.message,n=t.details,o=n===void 0?"":n;t.isRestriction?this.emit("restriction-failed",e,t):this.emit("error",t),this.info({message:r,details:o},"error",this.opts.infoTimeout),this.log("".concat(r," ").concat(o).trim(),"error")}i(P6e,"_informAndEmit2");function E6e(t){var e=pe(this,En)[En].getMissingRequiredMetaFields(t),r=e.missingFields,n=e.error;return r.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:r}),this.log(n.message),this.emit("restriction-failed",t,n),!1):!0}i(E6e,"_checkRequiredMetaFieldsOnFile2");function R6e(t){for(var e=!0,r=0,n=Object.values(t);r<n.length;r++){var o=n[r];pe(this,Nf)[Nf](o)||(e=!1)}return e}i(R6e,"_checkRequiredMetaFields2");function T6e(t){var e=this.getState(),r=e.allowNewUpload;if(r===!1){var n=new on(this.i18n("noMoreFilesAllowed"));throw pe(this,Nr)[Nr](n,t),n}}i(T6e,"_assertNewUploadAllowed2");function A6e(t,e){var r=Af(e),n=lE(r,e),o=Ci(n).extension,a=Boolean(e.isRemote),u=If(ae(ae({},e),{},{type:r}));if(this.checkIfFileAlreadyExists(u)){var s=new on(this.i18n("noDuplicates",{fileName:n}));throw pe(this,Nr)[Nr](s,e),s}var l=e.meta||{};l.name=n,l.type=r;var f=Number.isFinite(e.data.size)?e.data.size:null,d={source:e.source||"",id:u,name:n,extension:o||"",meta:ae(ae({},this.getState().meta),l),type:r,data:e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:f,uploadComplete:!1,uploadStarted:null},size:f,isRemote:a,remote:e.remote||"",preview:e.preview},y=this.opts.onBeforeFileAdded(d,t);if(y===!1){var m=new on("Cannot add the file because onBeforeFileAdded returned false.");throw this.emit("restriction-failed",e,m),m}else Wo(y)==="object"&&y!==null&&(d=y);try{var w=Object.keys(t).map(function(_){return t[_]});pe(this,En)[En].validate(d,w)}catch(_){throw pe(this,Nr)[Nr](_,d),_}return d}i(A6e,"_checkAndCreateFileStateObject2");function I6e(){var t=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){t.scheduledAutoProceed=null,t.upload().catch(function(e){e.isRestriction||t.log(e.stack||e.message||e)})},4))}i(I6e,"_startIfAutoProceed2");function q6e(){var t=this,e=i(function(n,o,a){var u=n.message||"Unknown error";n.details&&(u+=" ".concat(n.details)),t.setState({error:u}),o!=null&&o.id in t.getState().files&&t.setFileState(o.id,{error:u,response:a})},"errorHandler");this.on("error",e),this.on("upload-error",function(r,n,o){if(e(n,r,o),Wo(n)==="object"&&n.message){var a=new Error(n.message);a.details=n.message,n.details&&(a.details+=" ".concat(n.details)),a.message=t.i18n("failedToUpload",{file:r==null?void 0:r.name}),pe(t,Nr)[Nr](a)}else pe(t,Nr)[Nr](n)}),this.on("upload",function(){t.setState({error:null})}),this.on("upload-started",function(r){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}t.setFileState(r.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:r.size}})}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",function(r,n){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var o=t.getFile(r.id).progress;t.setFileState(r.id,{progress:ae(ae({},o),{},{postprocess:pe(t,Ni)[Ni].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),r.size==null&&t.setFileState(r.id,{size:n.bytesUploaded||o.bytesTotal}),t.calculateTotalProgress()}),this.on("preprocess-progress",function(r,n){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}t.setFileState(r.id,{progress:ae(ae({},t.getFile(r.id).progress),{},{preprocess:n})})}),this.on("preprocess-complete",function(r){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var n=ae({},t.getState().files);n[r.id]=ae(ae({},n[r.id]),{},{progress:ae({},n[r.id].progress)}),delete n[r.id].progress.preprocess,t.setState({files:n})}),this.on("postprocess-progress",function(r,n){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}t.setFileState(r.id,{progress:ae(ae({},t.getState().files[r.id].progress),{},{postprocess:n})})}),this.on("postprocess-complete",function(r){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var n=ae({},t.getState().files);n[r.id]=ae(ae({},n[r.id]),{},{progress:ae({},n[r.id].progress)}),delete n[r.id].progress.postprocess,t.setState({files:n})}),this.on("restored",function(){t.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",function(r){r&&pe(t,Nf)[Nf](r)}),typeof window!="undefined"&&window.addEventListener&&(window.addEventListener("online",pe(this,Rn)[Rn]),window.addEventListener("offline",pe(this,Rn)[Rn]),setTimeout(pe(this,Rn)[Rn],3e3))}i(q6e,"_addListeners2");function k6e(t,e){e===void 0&&(e={});var r=e,n=r.forceAllowNewUpload,o=n===void 0?!1:n,a=this.getState(),u=a.allowNewUpload,s=a.currentUploads;if(!u&&!o)throw new Error("Cannot create a new upload: already uploading.");var l=nn();return this.emit("upload",{id:l,fileIDs:t}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:ae(ae({},s),{},eu({},l,{fileIDs:t,step:0,result:{}}))}),l}i(k6e,"_createUpload2");function x6e(t){var e=this.getState(),r=e.currentUploads;return r[t]}i(x6e,"_getUpload2");function C6e(t){var e=ae({},this.getState().currentUploads);delete e[t],this.setState({currentUploads:e})}i(C6e,"_removeUpload2");function F6e(t){return wE.apply(this,arguments)}i(F6e,"_runUpload2");function wE(){return wE=v6e(gE().mark(i(function t(e){var r=this,n,o,a,u,s,l,f,d,y,m,w,_;return gE().wrap(i(function(R){for(;;)switch(R.prev=R.next){case 0:n=this.getState(),o=n.currentUploads,a=o[e],u=a.step||0,s=[].concat(Gy(pe(this,Qa)[Qa]),Gy(pe(this,Za)[Za]),Gy(pe(this,Ni)[Ni])),R.prev=4,l=u;case 6:if(!(l<s.length)){R.next=19;break}if(a){R.next=9;break}return R.abrupt("break",19);case 9:return f=s[l],d=ae(ae({},a),{},{step:l}),this.setState({currentUploads:ae(ae({},o),{},eu({},e,d))}),R.next=14,f(d.fileIDs,e);case 14:o=this.getState().currentUploads,a=o[e];case 16:l++,R.next=6;break;case 19:R.next=25;break;case 21:throw R.prev=21,R.t0=R.catch(4),pe(this,tu)[tu](e),R.t0;case 25:if(!a){R.next=34;break}return a.fileIDs.forEach(function(E){var A=r.getFile(E);A&&A.progress.postprocess&&r.emit("postprocess-complete",A)}),y=a.fileIDs.map(function(E){return r.getFile(E)}),m=y.filter(function(E){return!E.error}),w=y.filter(function(E){return E.error}),R.next=32,this.addResultData(e,{successful:m,failed:w,uploadID:e});case 32:o=this.getState().currentUploads,a=o[e];case 34:return a&&(_=a.result,this.emit("complete",_),pe(this,tu)[tu](e)),_==null&&this.log("Not setting result for an upload that has been removed: ".concat(e)),R.abrupt("return",_);case 37:case"end":return R.stop()}},"_callee$"),t,this,[[4,21]])},"_callee"))),wE.apply(this,arguments)}i(wE,"_runUpload3");W$.VERSION=_6e.version;var Hy=W$;var Mf,Ee,Z$,L6e,Df,K$,j6e,Vy={},ez=[],N6e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Di(t,e){for(var r in e)t[r]=e[r];return t}i(Di,"s");function tz(t){var e=t.parentNode;e&&e.removeChild(t)}i(tz,"a");function O(t,e,r){var n,o,a,u={};for(a in e)a=="key"?n=e[a]:a=="ref"?o=e[a]:u[a]=e[a];if(arguments.length>2&&(u.children=arguments.length>3?Mf.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)u[a]===void 0&&(u[a]=t.defaultProps[a]);return Uf(t,u,n,o,null)}i(O,"h");function Uf(t,e,r,n,o){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o==null?++Z$:o};return o==null&&Ee.vnode!=null&&Ee.vnode(a),a}i(Uf,"v");function rz(){return{current:null}}i(rz,"y");function ri(t){return t.children}i(ri,"p");function Be(t,e){this.props=t,this.context=e}i(Be,"d");function Js(t,e){if(e==null)return t.__?Js(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Js(t):null}i(Js,"_");function nz(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return nz(t)}}i(nz,"k");function Y$(t){(!t.__d&&(t.__d=!0)&&Df.push(t)&&!Wy.__r++||K$!==Ee.debounceRendering)&&((K$=Ee.debounceRendering)||setTimeout)(Wy)}i(Y$,"b");function Wy(){for(var t;Wy.__r=Df.length;)t=Df.sort(function(e,r){return e.__v.__b-r.__v.__b}),Df=[],t.some(function(e){var r,n,o,a,u,s;e.__d&&(u=(a=(r=e).__v).__e,(s=r.__P)&&(n=[],(o=Di({},a)).__v=a.__v+1,OE(s,a,o,r.__n,s.ownerSVGElement!==void 0,a.__h!=null?[u]:null,n,u==null?Js(a):u,a.__h),uz(n,a),a.__e!=u&&nz(a)))})}i(Wy,"g");function iz(t,e,r,n,o,a,u,s,l,f){var d,y,m,w,_,T,R,E=n&&n.__k||ez,A=E.length;for(r.__k=[],d=0;d<e.length;d++)if((w=r.__k[d]=(w=e[d])==null||typeof w=="boolean"?null:typeof w=="string"||typeof w=="number"||typeof w=="bigint"?Uf(null,w,null,null,w):Array.isArray(w)?Uf(ri,{children:w},null,null,null):w.__b>0?Uf(w.type,w.props,w.key,null,w.__v):w)!=null){if(w.__=r,w.__b=r.__b+1,(m=E[d])===null||m&&w.key==m.key&&w.type===m.type)E[d]=void 0;else for(y=0;y<A;y++){if((m=E[y])&&w.key==m.key&&w.type===m.type){E[y]=void 0;break}m=null}OE(t,w,m=m||Vy,o,a,u,s,l,f),_=w.__e,(y=w.ref)&&m.ref!=y&&(R||(R=[]),m.ref&&R.push(m.ref,null,w),R.push(y,w.__c||_,w)),_!=null?(T==null&&(T=_),typeof w.type=="function"&&w.__k===m.__k?w.__d=l=oz(w,l,t):l=az(t,w,m,E,_,l),typeof r.type=="function"&&(r.__d=l)):l&&m.__e==l&&l.parentNode!=t&&(l=Js(m))}for(r.__e=T,d=A;d--;)E[d]!=null&&(typeof r.type=="function"&&E[d].__e!=null&&E[d].__e==r.__d&&(r.__d=Js(n,d+1)),lz(E[d],E[d]));if(R)for(d=0;d<R.length;d++)sz(R[d],R[++d],R[++d])}i(iz,"w");function oz(t,e,r){for(var n,o=t.__k,a=0;o&&a<o.length;a++)(n=o[a])&&(n.__=t,e=typeof n.type=="function"?oz(n,e,r):az(r,n,n,o,n.__e,e));return e}i(oz,"m");function an(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){an(r,e)}):e.push(t)),e}i(an,"x");function az(t,e,r,n,o,a){var u,s,l;if(e.__d!==void 0)u=e.__d,e.__d=void 0;else if(r==null||o!=a||o.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(o),u=null;else{for(s=a,l=0;(s=s.nextSibling)&&l<n.length;l+=2)if(s==o)break e;t.insertBefore(o,a),u=a}return u!==void 0?u:o.nextSibling}i(az,"A");function D6e(t,e,r,n,o){var a;for(a in r)a==="children"||a==="key"||a in e||Ky(t,a,null,r[a],n);for(a in e)o&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||r[a]===e[a]||Ky(t,a,e[a],r[a],n)}i(D6e,"C");function X$(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||N6e.test(e)?r:r+"px"}i(X$,"$");function Ky(t,e,r,n,o){var a;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||X$(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||X$(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n||t.addEventListener(e,a?Q$:J$,a):t.removeEventListener(e,a?Q$:J$,a);else if(e!=="dangerouslySetInnerHTML"){if(o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r==null?"":r;break e}catch(u){}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}i(Ky,"H");function J$(t){this.l[t.type+!1](Ee.event?Ee.event(t):t)}i(J$,"I");function Q$(t){this.l[t.type+!0](Ee.event?Ee.event(t):t)}i(Q$,"T");function OE(t,e,r,n,o,a,u,s,l){var f,d,y,m,w,_,T,R,E,A,k,U,G,M=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(l=r.__h,s=e.__e=r.__e,e.__h=null,a=[s]),(f=Ee.__b)&&f(e);try{e:if(typeof M=="function"){if(R=e.props,E=(f=M.contextType)&&n[f.__c],A=f?E?E.props.value:f.__:n,r.__c?T=(d=e.__c=r.__c).__=d.__E:("prototype"in M&&M.prototype.render?e.__c=d=new M(R,A):(e.__c=d=new Be(R,A),d.constructor=M,d.render=M6e),E&&E.sub(d),d.props=R,d.state||(d.state={}),d.context=A,d.__n=n,y=d.__d=!0,d.__h=[]),d.__s==null&&(d.__s=d.state),M.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Di({},d.__s)),Di(d.__s,M.getDerivedStateFromProps(R,d.__s))),m=d.props,w=d.state,y)M.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(M.getDerivedStateFromProps==null&&R!==m&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(R,A),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(R,d.__s,A)===!1||e.__v===r.__v){d.props=R,d.state=d.__s,e.__v!==r.__v&&(d.__d=!1),d.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(z){z&&(z.__=e)}),d.__h.length&&u.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(R,d.__s,A),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(m,w,_)})}if(d.context=A,d.props=R,d.__v=e,d.__P=t,k=Ee.__r,U=0,"prototype"in M&&M.prototype.render)d.state=d.__s,d.__d=!1,k&&k(e),f=d.render(d.props,d.state,d.context);else do d.__d=!1,k&&k(e),f=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++U<25);d.state=d.__s,d.getChildContext!=null&&(n=Di(Di({},n),d.getChildContext())),y||d.getSnapshotBeforeUpdate==null||(_=d.getSnapshotBeforeUpdate(m,w)),G=f!=null&&f.type===ri&&f.key==null?f.props.children:f,iz(t,Array.isArray(G)?G:[G],e,r,n,o,a,u,s,l),d.base=e.__e,e.__h=null,d.__h.length&&u.push(d),T&&(d.__E=d.__=null),d.__e=!1}else a==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=U6e(r.__e,e,r,n,o,a,u,l);(f=Ee.diffed)&&f(e)}catch(z){e.__v=null,(l||a!=null)&&(e.__e=s,e.__h=!!l,a[a.indexOf(s)]=null),Ee.__e(z,e,r)}}i(OE,"j");function uz(t,e){Ee.__c&&Ee.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){Ee.__e(n,r.__v)}})}i(uz,"z");function U6e(t,e,r,n,o,a,u,s){var l,f,d,y=r.props,m=e.props,w=e.type,_=0;if(w==="svg"&&(o=!0),a!=null){for(;_<a.length;_++)if((l=a[_])&&"setAttribute"in l==!!w&&(w?l.localName===w:l.nodeType===3)){t=l,a[_]=null;break}}if(t==null){if(w===null)return document.createTextNode(m);t=o?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,m.is&&m),a=null,s=!1}if(w===null)y===m||s&&t.data===m||(t.data=m);else{if(a=a&&Mf.call(t.childNodes),f=(y=r.props||Vy).dangerouslySetInnerHTML,d=m.dangerouslySetInnerHTML,!s){if(a!=null)for(y={},_=0;_<t.attributes.length;_++)y[t.attributes[_].name]=t.attributes[_].value;(d||f)&&(d&&(f&&d.__html==f.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(D6e(t,m,y,o,s),d)e.__k=[];else if(_=e.props.children,iz(t,Array.isArray(_)?_:[_],e,r,n,o&&w!=="foreignObject",a,u,a?a[0]:r.__k&&Js(r,0),s),a!=null)for(_=a.length;_--;)a[_]!=null&&tz(a[_]);s||("value"in m&&(_=m.value)!==void 0&&(_!==t.value||w==="progress"&&!_||w==="option"&&_!==y.value)&&Ky(t,"value",_,y.value,!1),"checked"in m&&(_=m.checked)!==void 0&&_!==t.checked&&Ky(t,"checked",_,y.checked,!1))}return t}i(U6e,"L");function sz(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){Ee.__e(n,r)}}i(sz,"M");function lz(t,e,r){var n,o;if(Ee.unmount&&Ee.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||sz(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){Ee.__e(a,e)}n.base=n.__P=null}if(n=t.__k)for(o=0;o<n.length;o++)n[o]&&lz(n[o],e,typeof t.type!="function");r||t.__e==null||tz(t.__e),t.__e=t.__d=void 0}i(lz,"N");function M6e(t,e,r){return this.constructor(t,r)}i(M6e,"O");function SE(t,e,r){var n,o,a;Ee.__&&Ee.__(t,e),o=(n=typeof r=="function")?null:r&&r.__k||e.__k,a=[],OE(e,t=(!n&&r||e).__k=O(ri,null,[t]),o||Vy,Vy,e.ownerSVGElement!==void 0,!n&&r?[r]:o?null:e.firstChild?Mf.call(e.childNodes):null,a,!n&&r?r:o?o.__e:e.firstChild,n),uz(a,t)}i(SE,"P");function Yy(t,e,r){var n,o,a,u=Di({},t.props);for(a in e)a=="key"?n=e[a]:a=="ref"?o=e[a]:u[a]=e[a];return arguments.length>2&&(u.children=arguments.length>3?Mf.call(arguments,2):r),Uf(t.type,u,n||t.key,o||t.ref,null)}i(Yy,"q");Mf=ez.slice,Ee={__e:i(function(e,r,n,o){for(var a,u,s;r=r.__;)if((a=r.__c)&&!a.__)try{if((u=a.constructor)&&u.getDerivedStateFromError!=null&&(a.setState(u.getDerivedStateFromError(e)),s=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(e,o||{}),s=a.__d),s)return a.__E=a}catch(l){e=l}throw e},"__e")},Z$=0,L6e=i(function(e){return e!=null&&e.constructor===void 0},"i"),Be.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Di({},this.state),typeof t=="function"&&(t=t(Di({},r),this.props)),t&&Di(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),Y$(this))},Be.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Y$(this))},Be.prototype.render=ri,Df=[],Wy.__r=0,j6e=0;function Bf(t){return(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE}i(Bf,"isDOMElement");function $f(t,e){return e===void 0&&(e=document),typeof t=="string"?e.querySelector(t):Bf(t)?t:null}i($f,"findDOMElement");function B6e(t){for(var e;t&&!t.dir;)t=t.parentNode;return(e=t)==null?void 0:e.dir}i(B6e,"getTextDirection");var Xy=B6e;function cz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(cz,"ownKeys");function Qs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cz(Object(r),!0).forEach(function(n){pz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Qs,"_objectSpread");function pz(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(pz,"_defineProperty");function $6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i($6e,"_classCallCheck");function fz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(fz,"_defineProperties");function z6e(t,e,r){return e&&fz(t.prototype,e),r&&fz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(z6e,"_createClass");var st=function(){function t(e,r){$6e(this,t),r===void 0&&(r={}),this.uppy=e,this.opts=r}return i(t,"BasePlugin"),z6e(t,[{key:"getPluginState",value:i(function(){var r=this.uppy.getState(),n=r.plugins;return n[this.id]||{}},"getPluginState")},{key:"setPluginState",value:i(function(r){var n=this.uppy.getState(),o=n.plugins;this.uppy.setState({plugins:Qs(Qs({},o),{},pz({},this.id,Qs(Qs({},o[this.id]),r)))})},"setPluginState")},{key:"setOptions",value:i(function(r){this.opts=Qs(Qs({},this.opts),r),this.setPluginState(),this.i18nInit()},"setOptions")},{key:"i18nInit",value:i(function(){var r=new Ny([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.setPluginState()},"i18nInit")},{key:"addTarget",value:i(function(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")},"addTarget")},{key:"install",value:i(function(){},"install")},{key:"uninstall",value:i(function(){},"uninstall")},{key:"render",value:i(function(){throw new Error("Extend the render method to add your plugin to a DOM element")},"render")},{key:"update",value:i(function(){},"update")},{key:"afterUpdate",value:i(function(){},"afterUpdate")}]),t}();function Jy(t){return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}i(Jy,"_typeof");function G6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(G6e,"_classCallCheck");function dz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(dz,"_defineProperties");function H6e(t,e,r){return e&&dz(t.prototype,e),r&&dz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(H6e,"_createClass");function V6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_E(t,e)}i(V6e,"_inherits");function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),_E(t,e)}i(_E,"_setPrototypeOf");function W6e(t){var e=Y6e();return i(function(){var n=Qy(t),o;if(e){var a=Qy(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return K6e(this,o)},"_createSuperInternal")}i(W6e,"_createSuper");function K6e(t,e){if(e&&(Jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vz(t)}i(K6e,"_possibleConstructorReturn");function vz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(vz,"_assertThisInitialized");function Y6e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Y6e,"_isNativeReflectConstruct");function Qy(t){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Qy(t)}i(Qy,"_getPrototypeOf");function X6e(t){return e7e(t)||Z6e(t)||Q6e(t)||J6e()}i(X6e,"_toConsumableArray");function J6e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(J6e,"_nonIterableSpread");function Q6e(t,e){if(!!t){if(typeof t=="string")return PE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PE(t,e)}}i(Q6e,"_unsupportedIterableToArray");function Z6e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(Z6e,"_iterableToArray");function e7e(t){if(Array.isArray(t))return PE(t)}i(e7e,"_arrayWithoutHoles");function PE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(PE,"_arrayLikeToArray");function hz(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(hz,"_classPrivateFieldLooseBase");var t7e=0;function r7e(t){return"__private_"+t7e+++"_"+t}i(r7e,"_classPrivateFieldLooseKey");function n7e(t){var e=null,r=null;return function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=o,e||(e=Promise.resolve().then(function(){return e=null,t.apply(void 0,X6e(r))})),e}}i(n7e,"debounce");var zf=r7e("updateUI"),i7e=function(t){V6e(r,t);var e=W6e(r);function r(){var n;return G6e(this,r),n=e.apply(this,arguments),Object.defineProperty(vz(n),zf,{writable:!0,value:void 0}),n}return i(r,"UIPlugin"),H6e(r,[{key:"mount",value:i(function(o,a){var u=this,s=a.id,l=$f(o);if(l){this.isTargetDOMEl=!0;var f=document.createElement("div");return f.classList.add("uppy-Root"),hz(this,zf)[zf]=n7e(function(w){!u.uppy.getPlugin(u.id)||(SE(u.render(w),f),u.afterUpdate())}),this.uppy.log("Installing ".concat(s," to a DOM element '").concat(o,"'")),this.opts.replaceTargetContent&&(l.innerHTML=""),SE(this.render(this.uppy.getState()),f),this.el=f,l.appendChild(f),f.dir=this.opts.direction||Xy(f)||"ltr",this.onMount(),this.el}var d;if(Jy(o)==="object"&&o instanceof r)d=o;else if(typeof o=="function"){var y=o;this.uppy.iteratePlugins(function(w){w instanceof y&&(d=w)})}if(d)return this.uppy.log("Installing ".concat(s," to ").concat(d.id)),this.parent=d,this.el=d.addTarget(a),this.onMount(),this.el;this.uppy.log("Not installing ".concat(s));var m="Invalid target option given to ".concat(s,".");throw typeof o=="function"?m+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":m+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(m)},"mount")},{key:"update",value:i(function(o){if(this.el!=null){var a,u;(a=(u=hz(this,zf))[zf])==null||a.call(u,o)}},"update")},{key:"unmount",value:i(function(){if(this.isTargetDOMEl){var o;(o=this.el)==null||o.remove()}this.onUnmount()},"unmount")},{key:"onMount",value:i(function(){},"onMount")},{key:"onUnmount",value:i(function(){},"onUnmount")}]),r}(st),Se=i7e;var ME={};Dl(ME,{Provider:function(){return Me},RequestClient:function(){return pt},SearchProvider:function(){return um},Socket:function(){return ii}});function EE(t){return EE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EE(t)}i(EE,"_typeof");function yz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(yz,"_defineProperties");function o7e(t,e,r){return e&&yz(t.prototype,e),r&&yz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(o7e,"_createClass");function a7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(a7e,"_classCallCheck");function u7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gf(t,e)}i(u7e,"_inherits");function s7e(t){var e=mz();return i(function(){var n=Hf(t),o;if(e){var a=Hf(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return l7e(this,o)},"_createSuperInternal")}i(s7e,"_createSuper");function l7e(t,e){if(e&&(EE(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c7e(t)}i(l7e,"_possibleConstructorReturn");function c7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(c7e,"_assertThisInitialized");function RE(t){var e=typeof Map=="function"?new Map:void 0;return RE=i(function(n){if(n===null||!f7e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return Zy(n,arguments,Hf(this).constructor)}return i(o,"Wrapper"),o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Gf(o,n)},"_wrapNativeSuper"),RE(t)}i(RE,"_wrapNativeSuper");function Zy(t,e,r){return mz()?Zy=Reflect.construct.bind():Zy=i(function(o,a,u){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(o,s),f=new l;return u&&Gf(f,u.prototype),f},"_construct"),Zy.apply(null,arguments)}i(Zy,"_construct");function mz(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(mz,"_isNativeReflectConstruct");function f7e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(f7e,"_isNativeFunction");function Gf(t,e){return Gf=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),Gf(t,e)}i(Gf,"_setPrototypeOf");function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Hf(t)}i(Hf,"_getPrototypeOf");var p7e=function(t){u7e(r,t);var e=s7e(r);function r(n,o){var a;return a7e(this,r),o===void 0&&(o=null),a=e.call(this,"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),a.cause=n,a.isNetworkError=!0,a.request=o,a}return i(r,"NetworkError"),o7e(r)}(RE(Error)),Tn=p7e;function Ui(){return fetch.apply(void 0,arguments).catch(function(t){throw t.name==="AbortError"?t:new Tn(t)})}i(Ui,"fetchWithNetworkError");function TE(t){return TE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TE(t)}i(TE,"_typeof");function gz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(gz,"_defineProperties");function d7e(t,e,r){return e&&gz(t.prototype,e),r&&gz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(d7e,"_createClass");function h7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(h7e,"_classCallCheck");function v7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vf(t,e)}i(v7e,"_inherits");function y7e(t){var e=bz();return i(function(){var n=Wf(t),o;if(e){var a=Wf(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return m7e(this,o)},"_createSuperInternal")}i(y7e,"_createSuper");function m7e(t,e){if(e&&(TE(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g7e(t)}i(m7e,"_possibleConstructorReturn");function g7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(g7e,"_assertThisInitialized");function AE(t){var e=typeof Map=="function"?new Map:void 0;return AE=i(function(n){if(n===null||!b7e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return em(n,arguments,Wf(this).constructor)}return i(o,"Wrapper"),o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Vf(o,n)},"_wrapNativeSuper"),AE(t)}i(AE,"_wrapNativeSuper");function em(t,e,r){return bz()?em=Reflect.construct.bind():em=i(function(o,a,u){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(o,s),f=new l;return u&&Vf(f,u.prototype),f},"_construct"),em.apply(null,arguments)}i(em,"_construct");function bz(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(bz,"_isNativeReflectConstruct");function b7e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(b7e,"_isNativeFunction");function Vf(t,e){return Vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),Vf(t,e)}i(Vf,"_setPrototypeOf");function Wf(t){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Wf(t)}i(Wf,"_getPrototypeOf");var w7e=function(t){v7e(r,t);var e=y7e(r);function r(n,o){var a;return h7e(this,r),o===void 0&&(o={}),a=e.call(this,n),a.cause=o.cause,a.cause&&jr(a.cause,"isNetworkError")&&(a.isNetworkError=a.cause.isNetworkError),a}return i(r,"ErrorWithCause"),d7e(r)}(AE(Error)),ni=w7e;function IE(t){return IE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IE(t)}i(IE,"_typeof");function wz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(wz,"_defineProperties");function O7e(t,e,r){return e&&wz(t.prototype,e),r&&wz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(O7e,"_createClass");function S7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(S7e,"_classCallCheck");function _7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kf(t,e)}i(_7e,"_inherits");function P7e(t){var e=Oz();return i(function(){var n=Yf(t),o;if(e){var a=Yf(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return E7e(this,o)},"_createSuperInternal")}i(P7e,"_createSuper");function E7e(t,e){if(e&&(IE(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R7e(t)}i(E7e,"_possibleConstructorReturn");function R7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(R7e,"_assertThisInitialized");function qE(t){var e=typeof Map=="function"?new Map:void 0;return qE=i(function(n){if(n===null||!T7e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return tm(n,arguments,Yf(this).constructor)}return i(o,"Wrapper"),o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Kf(o,n)},"_wrapNativeSuper"),qE(t)}i(qE,"_wrapNativeSuper");function tm(t,e,r){return Oz()?tm=Reflect.construct.bind():tm=i(function(o,a,u){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(o,s),f=new l;return u&&Kf(f,u.prototype),f},"_construct"),tm.apply(null,arguments)}i(tm,"_construct");function Oz(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Oz,"_isNativeReflectConstruct");function T7e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(T7e,"_isNativeFunction");function Kf(t,e){return Kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),Kf(t,e)}i(Kf,"_setPrototypeOf");function Yf(t){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Yf(t)}i(Yf,"_getPrototypeOf");var A7e=function(t){_7e(r,t);var e=P7e(r);function r(){var n;return S7e(this,r),n=e.call(this,"Authorization required"),n.name="AuthError",n.isAuthError=!0,n}return i(r,"AuthError"),O7e(r)}(qE(Error)),Sz=A7e;function xE(t){return xE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xE(t)}i(xE,"_typeof");function CE(){"use strict";CE=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&xE(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(CE,"_regeneratorRuntime");function I7e(t,e){return C7e(t)||x7e(t,e)||k7e(t,e)||q7e()}i(I7e,"_slicedToArray");function q7e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(q7e,"_nonIterableRest");function k7e(t,e){if(!!t){if(typeof t=="string")return _z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _z(t,e)}}i(k7e,"_unsupportedIterableToArray");function _z(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(_z,"_arrayLikeToArray");function x7e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],o=!0,a=!1,u,s;try{for(r=r.call(t);!(o=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));o=!0);}catch(l){a=!0,s=l}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw s}}return n}}i(x7e,"_iterableToArrayLimit");function C7e(t){if(Array.isArray(t))return t}i(C7e,"_arrayWithHoles");function Pz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(Pz,"ownKeys");function rm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pz(Object(r),!0).forEach(function(n){Tz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(rm,"_objectSpread");function Tz(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Tz,"_defineProperty");function F7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(F7e,"_classCallCheck");function Ez(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Ez,"_defineProperties");function L7e(t,e,r){return e&&Ez(t.prototype,e),r&&Ez(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(L7e,"_createClass");function Rz(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(Rz,"asyncGeneratorStep");function j7e(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){Rz(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){Rz(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(j7e,"_asyncToGenerator");var Az;function Pr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Pr,"_classPrivateFieldLooseBase");var N7e=0;function nm(t){return"__private_"+N7e+++"_"+t}i(nm,"_classPrivateFieldLooseKey");var D7e={version:"3.0.0-beta.2"};function U7e(t){return t.replace(/\/$/,"")}i(U7e,"stripSlash");function kE(t){return FE.apply(this,arguments)}i(kE,"handleJSONResponse");function FE(){return FE=j7e(CE().mark(i(function t(e){var r,n,o;return CE().wrap(i(function(u){for(;;)switch(u.prev=u.next){case 0:if(e.status!==401){u.next=2;break}throw new Sz;case 2:if(r=e.json(),!(e.status<200||e.status>300)){u.next=14;break}return n="Failed request with status: ".concat(e.status,". ").concat(e.statusText),u.prev=5,u.next=8,r;case 8:o=u.sent,n=o.message?"".concat(n," message: ").concat(o.message):n,n=o.requestId?"".concat(n," request-Id: ").concat(o.requestId):n;case 11:throw u.prev=11,new Error(n);case 14:return u.abrupt("return",r);case 15:case"end":return u.stop()}},"_callee$"),t,null,[[5,,11,14]])},"_callee"))),FE.apply(this,arguments)}i(FE,"_handleJSONResponse");var Mi=nm("companionHeaders"),ru=nm("getPostResponseFunc"),Bi=nm("getUrl"),nu=nm("errorHandler");Az=Symbol.for("uppy test: getCompanionHeaders");var pt=function(t){function e(r,n){var o=this;F7e(this,e),Object.defineProperty(this,nu,{value:B7e}),Object.defineProperty(this,Bi,{value:M7e}),Object.defineProperty(this,Mi,{writable:!0,value:void 0}),Object.defineProperty(this,ru,{writable:!0,value:i(function(u){return function(s){return u?s:o.onReceiveResponse(s)}},"value")}),this.uppy=r,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1,Pr(this,Mi)[Mi]=n==null?void 0:n.companionHeaders}return i(e,"RequestClient"),L7e(e,[{key:"setCompanionHeaders",value:i(function(n){Pr(this,Mi)[Mi]=n},"setCompanionHeaders")},{key:t,value:i(function(){return Pr(this,Mi)[Mi]},"value")},{key:"hostname",get:i(function(){var n=this.uppy.getState(),o=n.companion,a=this.opts.companionUrl;return U7e(o&&o[a]?o[a]:a)},"get")},{key:"headers",value:i(function(){return Promise.resolve(rm(rm({},e.defaultHeaders),Pr(this,Mi)[Mi]))},"headers")},{key:"onReceiveResponse",value:i(function(n){var o=this.uppy.getState(),a=o.companion||{},u=this.opts.companionUrl,s=n.headers;return s.has("i-am")&&s.get("i-am")!==a[u]&&this.uppy.setState({companion:rm(rm({},a),{},Tz({},u,s.get("i-am")))}),n},"onReceiveResponse")},{key:"preflight",value:i(function(n){var o=this;return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(Pr(this,Bi)[Bi](n),{method:"OPTIONS"}).then(function(a){return a.headers.has("access-control-allow-headers")&&(o.allowedHeaders=a.headers.get("access-control-allow-headers").split(",").map(function(u){return u.trim().toLowerCase()})),o.preflightDone=!0,o.allowedHeaders.slice()}).catch(function(a){return o.uppy.log("[CompanionClient] unable to make preflight request ".concat(a),"warning"),o.preflightDone=!0,o.allowedHeaders.slice()})},"preflight")},{key:"preflightAndHeaders",value:i(function(n){var o=this;return Promise.all([this.preflight(n),this.headers()]).then(function(a){var u=I7e(a,2),s=u[0],l=u[1];return Object.keys(l).forEach(function(f){s.includes(f.toLowerCase())||(o.uppy.log("[CompanionClient] excluding disallowed header ".concat(f)),delete l[f])}),l})},"preflightAndHeaders")},{key:"get",value:i(function(n,o){var a=this,u="get";return this.preflightAndHeaders(n).then(function(s){return Ui(Pr(a,Bi)[Bi](n),{method:u,headers:s,credentials:a.opts.companionCookiesRule||"same-origin"})}).then(Pr(this,ru)[ru](o)).then(kE).catch(Pr(this,nu)[nu](u,n))},"get")},{key:"post",value:i(function(n,o,a){var u=this,s="post";return this.preflightAndHeaders(n).then(function(l){return Ui(Pr(u,Bi)[Bi](n),{method:s,headers:l,credentials:u.opts.companionCookiesRule||"same-origin",body:JSON.stringify(o)})}).then(Pr(this,ru)[ru](a)).then(kE).catch(Pr(this,nu)[nu](s,n))},"post")},{key:"delete",value:i(function(n,o,a){var u=this,s="delete";return this.preflightAndHeaders(n).then(function(l){return Ui("".concat(u.hostname,"/").concat(n),{method:s,headers:l,credentials:u.opts.companionCookiesRule||"same-origin",body:o?JSON.stringify(o):null})}).then(Pr(this,ru)[ru](a)).then(kE).catch(Pr(this,nu)[nu](s,n))},"_delete")}]),e}(Az);function M7e(t){return/^(https?:|)\/\//.test(t)?t:"".concat(this.hostname,"/").concat(t)}i(M7e,"_getUrl2");function B7e(t,e){var r=this;return function(n){var o;return(o=n)!=null&&o.isAuthError||(n=new ni("Could not ".concat(t," ").concat(Pr(r,Bi)[Bi](e)),{cause:n})),Promise.reject(n)}}i(B7e,"_errorHandler2");pt.VERSION=D7e.version;pt.defaultHeaders={Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client=".concat(pt.VERSION)};var LE={};Dl(LE,{getItem:function(){return z7e},removeItem:function(){return G7e},setItem:function(){return $7e}});function $7e(t,e){return new Promise(function(r){localStorage.setItem(t,e),r()})}i($7e,"setItem");function z7e(t){return Promise.resolve(localStorage.getItem(t))}i(z7e,"getItem");function G7e(t){return new Promise(function(e){localStorage.removeItem(t),e()})}i(G7e,"removeItem");function om(t){return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}i(om,"_typeof");function Xf(){"use strict";Xf=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&om(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(Xf,"_regeneratorRuntime");function Iz(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(Iz,"asyncGeneratorStep");function qz(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){Iz(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){Iz(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(qz,"_asyncToGenerator");function kz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(kz,"ownKeys");function im(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kz(Object(r),!0).forEach(function(n){H7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(im,"_objectSpread");function H7e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(H7e,"_defineProperty");function xz(t,e){return Y7e(t)||K7e(t,e)||W7e(t,e)||V7e()}i(xz,"_slicedToArray");function V7e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(V7e,"_nonIterableRest");function W7e(t,e){if(!!t){if(typeof t=="string")return Cz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cz(t,e)}}i(W7e,"_unsupportedIterableToArray");function Cz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(Cz,"_arrayLikeToArray");function K7e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],o=!0,a=!1,u,s;try{for(r=r.call(t);!(o=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));o=!0);}catch(l){a=!0,s=l}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw s}}return n}}i(K7e,"_iterableToArrayLimit");function Y7e(t){if(Array.isArray(t))return t}i(Y7e,"_arrayWithHoles");function X7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(X7e,"_classCallCheck");function Fz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Fz,"_defineProperties");function J7e(t,e,r){return e&&Fz(t.prototype,e),r&&Fz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(J7e,"_createClass");function Jf(){return typeof Reflect!="undefined"&&Reflect.get?Jf=Reflect.get.bind():Jf=i(function(e,r,n){var o=Q7e(e,r);if(!!o){var a=Object.getOwnPropertyDescriptor(o,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},"_get"),Jf.apply(this,arguments)}i(Jf,"_get");function Q7e(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=iu(t),t!==null););return t}i(Q7e,"_superPropBase");function Z7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jE(t,e)}i(Z7e,"_inherits");function jE(t,e){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),jE(t,e)}i(jE,"_setPrototypeOf");function e9e(t){var e=n9e();return i(function(){var n=iu(t),o;if(e){var a=iu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return t9e(this,o)},"_createSuperInternal")}i(e9e,"_createSuper");function t9e(t,e){if(e&&(om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r9e(t)}i(t9e,"_possibleConstructorReturn");function r9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(r9e,"_assertThisInitialized");function n9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(n9e,"_isNativeReflectConstruct");function iu(t){return iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),iu(t)}i(iu,"_getPrototypeOf");var i9e=i(function(e){return e.split("-").map(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).join(" ")},"getName"),Me=function(t){Z7e(r,t);var e=e9e(r);function r(n,o){var a;return X7e(this,r),a=e.call(this,n,o),a.provider=o.provider,a.id=a.provider,a.name=a.opts.name||i9e(a.id),a.pluginId=a.opts.pluginId,a.tokenKey="companion-".concat(a.pluginId,"-auth-token"),a.companionKeysParams=a.opts.companionKeysParams,a.preAuthToken=null,a}return i(r,"Provider"),J7e(r,[{key:"headers",value:i(function(){var o=this;return Promise.all([Jf(iu(r.prototype),"headers",this).call(this),this.getAuthToken()]).then(function(a){var u=xz(a,2),s=u[0],l=u[1],f={};return l&&(f["uppy-auth-token"]=l),o.companionKeysParams&&(f["uppy-credentials-params"]=btoa(JSON.stringify({params:o.companionKeysParams}))),im(im({},s),f)})},"headers")},{key:"onReceiveResponse",value:i(function(o){o=Jf(iu(r.prototype),"onReceiveResponse",this).call(this,o);var a=this.uppy.getPlugin(this.pluginId),u=a.getPluginState().authenticated,s=u?o.status!==401:o.status<400;return a.setPluginState({authenticated:s}),o},"onReceiveResponse")},{key:"setAuthToken",value:i(function(o){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,o)},"setAuthToken")},{key:"getAuthToken",value:i(function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)},"getAuthToken")},{key:"ensurePreAuth",value:function(){var n=qz(Xf().mark(i(function a(){return Xf().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(this.companionKeysParams&&!this.preAuthToken)){s.next=5;break}return s.next=3,this.fetchPreAuthToken();case 3:if(this.preAuthToken){s.next=5;break}throw new Error("Could not load authentication data required for third-party login. Please try again later.");case 5:case"end":return s.stop()}},"_callee$"),a,this)},"_callee")));function o(){return n.apply(this,arguments)}return i(o,"ensurePreAuth"),o}()},{key:"authUrl",value:i(function(o){o===void 0&&(o={});var a=new URLSearchParams(o);return this.preAuthToken&&a.set("uppyPreAuthToken",this.preAuthToken),"".concat(this.hostname,"/").concat(this.id,"/connect?").concat(a)},"authUrl")},{key:"fileUrl",value:i(function(o){return"".concat(this.hostname,"/").concat(this.id,"/get/").concat(o)},"fileUrl")},{key:"fetchPreAuthToken",value:function(){var n=qz(Xf().mark(i(function a(){var u;return Xf().wrap(i(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.companionKeysParams){l.next=2;break}return l.abrupt("return");case 2:return l.prev=2,l.next=5,this.post("".concat(this.id,"/preauth/"),{params:this.companionKeysParams});case 5:u=l.sent,this.preAuthToken=u.token,l.next=12;break;case 9:l.prev=9,l.t0=l.catch(2),this.uppy.log("[CompanionClient] unable to fetch preAuthToken ".concat(l.t0),"warning");case 12:case"end":return l.stop()}},"_callee2$"),a,this,[[2,9]])},"_callee2")));function o(){return n.apply(this,arguments)}return i(o,"fetchPreAuthToken"),o}()},{key:"list",value:i(function(o){return this.get("".concat(this.id,"/list/").concat(o||""))},"list")},{key:"logout",value:i(function(){var o=this;return this.get("".concat(this.id,"/logout")).then(function(a){return Promise.all([a,o.uppy.getPlugin(o.pluginId).storage.removeItem(o.tokenKey)])}).then(function(a){var u=xz(a,1),s=u[0];return s})},"logout")}],[{key:"initPlugin",value:i(function(o,a,u){if(o.type="acquirer",o.files=[],u&&(o.opts=im(im({},u),a)),a.serverUrl||a.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(a.companionAllowedHosts){var s=a.companionAllowedHosts;if(typeof s!="string"&&!Array.isArray(s)&&!(s instanceof RegExp))throw new TypeError("".concat(o.id,': the option "companionAllowedHosts" must be one of string, Array, RegExp'));o.opts.companionAllowedHosts=s}else/^(?!https?:\/\/).*$/i.test(a.companionUrl)?o.opts.companionAllowedHosts="https://".concat(a.companionUrl.replace(/^\/\//,"")):o.opts.companionAllowedHosts=new URL(a.companionUrl).origin;o.storage=o.opts.storage||LE},"initPlugin")}]),r}(pt);function NE(t){return NE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NE(t)}i(NE,"_typeof");function o9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(o9e,"_classCallCheck");function Lz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Lz,"_defineProperties");function a9e(t,e,r){return e&&Lz(t.prototype,e),r&&Lz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(a9e,"_createClass");function u9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DE(t,e)}i(u9e,"_inherits");function DE(t,e){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),DE(t,e)}i(DE,"_setPrototypeOf");function s9e(t){var e=f9e();return i(function(){var n=am(t),o;if(e){var a=am(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return l9e(this,o)},"_createSuperInternal")}i(s9e,"_createSuper");function l9e(t,e){if(e&&(NE(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c9e(t)}i(l9e,"_possibleConstructorReturn");function c9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(c9e,"_assertThisInitialized");function f9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(f9e,"_isNativeReflectConstruct");function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),am(t)}i(am,"_getPrototypeOf");var p9e=i(function(e){return e.split("-").map(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).join(" ")},"getName"),um=function(t){u9e(r,t);var e=s9e(r);function r(n,o){var a;return o9e(this,r),a=e.call(this,n,o),a.provider=o.provider,a.id=a.provider,a.name=a.opts.name||p9e(a.id),a.pluginId=a.opts.pluginId,a}return i(r,"SearchProvider"),a9e(r,[{key:"fileUrl",value:i(function(o){return"".concat(this.hostname,"/search/").concat(this.id,"/get/").concat(o)},"fileUrl")},{key:"search",value:i(function(o,a){return this.get("search/".concat(this.id,"/list?q=").concat(encodeURIComponent(o)).concat(a?"&".concat(a):""))},"search")}]),r}(pt);var Uz=Re(iE(),1);function d9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(d9e,"_classCallCheck");function jz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(jz,"_defineProperties");function h9e(t,e,r){return e&&jz(t.prototype,e),r&&jz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(h9e,"_createClass");var Nz,Dz;function St(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(St,"_classPrivateFieldLooseBase");var v9e=0;function Qf(t){return"__private_"+v9e+++"_"+t}i(Qf,"_classPrivateFieldLooseKey");var $i=Qf("queued"),ou=Qf("emitter"),An=Qf("isOpen"),or=Qf("socket"),UE=Qf("handleMessage");Nz=Symbol.for("uppy test: getSocket");Dz=Symbol.for("uppy test: getQueued");var ii=function(t,e){function r(n){var o=this;d9e(this,r),Object.defineProperty(this,$i,{writable:!0,value:[]}),Object.defineProperty(this,ou,{writable:!0,value:(0,Uz.default)()}),Object.defineProperty(this,An,{writable:!0,value:!1}),Object.defineProperty(this,or,{writable:!0,value:void 0}),Object.defineProperty(this,UE,{writable:!0,value:i(function(u){try{var s=JSON.parse(u.data);o.emit(s.action,s.payload)}catch(l){console.log(l)}},"value")}),this.opts=n,(!n||n.autoOpen!==!1)&&this.open()}return i(r,"UppySocket"),h9e(r,[{key:"isOpen",get:i(function(){return St(this,An)[An]},"get")},{key:t,value:i(function(){return St(this,or)[or]},"value")},{key:e,value:i(function(){return St(this,$i)[$i]},"value")},{key:"open",value:i(function(){var o=this;St(this,or)[or]=new WebSocket(this.opts.target),St(this,or)[or].onopen=function(){for(St(o,An)[An]=!0;St(o,$i)[$i].length>0&&St(o,An)[An];){var a=St(o,$i)[$i].shift();o.send(a.action,a.payload)}},St(this,or)[or].onclose=function(){St(o,An)[An]=!1},St(this,or)[or].onmessage=St(this,UE)[UE]},"open")},{key:"close",value:i(function(){var o;(o=St(this,or)[or])==null||o.close()},"close")},{key:"send",value:i(function(o,a){if(!St(this,An)[An]){St(this,$i)[$i].push({action:o,payload:a});return}St(this,or)[or].send(JSON.stringify({action:o,payload:a}))},"send")},{key:"on",value:i(function(o,a){St(this,ou)[ou].on(o,a)},"on")},{key:"emit",value:i(function(o,a){St(this,ou)[ou].emit(o,a)},"emit")},{key:"once",value:i(function(o,a){St(this,ou)[ou].once(o,a)},"once")}]),r}(Nz,Dz);var eR={};Dl(eR,{ProviderViews:function(){return Nt},SearchProviderViews:function(){return el}});function y9e(){return O("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},O("g",{fill:"none","fill-rule":"evenodd"},O("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),O("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),O("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),O("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),O("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),O("path",{d:"M4 4h18v18H4z"})))}i(y9e,"GoogleIcon");function m9e(t){var e=t.pluginName,r=t.pluginIcon,n=t.i18nArray,o=t.handleAuth,a=e==="Google Drive",u=O("span",{className:"uppy-Provider-authTitleName"},e,O("br",null));return O("div",{className:"uppy-Provider-auth"},O("div",{className:"uppy-Provider-authIcon"},r()),O("div",{className:"uppy-Provider-authTitle"},n("authenticateWithTitle",{pluginName:u})),a?O("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",onClick:o,"data-uppy-super-focusable":!0},O(y9e,null),n("signInWithGoogle")):O("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onClick:o,"data-uppy-super-focusable":!0},n("authenticateWith",{pluginName:e})))}i(m9e,"AuthView");var Mz=m9e;var Bz=i(function(t){var e=t.i18n,r=t.logout,n=t.username;return[O("span",{className:"uppy-ProviderBrowser-user",key:"username"},n),O("button",{type:"button",onClick:r,className:"uppy-u-reset uppy-ProviderBrowser-userLogout",key:"logout"},e("logOut"))]},"default");var g9e=i(function(e){var r=e.getFolder,n=e.title,o=e.isLast;return O(ri,null,O("button",{type:"button",className:"uppy-u-reset",onClick:r},n),o?"":" / ")},"Breadcrumb"),$z=i(function(t){var e=t.getFolder,r=t.title,n=t.breadcrumbsIcon,o=t.directories;return O("div",{className:"uppy-Provider-breadcrumbs"},O("div",{className:"uppy-Provider-breadcrumbsIcon"},n),o.map(function(a,u){return O(g9e,{key:a.id,getFolder:i(function(){return e(a.id)},"getFolder"),title:u===0?r:a.title,isLast:u+1===o.length})}))},"default");var zz=i(function(t){var e=[];return t.showBreadcrumbs&&e.push($z({getFolder:t.getFolder,directories:t.directories,breadcrumbsIcon:t.pluginIcon&&t.pluginIcon(),title:t.title})),e.push(Bz({logout:t.logout,username:t.username,i18n:t.i18n})),e},"default");var VE=Re(Dr(),1);function Gz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(Gz,"ownKeys");function Hz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gz(Object(r),!0).forEach(function(n){b9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Hz,"_objectSpread");function b9e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(b9e,"_defineProperty");function Zf(t){return Hz(Hz({},t),{},{type:t.mimeType,extension:t.name?Ci(t.name).extension:null})}i(Zf,"remoteFileObjToLocal");function BE(t){return BE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BE(t)}i(BE,"_typeof");function w9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(w9e,"_classCallCheck");function Vz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Vz,"_defineProperties");function O9e(t,e,r){return e&&Vz(t.prototype,e),r&&Vz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(O9e,"_createClass");function S9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$E(t,e)}i(S9e,"_inherits");function $E(t,e){return $E=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),$E(t,e)}i($E,"_setPrototypeOf");function _9e(t){var e=E9e();return i(function(){var n=cm(t),o;if(e){var a=cm(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return P9e(this,o)},"_createSuperInternal")}i(_9e,"_createSuper");function P9e(t,e){if(e&&(BE(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wz(t)}i(P9e,"_possibleConstructorReturn");function Wz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Wz,"_assertThisInitialized");function E9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(E9e,"_isNativeReflectConstruct");function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),cm(t)}i(cm,"_getPrototypeOf");var Kz=function(t){S9e(r,t);var e=_9e(r);function r(n){var o;return w9e(this,r),o=e.call(this,n),o.preventEnterPress=o.preventEnterPress.bind(Wz(o)),o}return i(r,"Filter"),O9e(r,[{key:"preventEnterPress",value:i(function(o){o.keyCode===13&&(o.stopPropagation(),o.preventDefault())},"preventEnterPress")},{key:"render",value:i(function(){var o=this.props,a=o.i18n,u=o.filterInput,s=o.filterQuery;return O("div",{className:"uppy-ProviderBrowser-filter"},O("input",{className:"uppy-u-reset uppy-ProviderBrowser-filterInput",type:"text",placeholder:a("filter"),"aria-label":a("filter"),onKeyUp:this.preventEnterPress,onKeyDown:this.preventEnterPress,onKeyPress:this.preventEnterPress,onInput:i(function(f){return s(f)},"onInput"),value:u}),O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-filterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},O("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),u&&O("button",{className:"uppy-u-reset uppy-ProviderBrowser-filterClose",type:"button","aria-label":a("resetFilter"),title:a("resetFilter"),onClick:s},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},O("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))},"render")}]),r}(Be);var Yz=i(function(t){var e=t.cancel,r=t.done,n=t.i18n,o=t.selected;return O("div",{className:"uppy-ProviderBrowser-footer"},O("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:r,type:"button"},n("selectX",{smart_count:o})),O("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:e,type:"button"},n("cancel")))},"default");var Qz=Re(Dr(),1);function R9e(){return O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},O("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}i(R9e,"FileIcon");function T9e(){return O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},O("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}i(T9e,"FolderIcon");function A9e(){return O("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},O("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),O("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}i(A9e,"VideoIcon");var Xz=i(function(t){var e=t.itemIconString;if(e!==null)switch(e){case"file":return O(R9e,null);case"folder":return O(T9e,null);case"video":return O(A9e,null);default:{var r=t.alt;return O("img",{src:e,alt:r})}}},"default");function I9e(t){var e=t.className,r=t.isDisabled,n=t.restrictionError,o=t.isChecked,a=t.title,u=t.itemIconEl,s=t.showTitles,l=t.toggleCheckbox,f=t.recordShiftKeyPress,d=t.id,y=t.children;return O("li",{className:e,title:r?n==null?void 0:n.message:null},O("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(o?"uppy-ProviderBrowserItem-checkbox--is-checked":""," uppy-ProviderBrowserItem-checkbox--grid"),onChange:l,onKeyDown:f,name:"listitem",id:d,checked:o,disabled:r,"data-uppy-super-focusable":!0}),O("label",{htmlFor:d,"aria-label":a,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},O("span",{className:"uppy-ProviderBrowserItem-inner-relative"},u,s&&a,y)))}i(I9e,"GridListItem");var zE=I9e;function q9e(t){var e=t.className,r=t.isDisabled,n=t.restrictionError,o=t.isCheckboxDisabled,a=t.isChecked,u=t.toggleCheckbox,s=t.recordShiftKeyPress,l=t.type,f=t.id,d=t.itemIconEl,y=t.title,m=t.handleFolderClick,w=t.showTitles,_=t.i18n;return O("li",{className:e,title:r?n==null?void 0:n.message:null},o?null:O("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(a?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:u,onKeyDown:s,name:"listitem",id:f,checked:a,"aria-label":l==="file"?null:_("allFilesFromFolderNamed",{name:y}),disabled:r,"data-uppy-super-focusable":!0}),l==="file"?O("label",{htmlFor:f,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},O("div",{className:"uppy-ProviderBrowserItem-iconWrap"},d),w&&y):O("button",{type:"button",className:"uppy-u-reset uppy-ProviderBrowserItem-inner",onClick:m,"aria-label":_("openFolderNamed",{name:y})},O("div",{className:"uppy-ProviderBrowserItem-iconWrap"},d),w&&O("span",null,y)))}i(q9e,"ListItem");var Jz=q9e;function ep(){return ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ep.apply(this,arguments)}i(ep,"_extends");var GE=i(function(t){var e=t.author,r=t.getItemIcon,n=t.isChecked,o=t.isDisabled,a=t.viewType,u=r(),s=(0,Qz.default)("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":n},{"uppy-ProviderBrowserItem--disabled":o},{"uppy-ProviderBrowserItem--noPreview":u==="video"}),l=O(Xz,{itemIconString:u});switch(a){case"grid":return O(zE,ep({},t,{className:s,itemIconEl:l}));case"list":return O(Jz,ep({},t,{className:s,itemIconEl:l}));case"unsplash":return O(zE,ep({},t,{className:s,itemIconEl:l}),O("a",{href:"".concat(e.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author"},e.name));default:throw new Error("There is no such type ".concat(a))}},"default");function Zz(t){return F9e(t)||C9e(t)||x9e(t)||k9e()}i(Zz,"_toConsumableArray");function k9e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(k9e,"_nonIterableSpread");function x9e(t,e){if(!!t){if(typeof t=="string")return HE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HE(t,e)}}i(x9e,"_unsupportedIterableToArray");function C9e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(C9e,"_iterableToArray");function F9e(t){if(Array.isArray(t))return HE(t)}i(F9e,"_arrayWithoutHoles");function HE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(HE,"_arrayLikeToArray");var L9e="shared-with-me";function j9e(t){var e=t.currentSelection,r=t.folders,n=t.files,o=t.uppyFiles,a=t.viewType,u=t.headerComponent,s=t.showBreadcrumbs,l=t.isChecked,f=t.toggleCheckbox,d=t.recordShiftKeyPress,y=t.handleScroll,m=t.showTitles,w=t.i18n,_=t.validateRestrictions,T=t.showFilter,R=t.filterQuery,E=t.filterInput,A=t.getNextFolder,k=t.cancel,U=t.done,G=t.columns,M=e.length;return O("div",{className:(0,VE.default)("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--".concat(a))},O("div",{className:"uppy-ProviderBrowser-header"},O("div",{className:(0,VE.default)("uppy-ProviderBrowser-headerBar",!s&&"uppy-ProviderBrowser-headerBar--simple")},u)),T&&O(Kz,{i18n:w,filterQuery:R,filterInput:E}),function(){return!r.length&&!n.length?O("div",{className:"uppy-Provider-empty"},w("noFilesFound")):O("div",{className:"uppy-ProviderBrowser-body"},O("ul",{className:"uppy-ProviderBrowser-list",onScroll:y,role:"listbox",tabIndex:"-1"},r.map(function(z){var W;return GE({columns:G,showTitles:m,viewType:a,i18n:w,id:z.id,title:z.name,getItemIcon:i(function(){return z.icon},"getItemIcon"),isChecked:l(z),toggleCheckbox:i(function(p){return f(p,z)},"toggleCheckbox"),recordShiftKeyPress:d,type:"folder",isDisabled:(W=l(z))==null?void 0:W.loading,isCheckboxDisabled:z.id===L9e,handleFolderClick:i(function(){return A(z)},"handleFolderClick")})}),n.map(function(z){var W=_(Zf(z),[].concat(Zz(o),Zz(e)));return GE({id:z.id,title:z.name,author:z.author,getItemIcon:i(function(){return z.icon},"getItemIcon"),isChecked:l(z),toggleCheckbox:i(function(p){return f(p,z)},"toggleCheckbox"),recordShiftKeyPress:d,columns:G,showTitles:m,viewType:a,i18n:w,type:"file",isDisabled:W&&!l(z),restrictionError:W})})))}(),M>0&&O(Yz,{selected:M,done:U,cancel:k,i18n:w}))}i(j9e,"Browser");var fm=j9e;var pm=i(function(t){var e=t.i18n;return O("div",{className:"uppy-Provider-loading"},O("span",null,e("loading")))},"default");function WE(t){return WE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WE(t)}i(WE,"_typeof");function N9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(N9e,"_classCallCheck");function eG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(eG,"_defineProperties");function D9e(t,e,r){return e&&eG(t.prototype,e),r&&eG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(D9e,"_createClass");function U9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KE(t,e)}i(U9e,"_inherits");function KE(t,e){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),KE(t,e)}i(KE,"_setPrototypeOf");function M9e(t){var e=z9e();return i(function(){var n=dm(t),o;if(e){var a=dm(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return B9e(this,o)},"_createSuperInternal")}i(M9e,"_createSuper");function B9e(t,e){if(e&&(WE(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $9e(t)}i(B9e,"_possibleConstructorReturn");function $9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i($9e,"_assertThisInitialized");function z9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(z9e,"_isNativeReflectConstruct");function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),dm(t)}i(dm,"_getPrototypeOf");var Ko=function(t){U9e(r,t);var e=M9e(r);function r(){return N9e(this,r),e.apply(this,arguments)}return i(r,"CloseWrapper"),D9e(r,[{key:"componentWillUnmount",value:i(function(){var o=this.props.onUnmount;o()},"componentWillUnmount")},{key:"render",value:i(function(){var o=this.props.children;return an(o)[0]},"render")}]),r}(Be);function Zs(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}i(Zs,"isPreviewSupported");function G9e(t){return W9e(t)||V9e(t)||rG(t)||H9e()}i(G9e,"_toConsumableArray");function H9e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(H9e,"_nonIterableSpread");function V9e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(V9e,"_iterableToArray");function W9e(t){if(Array.isArray(t))return YE(t)}i(W9e,"_arrayWithoutHoles");function K9e(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=rG(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,o=i(function(){},"F");return{s:o,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return a=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!a&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(K9e,"_createForOfIteratorHelper");function rG(t,e){if(!!t){if(typeof t=="string")return YE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YE(t,e)}}i(rG,"_unsupportedIterableToArray");function YE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(YE,"_arrayLikeToArray");function Y9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Y9e,"_classCallCheck");function tG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(tG,"_defineProperties");function X9e(t,e,r){return e&&tG(t.prototype,e),r&&tG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(X9e,"_createClass");var nG=function(){function t(e){Y9e(this,t),this.plugin=e,this.filterItems=this.filterItems.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.recordShiftKeyPress=this.recordShiftKeyPress.bind(this),this.isChecked=this.isChecked.bind(this),this.loaderWrapper=this.loaderWrapper.bind(this)}return i(t,"SharedHandler"),X9e(t,[{key:"filterItems",value:i(function(r){var n=this.plugin.getPluginState();return!n.filterInput||n.filterInput===""?r:r.filter(function(o){return o.name.toLowerCase().indexOf(n.filterInput.toLowerCase())!==-1})},"filterItems")},{key:"recordShiftKeyPress",value:i(function(r){this.isShiftKeyPressed=r.shiftKey},"recordShiftKeyPress")},{key:"toggleCheckbox",value:i(function(r,n){r.stopPropagation(),r.preventDefault(),r.currentTarget.focus();var o=this.plugin.getPluginState(),a=o.folders,u=o.files,s=this.filterItems(a.concat(u));if(this.lastCheckbox&&this.isShiftKeyPressed){var l=s.indexOf(this.lastCheckbox),f=s.indexOf(n),d=l<f?s.slice(l,f+1):s.slice(f,l+1),y=[],m=K9e(d),w;try{for(m.s();!(w=m.n()).done;){var _=w.value,T=this.plugin.uppy,R=T.validateRestrictions(Zf(_),[].concat(G9e(T.getFiles()),y));R?T.info({message:R.message},"error",T.opts.infoTimeout):y.push(_)}}catch(k){m.e(k)}finally{m.f()}this.plugin.setPluginState({currentSelection:y});return}this.lastCheckbox=n;var E=this.plugin.getPluginState(),A=E.currentSelection;this.isChecked(n)?this.plugin.setPluginState({currentSelection:A.filter(function(k){return k.id!==n.id})}):this.plugin.setPluginState({currentSelection:A.concat([n])})},"toggleCheckbox")},{key:"isChecked",value:i(function(r){var n=this.plugin.getPluginState(),o=n.currentSelection;return o.some(function(a){return a.id===r.id})},"isChecked")},{key:"loaderWrapper",value:i(function(r,n,o){var a=this;r.then(function(u){a.plugin.setPluginState({loading:!1}),n(u)}).catch(function(u){a.plugin.setPluginState({loading:!1}),o(u)}),this.plugin.setPluginState({loading:!0})},"loaderWrapper")}]),t}();function J9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(J9e,"_classCallCheck");function iG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(iG,"_defineProperties");function Q9e(t,e,r){return e&&iG(t.prototype,e),r&&iG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Q9e,"_createClass");var hm=function(){function t(e,r){J9e(this,t),this.plugin=e,this.provider=r.provider,this.sharedHandler=new nG(e),this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.addFile=this.addFile.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}return i(t,"View"),Q9e(t,[{key:"providerFileToId",value:i(function(r){return If({data:r,name:r.name||r.id,type:r.mimetype})},"providerFileToId")},{key:"preFirstRender",value:i(function(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()},"preFirstRender")},{key:"shouldHandleScroll",value:i(function(r){var n=r.target,o=n.scrollHeight,a=n.scrollTop,u=n.offsetHeight,s=o-(a+u);return s<50&&!this.isHandlingScroll},"shouldHandleScroll")},{key:"clearSelection",value:i(function(){this.plugin.setPluginState({currentSelection:[],filterInput:""})},"clearSelection")},{key:"cancelPicking",value:i(function(){this.clearSelection();var r=this.plugin.uppy.getPlugin("Dashboard");r&&r.hideAllPanels()},"cancelPicking")},{key:"handleError",value:i(function(r){var n=this.plugin.uppy,o=n.i18n("companionError");n.log(r.toString()),!r.isAuthError&&n.info({message:o,details:r.toString()},"error",5e3)},"handleError")},{key:"addFile",value:i(function(r){var n={id:this.providerFileToId(r),source:this.plugin.id,data:r,name:r.name||r.id,type:r.mimeType,isRemote:!0,meta:{},body:{fileId:r.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:"".concat(this.provider.fileUrl(r.requestPath)),body:{fileId:r.id},providerOptions:this.provider.opts,providerName:this.provider.name}},o=Af(n);o&&Zs(o)&&(n.preview=r.thumbnail),r.author&&(r.author.name!=null&&(n.meta.authorName=String(r.author.name)),r.author.url&&(n.meta.authorUrl=r.author.url)),this.plugin.uppy.log("Adding remote file");try{return this.plugin.uppy.addFile(n),!0}catch(a){return a.isRestriction||this.plugin.uppy.log(a),!1}},"addFile")}]),t}();function vm(t){return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}i(vm,"_typeof");function au(){"use strict";au=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&vm(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(au,"_regeneratorRuntime");function oG(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(oG,"asyncGeneratorStep");function XE(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){oG(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){oG(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(XE,"_asyncToGenerator");function aG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(aG,"ownKeys");function zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aG(Object(r),!0).forEach(function(n){Z9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(zi,"_objectSpread");function Z9e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Z9e,"_defineProperty");function e$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(e$e,"_classCallCheck");function uG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(uG,"_defineProperties");function t$e(t,e,r){return e&&uG(t.prototype,e),r&&uG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(t$e,"_createClass");function r$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JE(t,e)}i(r$e,"_inherits");function JE(t,e){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),JE(t,e)}i(JE,"_setPrototypeOf");function n$e(t){var e=o$e();return i(function(){var n=ym(t),o;if(e){var a=ym(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return i$e(this,o)},"_createSuperInternal")}i(n$e,"_createSuper");function i$e(t,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return In(t)}i(i$e,"_possibleConstructorReturn");function In(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(In,"_assertThisInitialized");function o$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(o$e,"_isNativeReflectConstruct");function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),ym(t)}i(ym,"_getPrototypeOf");function sG(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(sG,"_classPrivateFieldLooseBase");var a$e=0;function u$e(t){return"__private_"+a$e+++"_"+t}i(u$e,"_classPrivateFieldLooseKey");var s$e={version:"3.0.0-beta.3"};function l$e(){return location.origin}i(l$e,"getOrigin");function lG(t){if(typeof t=="string")return new RegExp("^".concat(t,"$"));if(t instanceof RegExp)return t}i(lG,"getRegex");function c$e(t,e){var r=Array.isArray(e)?e.map(lG):[lG(e)];return r.some(function(n){return(n==null?void 0:n.test(t))||(n==null?void 0:n.test("".concat(t,"/")))})}i(c$e,"isOriginAllowed");var tp=u$e("updateFilesAndFolders"),Nt=function(t){r$e(r,t);var e=n$e(r);function r(n,o){var a;e$e(this,r),a=e.call(this,n,o),Object.defineProperty(In(a),tp,{value:f$e});var u={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0};return a.opts=zi(zi({},u),o),a.filterQuery=a.filterQuery.bind(In(a)),a.getFolder=a.getFolder.bind(In(a)),a.getNextFolder=a.getNextFolder.bind(In(a)),a.logout=a.logout.bind(In(a)),a.handleAuth=a.handleAuth.bind(In(a)),a.handleScroll=a.handleScroll.bind(In(a)),a.listAllFiles=a.listAllFiles.bind(In(a)),a.donePicking=a.donePicking.bind(In(a)),a.render=a.render.bind(In(a)),a.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),a}return i(r,"ProviderView"),t$e(r,[{key:"tearDown",value:i(function(){},"tearDown")},{key:"getFolder",value:i(function(o,a){var u=this;return this.sharedHandler.loaderWrapper(this.provider.list(o),function(s){var l=[],f=[],d,y=u.plugin.getPluginState(),m=y.directories.findIndex(function(w){return o===w.id});m!==-1?d=y.directories.slice(0,m+1):d=y.directories.concat([{id:o,title:a}]),u.username=s.username||u.username,sG(u,tp)[tp](s,f,l),u.plugin.setPluginState({directories:d,filterInput:""})},this.handleError)},"getFolder")},{key:"getNextFolder",value:i(function(o){this.getFolder(o.requestPath,o.name),this.lastCheckbox=void 0},"getNextFolder")},{key:"logout",value:i(function(){var o=this;this.provider.logout().then(function(a){if(a.ok){if(!a.revoked){var u=o.plugin.uppy.i18n("companionUnauthorizeHint",{provider:o.plugin.title,url:a.manual_revoke_url});o.plugin.uppy.info(u,"info",7e3)}var s={authenticated:!1,files:[],folders:[],directories:[],filterInput:""};o.plugin.setPluginState(s)}}).catch(this.handleError)},"logout")},{key:"filterQuery",value:i(function(o){var a=this.plugin.getPluginState();this.plugin.setPluginState(zi(zi({},a),{},{filterInput:o?o.target.value:""}))},"filterQuery")},{key:"addFolder",value:i(function(o){var a=this,u=this.providerFileToId(o),s=zi({},this.plugin.getPluginState().selectedFolders);if(!(u in s&&s[u].loading))return s[u]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:zi({},s)}),this.listAllFiles(o.requestPath).then(function(l){var f=0;l.forEach(function(m){var w=a.providerFileToId(m);a.plugin.uppy.checkIfFileAlreadyExists(w)||f++}),f>0&&l.forEach(function(m){return a.addFile(m)});var d=l.map(a.providerFileToId);s[u]={loading:!1,files:d},a.plugin.setPluginState({selectedFolders:s,filterInput:""});var y;f===0?y=a.plugin.uppy.i18n("folderAlreadyAdded",{folder:o.name}):l.length?y=a.plugin.uppy.i18n("folderAdded",{smart_count:f,folder:o.name}):y=a.plugin.uppy.i18n("emptyFolderAdded"),a.plugin.uppy.info(y)}).catch(function(l){var f=zi({},a.plugin.getPluginState().selectedFolders);delete f[u],a.plugin.setPluginState({selectedFolders:f}),a.handleError(l)})},"addFolder")},{key:"handleAuth",value:function(){var n=XE(au().mark(i(function a(){var u=this,s,l,f,d,y;return au().wrap(i(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this.provider.ensurePreAuth();case 2:s=btoa(JSON.stringify({origin:l$e()})),l="@uppy/provider-views=".concat(r.VERSION),f=this.provider.authUrl({state:s,uppyVersions:l}),d=window.open(f,"_blank"),y=i(function _(T){if(T.source!==d){u.plugin.uppy.log("rejecting event from unknown source");return}(!c$e(T.origin,u.plugin.opts.companionAllowedHosts)||T.source!==d)&&u.plugin.uppy.log("rejecting event from ".concat(T.origin," vs allowed pattern ").concat(u.plugin.opts.companionAllowedHosts));var R=typeof T.data=="string"?JSON.parse(T.data):T.data;if(R.error){u.plugin.uppy.log("auth aborted","warning");var E=u.plugin.uppy,A=E.i18n("authAborted");E.info({message:A},"warning",5e3);return}if(!R.token){u.plugin.uppy.log("did not receive token from auth window","error");return}d.close(),window.removeEventListener("message",_),u.provider.setAuthToken(R.token),u.preFirstRender()},"handleToken"),window.addEventListener("message",y);case 8:case"end":return w.stop()}},"_callee$"),a,this)},"_callee")));function o(){return n.apply(this,arguments)}return i(o,"handleAuth"),o}()},{key:"handleScroll",value:function(){var n=XE(au().mark(i(function a(u){var s,l,f,d,y;return au().wrap(i(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=this.nextPagePath||null,!(this.shouldHandleScroll(u)&&s)){w.next=17;break}return this.isHandlingScroll=!0,w.prev=3,w.next=6,this.provider.list(s);case 6:l=w.sent,f=this.plugin.getPluginState(),d=f.files,y=f.folders,sG(this,tp)[tp](l,d,y),w.next=14;break;case 11:w.prev=11,w.t0=w.catch(3),this.handleError(w.t0);case 14:return w.prev=14,this.isHandlingScroll=!1,w.finish(14);case 17:case"end":return w.stop()}},"_callee2$"),a,this,[[3,11,14,17]])},"_callee2")));function o(a){return n.apply(this,arguments)}return i(o,"handleScroll"),o}()},{key:"listAllFiles",value:function(){var n=XE(au().mark(i(function a(u,s){var l=this,f,d;return au().wrap(i(function(m){for(;;)switch(m.prev=m.next){case 0:return s===void 0&&(s=null),s=s||[],m.next=4,this.provider.list(u);case 4:if(f=m.sent,f.items.forEach(function(w){w.isFolder?l.addFolder(w):s.push(w)}),d=f.nextPagePath,!d){m.next=9;break}return m.abrupt("return",this.listAllFiles(d,s));case 9:return m.abrupt("return",s);case 10:case"end":return m.stop()}},"_callee3$"),a,this)},"_callee3")));function o(a,u){return n.apply(this,arguments)}return i(o,"listAllFiles"),o}()},{key:"donePicking",value:i(function(){var o=this,a=this.plugin.getPluginState(),u=a.currentSelection,s=u.map(function(l){return l.isFolder?o.addFolder(l):o.addFile(l)});this.sharedHandler.loaderWrapper(Promise.all(s),function(){o.clearSelection()},function(){})},"donePicking")},{key:"render",value:i(function(o,a){var u=this;a===void 0&&(a={});var s=this.plugin.getPluginState(),l=s.authenticated,f=s.didFirstRender;f||this.preFirstRender();var d=zi(zi({},this.opts),a),y=this.plugin.getPluginState(),m=y.files,w=y.folders,_=y.filterInput,T=y.loading,R=y.currentSelection,E=this.sharedHandler,A=E.isChecked,k=E.toggleCheckbox,U=E.recordShiftKeyPress,G=E.filterItems,M=_!=="",z={showBreadcrumbs:d.showBreadcrumbs,getFolder:this.getFolder,directories:this.plugin.getPluginState().directories,pluginIcon:this.plugin.icon,title:this.plugin.title,logout:this.logout,username:this.username,i18n:this.plugin.uppy.i18n},W={isChecked:A,toggleCheckbox:k,recordShiftKeyPress:U,currentSelection:R,files:M?G(m):m,folders:M?G(w):w,username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.sharedHandler.filterItems,filterQuery:this.filterQuery,logout:this.logout,handleScroll:this.handleScroll,listAllFiles:this.listAllFiles,done:this.donePicking,cancel:this.cancelPicking,headerComponent:zz(z),title:this.plugin.title,viewType:d.viewType,showTitles:d.showTitles,showFilter:d.showFilter,showBreadcrumbs:d.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:i(function(){var p;return(p=u.plugin.uppy).validateRestrictions.apply(p,arguments)},"validateRestrictions")};return T?O(Ko,{onUnmount:this.clearSelection},O(pm,{i18n:this.plugin.uppy.i18n})):l?O(Ko,{onUnmount:this.clearSelection},O(fm,W)):O(Ko,{onUnmount:this.clearSelection},O(Mz,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}))},"render")}]),r}(hm);function f$e(t,e,r){this.nextPagePath=t.nextPagePath,t.items.forEach(function(n){n.isFolder?r.push(n):e.push(n)}),this.plugin.setPluginState({folders:r,files:e})}i(f$e,"_updateFilesAndFolders2");Nt.VERSION=s$e.version;var cG=i(function(t){var e=t.i18n,r=t.search,n,o=i(function(){n.value&&r(n.value)},"validateAndSearch"),a=i(function(s){s.keyCode===13&&o()},"handleKeyPress");return O("div",{className:"uppy-SearchProvider"},O("input",{className:"uppy-u-reset uppy-c-textInput uppy-SearchProvider-input",type:"search","aria-label":e("enterTextToSearch"),placeholder:e("enterTextToSearch"),onKeyUp:a,ref:i(function(s){n=s},"ref"),"data-uppy-super-focusable":!0}),O("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-SearchProvider-searchButton",type:"button",onClick:o},e("searchImages")))},"default");var p$e=13,fG=i(function(t){var e=t.searchTerm,r=t.i18n,n=t.search,o=i(function(u){u.keyCode===p$e&&(u.stopPropagation(),u.preventDefault(),n(u.target.value))},"handleKeyPress");return O("div",{class:"uppy-ProviderBrowser-search"},O("input",{class:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:r("search"),"aria-label":r("search"),value:e,onKeyUp:o,"data-uppy-super-focusable":!0}),O("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-ProviderBrowser-searchIcon",width:"12",height:"12",viewBox:"0 0 12 12"},O("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})))},"default");function gm(t){return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}i(gm,"_typeof");function QE(){"use strict";QE=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&gm(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(QE,"_regeneratorRuntime");function pG(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(pG,"asyncGeneratorStep");function d$e(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){pG(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){pG(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(d$e,"_asyncToGenerator");function dG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(dG,"ownKeys");function mm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dG(Object(r),!0).forEach(function(n){h$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(mm,"_objectSpread");function h$e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(h$e,"_defineProperty");function v$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(v$e,"_classCallCheck");function hG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(hG,"_defineProperties");function y$e(t,e,r){return e&&hG(t.prototype,e),r&&hG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(y$e,"_createClass");function m$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZE(t,e)}i(m$e,"_inherits");function ZE(t,e){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),ZE(t,e)}i(ZE,"_setPrototypeOf");function g$e(t){var e=w$e();return i(function(){var n=bm(t),o;if(e){var a=bm(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return b$e(this,o)},"_createSuperInternal")}i(g$e,"_createSuper");function b$e(t,e){if(e&&(gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yo(t)}i(b$e,"_possibleConstructorReturn");function Yo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Yo,"_assertThisInitialized");function w$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(w$e,"_isNativeReflectConstruct");function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),bm(t)}i(bm,"_getPrototypeOf");function vG(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(vG,"_classPrivateFieldLooseBase");var O$e=0;function S$e(t){return"__private_"+O$e+++"_"+t}i(S$e,"_classPrivateFieldLooseKey");var _$e={version:"3.0.0-beta.3"},rp=S$e("updateFilesAndInputMode"),el=function(t){m$e(r,t);var e=g$e(r);function r(n,o){var a;v$e(this,r),a=e.call(this,n,o),Object.defineProperty(Yo(a),rp,{value:P$e});var u={viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1};return a.opts=mm(mm({},u),o),a.search=a.search.bind(Yo(a)),a.triggerSearchInput=a.triggerSearchInput.bind(Yo(a)),a.addFile=a.addFile.bind(Yo(a)),a.handleScroll=a.handleScroll.bind(Yo(a)),a.donePicking=a.donePicking.bind(Yo(a)),a.render=a.render.bind(Yo(a)),a.plugin.setPluginState({isInputMode:!0,files:[],folders:[],directories:[],filterInput:"",currentSelection:[],searchTerm:null}),a}return i(r,"SearchProviderView"),y$e(r,[{key:"tearDown",value:i(function(){},"tearDown")},{key:"clearSelection",value:i(function(){this.plugin.setPluginState({currentSelection:[],isInputMode:!0,files:[],searchTerm:null})},"clearSelection")},{key:"search",value:i(function(o){var a=this,u=this.plugin.getPluginState(),s=u.searchTerm;if(!(o&&o===s))return this.sharedHandler.loaderWrapper(this.provider.search(o),function(l){vG(a,rp)[rp](l,[])},this.handleError)},"search")},{key:"triggerSearchInput",value:i(function(){this.plugin.setPluginState({isInputMode:!0})},"triggerSearchInput")},{key:"handleScroll",value:function(){var n=d$e(QE().mark(i(function a(u){var s,l,f,d,y;return QE().wrap(i(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=this.nextPageQuery||null,!(this.shouldHandleScroll(u)&&s)){w.next=17;break}return this.isHandlingScroll=!0,w.prev=3,l=this.plugin.getPluginState(),f=l.files,d=l.searchTerm,w.next=7,this.provider.search(d,s);case 7:y=w.sent,vG(this,rp)[rp](y,f),w.next=14;break;case 11:w.prev=11,w.t0=w.catch(3),this.handleError(w.t0);case 14:return w.prev=14,this.isHandlingScroll=!1,w.finish(14);case 17:case"end":return w.stop()}},"_callee$"),a,this,[[3,11,14,17]])},"_callee")));function o(a){return n.apply(this,arguments)}return i(o,"handleScroll"),o}()},{key:"donePicking",value:i(function(){var o=this,a=this.plugin.getPluginState(),u=a.currentSelection,s=u.map(function(l){return o.addFile(l)});this.sharedHandler.loaderWrapper(Promise.all(s),function(){o.clearSelection()},function(){})},"donePicking")},{key:"render",value:i(function(o,a){var u=this;a===void 0&&(a={});var s=this.plugin.getPluginState(),l=s.didFirstRender,f=s.isInputMode,d=s.searchTerm;l||this.preFirstRender();var y=mm(mm({},this.opts),a),m=this.plugin.getPluginState(),w=m.files,_=m.folders,T=m.filterInput,R=m.loading,E=m.currentSelection,A=this.sharedHandler,k=A.isChecked,U=A.toggleCheckbox,G=A.filterItems,M=T!=="",z={isChecked:k,toggleCheckbox:U,currentSelection:E,files:M?G(w):w,folders:M?G(_):_,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:fG({search:this.search,i18n:this.plugin.uppy.i18n,searchTerm:d}),title:this.plugin.title,viewType:y.viewType,showTitles:y.showTitles,showFilter:y.showFilter,showBreadcrumbs:y.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:i(function(){var K;return(K=u.plugin.uppy).validateRestrictions.apply(K,arguments)},"validateRestrictions")};return R?O(Ko,{onUnmount:this.clearSelection},O(pm,{i18n:this.plugin.uppy.i18n})):f?O(Ko,{onUnmount:this.clearSelection},O(cG,{search:this.search,i18n:this.plugin.uppy.i18n})):O(Ko,{onUnmount:this.clearSelection},O(fm,z))},"render")}]),r}(hm);function P$e(t,e){this.nextPageQuery=t.nextPageQuery,t.items.forEach(function(r){e.push(r)}),this.plugin.setPluginState({isInputMode:!1,files:e,searchTerm:t.searchedFor})}i(P$e,"_updateFilesAndInputMode2");el.VERSION=_$e.version;function E$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(E$e,"_classCallCheck");function yG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(yG,"_defineProperties");function R$e(t,e,r){return e&&yG(t.prototype,e),r&&yG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(R$e,"_createClass");var mG;function oi(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(oi,"_classPrivateFieldLooseBase");var T$e=0;function tR(t){return"__private_"+T$e+++"_"+t}i(tR,"_classPrivateFieldLooseKey");var A$e={version:"3.0.0-beta.3"},I$e="uppy/STATE_UPDATE",q$e=i(function(e){return function(r){return r.uppy[e]}},"defaultSelector");function k$e(t,e){var r=Object.keys(e),n={};return r.forEach(function(o){t[o]!==e[o]&&(n[o]=e[o])}),n}i(k$e,"getPatch");var Gi=tR("id"),np=tR("selector"),Hi=tR("store");mG=Symbol.for("uppy test: get id");var gG=function(t){function e(r){E$e(this,e),Object.defineProperty(this,Gi,{writable:!0,value:void 0}),Object.defineProperty(this,np,{writable:!0,value:void 0}),Object.defineProperty(this,Hi,{writable:!0,value:void 0}),oi(this,Hi)[Hi]=r.store,oi(this,Gi)[Gi]=r.id||nn(),oi(this,np)[np]=r.selector||q$e(oi(this,Gi)[Gi]),this.setState({})}return i(e,"ReduxStore"),R$e(e,[{key:"setState",value:i(function(n){oi(this,Hi)[Hi].dispatch({type:I$e,id:oi(this,Gi)[Gi],payload:n})},"setState")},{key:"getState",value:i(function(){return oi(this,np)[np](oi(this,Hi)[Hi].getState())},"getState")},{key:"subscribe",value:i(function(n){var o=this,a=this.getState();return oi(this,Hi)[Hi].subscribe(function(){var u=o.getState();if(a!==u){var s=k$e(a,u);n(a,u,s),a=u}})},"subscribe")},{key:t,value:i(function(){return oi(this,Gi)[Gi]},"value")}]),e}(mG);gG.VERSION=A$e.version;var bG=gG;function rR(t){if(!t.bytesUploaded)return 0;var e=Date.now()-t.uploadStarted,r=t.bytesUploaded/(e/1e3);return r}i(rR,"getSpeed");function nR(t){return t.bytesTotal-t.bytesUploaded}i(nR,"getBytesRemaining");var _t={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};var cR=Re(Dr(),1);function ip(t){for(var e=[],r,n,o=0,a=Object.values(t);o<a.length;o++){var u=a[o].progress,s=u.preprocess,l=u.postprocess;if(n==null&&(s||l)){var f=s||l;r=f.mode,n=f.message}(s==null?void 0:s.mode)==="determinate"&&e.push(s.value),(l==null?void 0:l.mode)==="determinate"&&e.push(l.value)}var d=e.reduce(function(y,m){return y+m/e.length},0);return{mode:r,message:n,value:d}}i(ip,"calculateProcessingProgress");var uR=Re(Dr(),1),OG=Re(Rf(),1),aR=Re(By(),1);function iR(t){var e=Math.floor(t/3600)%24,r=Math.floor(t/60)%60,n=Math.floor(t%60);return{hours:e,minutes:r,seconds:n}}i(iR,"secondsToTime");function oR(t){var e=iR(t),r=e.hours===0?"":"".concat(e.hours,"h"),n=e.minutes===0?"":"".concat(e.hours===0?e.minutes:" ".concat(e.minutes.toString(10).padStart(2,"0")),"m"),o=e.hours!==0?"":"".concat(e.minutes===0?e.seconds:" ".concat(e.seconds.toString(10).padStart(2,"0")),"s");return"".concat(r).concat(n).concat(o)}i(oR,"prettyETA");var x$e="\xB7",wG=i(function(){return" ".concat(x$e," ")},"renderDot");function SG(t){var e=t.newFiles,r=t.isUploadStarted,n=t.recoveredState,o=t.i18n,a=t.uploadState,u=t.isSomeGhost,s=t.startUpload,l=(0,uR.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===_t.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":u}),f=e&&r&&!n?o("uploadXNewFiles",{smart_count:e}):o("uploadXFiles",{smart_count:e});return O("button",{type:"button",className:l,"aria-label":o("uploadXFiles",{smart_count:e}),onClick:s,disabled:u,"data-uppy-super-focusable":!0},f)}i(SG,"UploadBtn");function _G(t){var e=t.i18n,r=t.uppy;return O("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:i(function(){return r.retryAll()},"onClick"),"data-uppy-super-focusable":!0},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},O("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),e("retry"))}i(_G,"RetryBtn");function PG(t){var e=t.i18n,r=t.uppy;return O("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:i(function(){return r.cancelAll()},"onClick"),"data-cy":"cancel","data-uppy-super-focusable":!0},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},O("g",{fill:"none",fillRule:"evenodd"},O("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),O("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}i(PG,"CancelBtn");function EG(t){var e=t.isAllPaused,r=t.i18n,n=t.isAllComplete,o=t.resumableUploads,a=t.uppy,u=r(e?"resume":"pause");function s(){return n?null:o?e?a.resumeAll():a.pauseAll():a.cancelAll()}return i(s,"togglePauseResume"),O("button",{title:u,"aria-label":u,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:s,"data-uppy-super-focusable":!0},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},O("g",{fill:"none",fillRule:"evenodd"},O("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),O("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}i(EG,"PauseResumeButton");function RG(t){var e=t.i18n,r=t.doneButtonHandler;return O("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0},e("done"))}i(RG,"DoneBtn");function TG(){return O("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},O("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}i(TG,"LoadingSpinner");function AG(t){var e=t.progress,r=e.value,n=e.mode,o=e.message,a=Math.round(r*100),u="\xB7";return O("div",{className:"uppy-StatusBar-content"},O(TG,null),n==="determinate"?"".concat(a,"% ").concat(u," "):"",o)}i(AG,"ProgressBarProcessing");function C$e(t){var e=t.numUploads,r=t.complete,n=t.totalUploadedSize,o=t.totalSize,a=t.totalETA,u=t.i18n,s=e>1;return O("div",{className:"uppy-StatusBar-statusSecondary"},s&&u("filesUploadedOfTotal",{complete:r,smart_count:e}),O("span",{className:"uppy-StatusBar-additionalInfo"},s&&wG(),u("dataUploadedOfTotal",{complete:(0,aR.default)(n),total:(0,aR.default)(o)}),wG(),u("xTimeLeft",{time:oR(a)})))}i(C$e,"ProgressDetails");function IG(t){var e=t.i18n,r=t.complete,n=t.numUploads;return O("div",{className:"uppy-StatusBar-statusSecondary"},e("filesUploadedOfTotal",{complete:r,smart_count:n}))}i(IG,"FileUploadCount");function F$e(t){var e=t.i18n,r=t.newFiles,n=t.startUpload,o=(0,uR.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return O("div",{className:"uppy-StatusBar-statusSecondary"},O("div",{className:"uppy-StatusBar-statusSecondaryHint"},e("xMoreFilesAdded",{smart_count:r})),O("button",{type:"button",className:o,"aria-label":e("uploadXFiles",{smart_count:r}),onClick:n},e("upload")))}i(F$e,"UploadNewlyAddedFiles");var L$e=(0,OG.default)(C$e,500,{leading:!0,trailing:!0});function qG(t){var e=t.i18n,r=t.supportsUploadProgress,n=t.totalProgress,o=t.showProgressDetails,a=t.isUploadStarted,u=t.isAllComplete,s=t.isAllPaused,l=t.newFiles,f=t.numUploads,d=t.complete,y=t.totalUploadedSize,m=t.totalSize,w=t.totalETA,_=t.startUpload,T=l&&a;if(!a||u)return null;var R=e(s?"paused":"uploading");function E(){return!s&&!T&&o?r?O(L$e,{numUploads:f,complete:d,totalUploadedSize:y,totalSize:m,totalETA:w,i18n:e}):O(IG,{i18n:e,complete:d,numUploads:f}):null}return i(E,"renderProgressDetails"),O("div",{className:"uppy-StatusBar-content","aria-label":R,title:R},s?null:O(TG,null),O("div",{className:"uppy-StatusBar-status"},O("div",{className:"uppy-StatusBar-statusPrimary"},r?"".concat(R,": ").concat(n,"%"):R),E(),T?O(F$e,{i18n:e,newFiles:l,startUpload:_}):null))}i(qG,"ProgressBarUploading");function kG(t){var e=t.i18n;return O("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete")},O("div",{className:"uppy-StatusBar-status"},O("div",{className:"uppy-StatusBar-statusPrimary"},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},O("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),e("complete"))))}i(kG,"ProgressBarComplete");function xG(t){var e=t.error,r=t.i18n,n=t.complete,o=t.numUploads;function a(){var u="".concat(r("uploadFailed")," \n\n ").concat(e);alert(u)}return i(a,"displayErrorAlert"),O("div",{className:"uppy-StatusBar-content",title:r("uploadFailed")},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},O("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),O("div",{className:"uppy-StatusBar-status"},O("div",{className:"uppy-StatusBar-statusPrimary"},r("uploadFailed"),O("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button"},"?")),O(IG,{i18n:r,complete:n,numUploads:o})))}i(xG,"ProgressBarError");var CG=_t.STATE_ERROR,FG=_t.STATE_WAITING,sR=_t.STATE_PREPROCESSING,wm=_t.STATE_UPLOADING,lR=_t.STATE_POSTPROCESSING,Om=_t.STATE_COMPLETE;function fR(t){var e=t.newFiles,r=t.allowNewUpload,n=t.isUploadInProgress,o=t.isAllPaused,a=t.resumableUploads,u=t.error,s=t.hideUploadButton,l=t.hidePauseResumeButton,f=t.hideCancelButton,d=t.hideRetryButton,y=t.recoveredState,m=t.uploadState,w=t.totalProgress,_=t.files,T=t.supportsUploadProgress,R=t.hideAfterFinish,E=t.isSomeGhost,A=t.doneButtonHandler,k=t.isUploadStarted,U=t.i18n,G=t.startUpload,M=t.uppy,z=t.isAllComplete,W=t.showProgressDetails,K=t.numUploads,p=t.complete,c=t.totalSize,h=t.totalETA,v=t.totalUploadedSize;function g(){switch(m){case lR:case sR:{var Ct=ip(_);return Ct.mode==="determinate"?Ct.value*100:w}case CG:return null;case wm:return T?w:null;default:return w}}i(g,"getProgressValue");function b(){switch(m){case lR:case sR:{var Ct=ip(_),Jt=Ct.mode;return Jt==="indeterminate"}case wm:return!T;default:return!1}}i(b,"getIsIndeterminate");function P(){if(y)return!1;switch(m){case FG:return s||e===0;case Om:return R;default:return!1}}i(P,"getIsHidden");var x=g(),L=P(),S=x!=null?x:100,I=!u&&e&&!n&&!o&&r&&!s,N=!f&&m!==FG&&m!==Om,re=a&&!l&&m===wm,oe=u&&!z&&!d,Q=A&&m===Om,Y=(0,cR.default)("uppy-StatusBar-progress",{"is-indeterminate":b()}),Xt=(0,cR.default)("uppy-StatusBar","is-".concat(m),{"has-ghosts":E});return O("div",{className:Xt,"aria-hidden":L},O("div",{className:Y,style:{width:"".concat(S,"%")},role:"progressbar","aria-label":"".concat(S,"%"),"aria-valuetext":"".concat(S,"%"),"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":x}),function(){switch(m){case sR:case lR:return O(AG,{progress:ip(_)});case Om:return O(kG,{i18n:U});case CG:return O(xG,{error:u,i18n:U,numUploads:K,complete:p});case wm:return O(qG,{i18n:U,supportsUploadProgress:T,totalProgress:w,showProgressDetails:W,isUploadStarted:k,isAllComplete:z,isAllPaused:o,newFiles:e,numUploads:K,complete:p,totalUploadedSize:v,totalSize:c,totalETA:h,startUpload:G});default:return null}}(),O("div",{className:"uppy-StatusBar-actions"},y||I?O(SG,{newFiles:e,isUploadStarted:k,recoveredState:y,i18n:U,isSomeGhost:E,startUpload:G,uploadState:m}):null,oe?O(_G,{i18n:U,uppy:M}):null,re?O(EG,{isAllPaused:o,i18n:U,isAllComplete:z,resumableUploads:a,uppy:M}):null,N?O(PG,{i18n:U,uppy:M}):null,Q?O(RG,{i18n:U,doneButtonHandler:A}):null))}i(fR,"StatusBar");var LG={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function pR(t){return pR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pR(t)}i(pR,"_typeof");function jG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(jG,"ownKeys");function NG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jG(Object(r),!0).forEach(function(n){j$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(NG,"_objectSpread");function j$e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(j$e,"_defineProperty");function N$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(N$e,"_classCallCheck");function DG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(DG,"_defineProperties");function D$e(t,e,r){return e&&DG(t.prototype,e),r&&DG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(D$e,"_createClass");function U$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dR(t,e)}i(U$e,"_inherits");function dR(t,e){return dR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),dR(t,e)}i(dR,"_setPrototypeOf");function M$e(t){var e=$$e();return i(function(){var n=Sm(t),o;if(e){var a=Sm(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return B$e(this,o)},"_createSuperInternal")}i(M$e,"_createSuper");function B$e(t,e){if(e&&(pR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hR(t)}i(B$e,"_possibleConstructorReturn");function hR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(hR,"_assertThisInitialized");function $$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i($$e,"_isNativeReflectConstruct");function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Sm(t)}i(Sm,"_getPrototypeOf");var z$e={version:"3.0.0-beta.3"};function G$e(t){var e=0;return t.forEach(function(r){e+=rR(r.progress)}),e}i(G$e,"getTotalSpeed");function H$e(t){var e=G$e(t);if(e===0)return 0;var r=t.reduce(function(n,o){return n+nR(o.progress)},0);return Math.round(r/e*10)/10}i(H$e,"getTotalETA");function V$e(t,e,r,n){if(t&&!e)return _t.STATE_ERROR;if(e)return _t.STATE_COMPLETE;if(r)return _t.STATE_WAITING;for(var o=_t.STATE_WAITING,a=Object.keys(n),u=0;u<a.length;u++){var s=n[a[u]].progress;if(s.uploadStarted&&!s.uploadComplete)return _t.STATE_UPLOADING;s.preprocess&&o!==_t.STATE_UPLOADING&&(o=_t.STATE_PREPROCESSING),s.postprocess&&o!==_t.STATE_UPLOADING&&o!==_t.STATE_PREPROCESSING&&(o=_t.STATE_POSTPROCESSING)}return o}i(V$e,"getUploadingState");var tl=function(t){U$e(r,t);var e=M$e(r);function r(n,o){var a;N$e(this,r),a=e.call(this,n,o),a.startUpload=function(){var s=a.uppy.getState(),l=s.recoveredState;if(l){a.uppy.emit("restore-confirmed");return}return a.uppy.upload().catch(function(){})},a.id=a.opts.id||"StatusBar",a.title="StatusBar",a.type="progressindicator",a.defaultLocale=LG;var u={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};return a.opts=NG(NG({},u),o),a.i18nInit(),a.render=a.render.bind(hR(a)),a.install=a.install.bind(hR(a)),a}return i(r,"StatusBar"),D$e(r,[{key:"render",value:i(function(o){var a=o.capabilities,u=o.files,s=o.allowNewUpload,l=o.totalProgress,f=o.error,d=o.recoveredState,y=this.uppy.getObjectOfFilesPerState(),m=y.newFiles,w=y.startedFiles,_=y.completeFiles,T=y.inProgressNotPausedFiles,R=y.isUploadStarted,E=y.isAllComplete,A=y.isAllErrored,k=y.isAllPaused,U=y.isUploadInProgress,G=y.isSomeGhost,M=d?Object.values(u):m,z=H$e(T),W=!!a.resumableUploads,K=a.uploadProgress!==!1,p=0,c=0;return w.forEach(function(h){p+=h.progress.bytesTotal||0,c+=h.progress.bytesUploaded||0}),fR({error:f,uploadState:V$e(f,E,d,o.files||{}),allowNewUpload:s,totalProgress:l,totalSize:p,totalUploadedSize:c,isAllComplete:!1,isAllPaused:k,isAllErrored:A,isUploadStarted:R,isUploadInProgress:U,isSomeGhost:G,recoveredState:d,complete:_.length,newFiles:M.length,numUploads:w.length,totalETA:z,files:u,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:W,supportsUploadProgress:K,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})},"render")},{key:"onMount",value:i(function(){var o=this.el,a=Xy(o);a||(o.dir="ltr")},"onMount")},{key:"install",value:i(function(){var o=this.opts.target;o&&this.mount(o,this)},"install")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}]),r}(Se);tl.VERSION=z$e.version;function vR(t){return vR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vR(t)}i(vR,"_typeof");function W$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(W$e,"_classCallCheck");function UG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(UG,"_defineProperties");function K$e(t,e,r){return e&&UG(t.prototype,e),r&&UG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(K$e,"_createClass");function Y$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yR(t,e)}i(Y$e,"_inherits");function yR(t,e){return yR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),yR(t,e)}i(yR,"_setPrototypeOf");function X$e(t){var e=Z$e();return i(function(){var n=_m(t),o;if(e){var a=_m(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return J$e(this,o)},"_createSuperInternal")}i(X$e,"_createSuper");function J$e(t,e){if(e&&(vR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q$e(t)}i(J$e,"_possibleConstructorReturn");function Q$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Q$e,"_assertThisInitialized");function Z$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Z$e,"_isNativeReflectConstruct");function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),_m(t)}i(_m,"_getPrototypeOf");var MG=300,BG=function(t){Y$e(r,t);var e=X$e(r);function r(){var n;return W$e(this,r),n=e.apply(this,arguments),n.ref=rz(),n}return i(r,"FadeIn"),K$e(r,[{key:"componentWillEnter",value:i(function(o){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(o,MG)},"componentWillEnter")},{key:"componentWillLeave",value:i(function(o){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(o,MG)},"componentWillLeave")},{key:"render",value:i(function(){var o=this.props.children;return O("div",{className:"uppy-Informer-animated",ref:this.ref},o)},"render")}]),r}(Be);function mR(t){return mR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mR(t)}i(mR,"_typeof");var eze=["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"];function tze(t,e){return oze(t)||ize(t,e)||nze(t,e)||rze()}i(tze,"_slicedToArray");function rze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(rze,"_nonIterableRest");function nze(t,e){if(!!t){if(typeof t=="string")return $G(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $G(t,e)}}i(nze,"_unsupportedIterableToArray");function $G(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i($G,"_arrayLikeToArray");function ize(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],o=!0,a=!1,u,s;try{for(r=r.call(t);!(o=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));o=!0);}catch(l){a=!0,s=l}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw s}}return n}}i(ize,"_iterableToArrayLimit");function oze(t){if(Array.isArray(t))return t}i(oze,"_arrayWithHoles");function aze(t,e){if(t==null)return{};var r=uze(t,e),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}i(aze,"_objectWithoutProperties");function uze(t,e){if(t==null)return{};var r={},n=Object.keys(t),o,a;for(a=0;a<n.length;a++)o=n[a],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}i(uze,"_objectWithoutPropertiesLoose");function sze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(sze,"_classCallCheck");function zG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(zG,"_defineProperties");function lze(t,e,r){return e&&zG(t.prototype,e),r&&zG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(lze,"_createClass");function cze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gR(t,e)}i(cze,"_inherits");function gR(t,e){return gR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),gR(t,e)}i(gR,"_setPrototypeOf");function fze(t){var e=dze();return i(function(){var n=Em(t),o;if(e){var a=Em(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return pze(this,o)},"_createSuperInternal")}i(fze,"_createSuper");function pze(t,e){if(e&&(mR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pm(t)}i(pze,"_possibleConstructorReturn");function Pm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Pm,"_assertThisInitialized");function dze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(dze,"_isNativeReflectConstruct");function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Em(t)}i(Em,"_getPrototypeOf");function hze(t,e){return Object.assign(t,e)}i(hze,"assign");function vze(t,e){var r;return(r=t==null?void 0:t.key)!=null?r:e}i(vze,"getKey");function yze(t,e){var r=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return r[e]||(r[e]=function(n){t.refs[e]=n})}i(yze,"linkRef");function op(t){for(var e={},r=0;r<t.length;r++)if(t[r]!=null){var n=vze(t[r],r.toString(36));e[n]=t[r]}return e}i(op,"getChildMapping");function mze(t,e){t=t||{},e=e||{};var r=i(function(m){return e.hasOwnProperty(m)?e[m]:t[m]},"getValueForKey"),n={},o=[];for(var a in t)e.hasOwnProperty(a)?o.length&&(n[a]=o,o=[]):o.push(a);var u={};for(var s in e){if(n.hasOwnProperty(s))for(var l=0;l<n[s].length;l++){var f=n[s][l];u[n[s][l]]=r(f)}u[s]=r(s)}for(var d=0;d<o.length;d++)u[o[d]]=r(o[d]);return u}i(mze,"mergeChildMappings");var gze=i(function(e){return e},"identity"),GG=function(t){cze(r,t);var e=fze(r);function r(n,o){var a;return sze(this,r),a=e.call(this,n,o),a.refs={},a.state={children:op(an(an(a.props.children))||[])},a.performAppear=a.performAppear.bind(Pm(a)),a.performEnter=a.performEnter.bind(Pm(a)),a.performLeave=a.performLeave.bind(Pm(a)),a}return i(r,"TransitionGroup"),lze(r,[{key:"componentWillMount",value:i(function(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]},"componentWillMount")},{key:"componentDidMount",value:i(function(){var o=this.state.children;for(var a in o)o[a]&&this.performAppear(a)},"componentDidMount")},{key:"componentWillReceiveProps",value:i(function(o){var a=op(an(o.children)||[]),u=this.state.children;this.setState(function(d){return{children:mze(d.children,a)}});var s;for(s in a)if(a.hasOwnProperty(s)){var l=u&&u.hasOwnProperty(s);a[s]&&l&&this.currentlyTransitioningKeys[s]?(this.keysToEnter.push(s),this.keysToAbortLeave.push(s)):a[s]&&!l&&!this.currentlyTransitioningKeys[s]&&this.keysToEnter.push(s)}for(s in u)if(u.hasOwnProperty(s)){var f=a&&a.hasOwnProperty(s);u[s]&&!f&&!this.currentlyTransitioningKeys[s]&&this.keysToLeave.push(s)}},"componentWillReceiveProps")},{key:"componentDidUpdate",value:i(function(){var o=this.keysToEnter;this.keysToEnter=[],o.forEach(this.performEnter);var a=this.keysToLeave;this.keysToLeave=[],a.forEach(this.performLeave)},"componentDidUpdate")},{key:"_finishAbort",value:i(function(o){var a=this.keysToAbortLeave.indexOf(o);a!==-1&&this.keysToAbortLeave.splice(a,1)},"_finishAbort")},{key:"performAppear",value:i(function(o){this.currentlyTransitioningKeys[o]=!0;var a=this.refs[o];a.componentWillAppear?a.componentWillAppear(this._handleDoneAppearing.bind(this,o)):this._handleDoneAppearing(o)},"performAppear")},{key:"_handleDoneAppearing",value:i(function(o){var a=this.refs[o];a.componentDidAppear&&a.componentDidAppear(),delete this.currentlyTransitioningKeys[o],this._finishAbort(o);var u=op(an(this.props.children)||[]);(!u||!u.hasOwnProperty(o))&&this.performLeave(o)},"_handleDoneAppearing")},{key:"performEnter",value:i(function(o){this.currentlyTransitioningKeys[o]=!0;var a=this.refs[o];a.componentWillEnter?a.componentWillEnter(this._handleDoneEntering.bind(this,o)):this._handleDoneEntering(o)},"performEnter")},{key:"_handleDoneEntering",value:i(function(o){var a=this.refs[o];a.componentDidEnter&&a.componentDidEnter(),delete this.currentlyTransitioningKeys[o],this._finishAbort(o);var u=op(an(this.props.children)||[]);(!u||!u.hasOwnProperty(o))&&this.performLeave(o)},"_handleDoneEntering")},{key:"performLeave",value:i(function(o){var a=this.keysToAbortLeave.indexOf(o);if(a===-1){this.currentlyTransitioningKeys[o]=!0;var u=this.refs[o];u.componentWillLeave?u.componentWillLeave(this._handleDoneLeaving.bind(this,o)):this._handleDoneLeaving(o)}},"performLeave")},{key:"_handleDoneLeaving",value:i(function(o){var a=this.keysToAbortLeave.indexOf(o);if(a===-1){var u=this.refs[o];u.componentDidLeave&&u.componentDidLeave(),delete this.currentlyTransitioningKeys[o];var s=op(an(this.props.children)||[]);if(s&&s.hasOwnProperty(o))this.performEnter(o);else{var l=hze({},this.state.children);delete l[o],this.setState({children:l})}}},"_handleDoneLeaving")},{key:"render",value:i(function(o,a){var u=this,s=o.childFactory,l=o.transitionLeave,f=o.transitionName,d=o.transitionAppear,y=o.transitionEnter,m=o.transitionLeaveTimeout,w=o.transitionEnterTimeout,_=o.transitionAppearTimeout,T=o.component,R=aze(o,eze),E=a.children,A=Object.entries(E).map(function(k){var U=tze(k,2),G=U[0],M=U[1];if(!!M){var z=yze(u,G);return Yy(s(M),{ref:z,key:G})}}).filter(Boolean);return O(T,R,A)},"render")}]),r}(Be);GG.defaultProps={component:"span",childFactory:gze};var HG=GG;function bR(t){return bR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bR(t)}i(bR,"_typeof");function VG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(VG,"ownKeys");function WG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VG(Object(r),!0).forEach(function(n){bze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(WG,"_objectSpread");function bze(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(bze,"_defineProperty");function wze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(wze,"_classCallCheck");function KG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(KG,"_defineProperties");function Oze(t,e,r){return e&&KG(t.prototype,e),r&&KG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Oze,"_createClass");function Sze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wR(t,e)}i(Sze,"_inherits");function wR(t,e){return wR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),wR(t,e)}i(wR,"_setPrototypeOf");function _ze(t){var e=Rze();return i(function(){var n=Rm(t),o;if(e){var a=Rm(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Pze(this,o)},"_createSuperInternal")}i(_ze,"_createSuper");function Pze(t,e){if(e&&(bR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eze(t)}i(Pze,"_possibleConstructorReturn");function Eze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Eze,"_assertThisInitialized");function Rze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Rze,"_isNativeReflectConstruct");function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Rm(t)}i(Rm,"_getPrototypeOf");var Tze={version:"3.0.0-beta.3"},rl=function(t){Sze(r,t);var e=_ze(r);function r(n,o){var a;wze(this,r),a=e.call(this,n,o),a.render=function(s){return O("div",{className:"uppy uppy-Informer"},O(HG,null,s.info.map(function(l){return O(BG,{key:l.message},O("p",{role:"alert"},l.message," ",l.details&&O("span",{"aria-label":l.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:i(function(){return alert("".concat(l.message," \n\n ").concat(l.details))},"onClick")},"?")))})))},a.type="progressindicator",a.id=a.opts.id||"Informer",a.title="Informer";var u={};return a.opts=WG(WG({},u),o),a}return i(r,"Informer"),Oze(r,[{key:"install",value:i(function(){var o=this.opts.target;o&&this.mount(o,this)},"install")}]),r}(Se);rl.VERSION=Tze.version;var Aze=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function OR(t,e,r){var n,o,a=Aze.exec(t),u=(n=(o=e.mimeType)!=null?o:a==null?void 0:a[1])!=null?n:"plain/text",s;if(a[2]!=null){for(var l=atob(decodeURIComponent(a[3])),f=new Uint8Array(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);s=[f]}else s=[decodeURIComponent(a[3])];return r?new File(s,e.name||"",{type:u}):new Blob(s,{type:u})}i(OR,"dataURItoBlob");function Tm(t){return t.startsWith("blob:")}i(Tm,"isObjectURL");var kH=Re(EH(),1);var RH={strings:{generatingThumbnails:"Generating thumbnails..."}};function MR(t){return MR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MR(t)}i(MR,"_typeof");function Qze(t,e){return rGe(t)||tGe(t,e)||eGe(t,e)||Zze()}i(Qze,"_slicedToArray");function Zze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(Zze,"_nonIterableRest");function eGe(t,e){if(!!t){if(typeof t=="string")return TH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TH(t,e)}}i(eGe,"_unsupportedIterableToArray");function TH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(TH,"_arrayLikeToArray");function tGe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],o=!0,a=!1,u,s;try{for(r=r.call(t);!(o=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));o=!0);}catch(l){a=!0,s=l}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw s}}return n}}i(tGe,"_iterableToArrayLimit");function rGe(t){if(Array.isArray(t))return t}i(rGe,"_arrayWithHoles");function AH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(AH,"ownKeys");function IH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AH(Object(r),!0).forEach(function(n){nGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(IH,"_objectSpread");function nGe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(nGe,"_defineProperty");function iGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(iGe,"_classCallCheck");function qH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(qH,"_defineProperties");function oGe(t,e,r){return e&&qH(t.prototype,e),r&&qH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(oGe,"_createClass");function aGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BR(t,e)}i(aGe,"_inherits");function BR(t,e){return BR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),BR(t,e)}i(BR,"_setPrototypeOf");function uGe(t){var e=cGe();return i(function(){var n=Dm(t),o;if(e){var a=Dm(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return sGe(this,o)},"_createSuperInternal")}i(uGe,"_createSuper");function sGe(t,e){if(e&&(MR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lGe(t)}i(sGe,"_possibleConstructorReturn");function lGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(lGe,"_assertThisInitialized");function cGe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(cGe,"_isNativeReflectConstruct");function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Dm(t)}i(Dm,"_getPrototypeOf");var fGe={version:"3.0.0-beta.2"};function pGe(t,e,r){try{t.getContext("2d").getImageData(0,0,1,1)}catch(n){if(n.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(function(n){t.toBlob(n,e,r)}).then(function(n){if(n===null)throw new Error("cannot read image, probably an svg with external resources");return n}):Promise.resolve().then(function(){return OR(t.toDataURL(e,r),{})}).then(function(n){if(n===null)throw new Error("could not extract blob, probably an old browser");return n})}i(pGe,"canvasToBlob");function dGe(t,e){var r=t.width,n=t.height;(e.deg===90||e.deg===270)&&(r=t.height,n=t.width);var o=document.createElement("canvas");o.width=r,o.height=n;var a=o.getContext("2d");return a.translate(r/2,n/2),e.canvas&&(a.rotate(e.rad),a.scale(e.scaleX,e.scaleY)),a.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),o}i(dGe,"rotateImage");function hGe(t){var e=t.width/t.height,r=5e6,n=4096,o=Math.floor(Math.sqrt(r*e)),a=Math.floor(r/Math.sqrt(r*e));if(o>n&&(o=n,a=Math.round(o/e)),a>n&&(a=n,o=Math.round(e*a)),t.width>o){var u=document.createElement("canvas");return u.width=o,u.height=a,u.getContext("2d").drawImage(t,0,0,o,a),u}return t}i(hGe,"protect");var cp=function(t){aGe(r,t);var e=uGe(r);function r(n,o){var a;iGe(this,r),a=e.call(this,n,o),a.onFileAdded=function(s){!s.preview&&s.data&&Zs(s.type)&&!s.isRemote&&a.addToQueue(s.id)},a.onCancelRequest=function(s){var l=a.queue.indexOf(s.id);l!==-1&&a.queue.splice(l,1)},a.onFileRemoved=function(s){var l=a.queue.indexOf(s.id);l!==-1&&a.queue.splice(l,1),s.preview&&Tm(s.preview)&&URL.revokeObjectURL(s.preview)},a.onRestored=function(){var s=a.uppy.getFiles().filter(function(l){return l.isRestored});s.forEach(function(l){(!l.preview||Tm(l.preview))&&a.addToQueue(l.id)})},a.onAllFilesRemoved=function(){a.queue=[]},a.waitUntilAllProcessed=function(s){s.forEach(function(f){var d=a.uppy.getFile(f);a.uppy.emit("preprocess-progress",d,{mode:"indeterminate",message:a.i18n("generatingThumbnails")})});var l=i(function(){s.forEach(function(d){var y=a.uppy.getFile(d);a.uppy.emit("preprocess-complete",y)})},"emitPreprocessCompleteForAll");return new Promise(function(f){a.queueProcessing?a.uppy.once("thumbnail:all-generated",function(){l(),f()}):(l(),f())})},a.type="modifier",a.id=a.opts.id||"ThumbnailGenerator",a.title="Thumbnail Generator",a.queue=[],a.queueProcessing=!1,a.defaultThumbnailDimension=200,a.thumbnailType=a.opts.thumbnailType||"image/jpeg",a.defaultLocale=RH;var u={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(a.opts=IH(IH({},u),o),a.i18nInit(),a.opts.lazy&&a.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return a}return i(r,"ThumbnailGenerator"),oGe(r,[{key:"createThumbnail",value:i(function(o,a,u){var s=this,l=URL.createObjectURL(o.data),f=new Promise(function(y,m){var w=new Image;w.src=l,w.addEventListener("load",function(){URL.revokeObjectURL(l),y(w)}),w.addEventListener("error",function(_){URL.revokeObjectURL(l),m(_.error||new Error("Could not create thumbnail"))})}),d=(0,kH.rotation)(o.data).catch(function(){return 1});return Promise.all([f,d]).then(function(y){var m=Qze(y,2),w=m[0],_=m[1],T=s.getProportionalDimensions(w,a,u,_.deg),R=dGe(w,_),E=s.resizeImage(R,T.width,T.height);return pGe(E,s.thumbnailType,80)}).then(function(y){return URL.createObjectURL(y)})},"createThumbnail")},{key:"getProportionalDimensions",value:i(function(o,a,u,s){var l=o.width/o.height;return(s===90||s===270)&&(l=o.height/o.width),a!=null?{width:a,height:Math.round(a/l)}:u!=null?{width:Math.round(u*l),height:u}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/l)}},"getProportionalDimensions")},{key:"resizeImage",value:i(function(o,a,u){var s=hGe(o),l=Math.ceil(Math.log2(s.width/a));l<1&&(l=1);for(var f=a*Math.pow(2,l-1),d=u*Math.pow(2,l-1),y=2;l--;){var m=document.createElement("canvas");m.width=f,m.height=d,m.getContext("2d").drawImage(s,0,0,f,d),s=m,f=Math.round(f/y),d=Math.round(d/y)}return s},"resizeImage")},{key:"setPreviewURL",value:i(function(o,a){this.uppy.setFileState(o,{preview:a})},"setPreviewURL")},{key:"addToQueue",value:i(function(o){this.queue.push(o),this.queueProcessing===!1&&this.processQueue()},"addToQueue")},{key:"processQueue",value:i(function(){var o=this;if(this.queueProcessing=!0,this.queue.length>0){var a=this.uppy.getFile(this.queue.shift());return a?this.requestThumbnail(a).catch(function(){}).then(function(){return o.processQueue()}):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()},"processQueue")},{key:"requestThumbnail",value:i(function(o){var a=this;return Zs(o.type)&&!o.isRemote?this.createThumbnail(o,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(function(u){a.setPreviewURL(o.id,u),a.uppy.log("[ThumbnailGenerator] Generated thumbnail for ".concat(o.id)),a.uppy.emit("thumbnail:generated",a.uppy.getFile(o.id),u)}).catch(function(u){a.uppy.log("[ThumbnailGenerator] Failed thumbnail for ".concat(o.id,":"),"warning"),a.uppy.log(u,"warning"),a.uppy.emit("thumbnail:error",a.uppy.getFile(o.id),u)}):Promise.resolve()},"requestThumbnail")},{key:"install",value:i(function(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)},"install")},{key:"uninstall",value:i(function(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)},"uninstall")}]),r}(Se);cp.VERSION=fGe.version;function $R(t){return $R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$R(t)}i($R,"_typeof");function Um(t){if(typeof t=="string"){var e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return $R(t)==="object"&&Bf(t)?[t]:null}i(Um,"findAllDOMElements");var Pt=Array.from;function zR(t){return!t.fullPath||t.fullPath==="/".concat(t.name)?null:t.fullPath}i(zR,"getRelativePath");function xH(t){return gGe(t)||mGe(t)||yGe(t)||vGe()}i(xH,"_toConsumableArray");function vGe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(vGe,"_nonIterableSpread");function yGe(t,e){if(!!t){if(typeof t=="string")return GR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GR(t,e)}}i(yGe,"_unsupportedIterableToArray");function mGe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(mGe,"_iterableToArray");function gGe(t){if(Array.isArray(t))return GR(t)}i(gGe,"_arrayWithoutHoles");function GR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(GR,"_arrayLikeToArray");function Mm(t,e,r,n){var o=n.onSuccess;t.readEntries(function(a){var u=[].concat(xH(e),xH(a));a.length?queueMicrotask(function(){Mm(t,u,r,{onSuccess:o})}):o(u)},function(a){r(a),o(e)})}i(Mm,"getFilesAndDirectoriesFromDirectory");function HR(t){return HR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HR(t)}i(HR,"_typeof");function bGe(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=wGe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,o=i(function(){},"F");return{s:o,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return a=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!a&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(bGe,"_createForOfIteratorHelper");function wGe(t,e){if(!!t){if(typeof t=="string")return CH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CH(t,e)}}i(wGe,"_unsupportedIterableToArray");function CH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(CH,"_arrayLikeToArray");function FH(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(FH,"asyncGeneratorStep");function OGe(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){FH(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){FH(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(OGe,"_asyncToGenerator");function Vi(){"use strict";Vi=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&HR(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(Vi,"_regeneratorRuntime");function KR(t){return function(){return new fp(t.apply(this,arguments))}}i(KR,"_wrapAsyncGenerator");function fp(t){var e,r;function n(u,s){return new Promise(function(l,f){var d={key:u,arg:s,resolve:l,reject:f,next:null};r?r=r.next=d:(e=r=d,o(u,s))})}i(n,"send");function o(u,s){try{var l=t[u](s),f=l.value,d=f instanceof LH;Promise.resolve(d?f.wrapped:f).then(function(y){if(d){o(u==="return"?"return":"next",y);return}a(l.done?"return":"normal",y)},function(y){o("throw",y)})}catch(y){a("throw",y)}}i(o,"resume");function a(u,s){switch(u){case"return":e.resolve({value:s,done:!0});break;case"throw":e.reject(s);break;default:e.resolve({value:s,done:!1});break}e=e.next,e?o(e.key,e.arg):r=null}i(a,"settle"),this._invoke=n,typeof t.return!="function"&&(this.return=void 0)}i(fp,"_AsyncGenerator");fp.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this};fp.prototype.next=function(t){return this._invoke("next",t)};fp.prototype.throw=function(t){return this._invoke("throw",t)};fp.prototype.return=function(t){return this._invoke("return",t)};function Qo(t){return new LH(t)}i(Qo,"_awaitAsyncGenerator");function LH(t){this.wrapped=t}i(LH,"_AwaitValue");function $m(t){var e,r,n,o=2;for(typeof Symbol!="undefined"&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&(e=t[r])!=null)return e.call(t);if(n&&(e=t[n])!=null)return new Bm(e.call(t));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}i($m,"_asyncIterator");function Bm(t){function e(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var n=r.done;return Promise.resolve(r.value).then(function(o){return{value:o,done:n}})}return i(e,"AsyncFromSyncIteratorContinuation"),Bm=i(function(n){this.s=n,this.n=n.next},"AsyncFromSyncIterator"),Bm.prototype={s:null,n:null,next:i(function(){return e(this.n.apply(this.s,arguments))},"next"),return:i(function(n){var o=this.s.return;return o===void 0?Promise.resolve({value:n,done:!0}):e(o.apply(this.s,arguments))},"_return"),throw:i(function(n){var o=this.s.return;return o===void 0?Promise.reject(n):e(o.apply(this.s,arguments))},"_throw")},new Bm(t)}i(Bm,"AsyncFromSyncIterator");function YR(t,e){var r={},n=!1;function o(a,u){return n=!0,u=new Promise(function(s){s(t[a](u))}),{done:!1,value:e(u)}}return i(o,"pump"),r[typeof Symbol!="undefined"&&Symbol.iterator||"@@iterator"]=function(){return this},r.next=function(a){return n?(n=!1,a):o("next",a)},typeof t.throw=="function"&&(r.throw=function(a){if(n)throw n=!1,a;return o("throw",a)}),typeof t.return=="function"&&(r.return=function(a){return n?(n=!1,a):o("return",a)}),r}i(YR,"_asyncGeneratorDelegate");function jH(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,getFile:i(function(){return new Promise(function(n,o){return t.file(n,o)})},"getFile"),values:i(function(){return KR(Vi().mark(i(function n(){var o,a;return Vi().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:return o=t.createReader(),s.next=3,Qo(new Promise(function(l){Mm(o,[],e,{onSuccess:i(function(d){return l(d.map(function(y){return jH(y,e)}))},"onSuccess")})}));case 3:return a=s.sent,s.delegateYield(YR($m(a),Qo),"t0",5);case 5:case"end":return s.stop()}},"_callee$"),n)},"_callee")))()},"values")}}i(jH,"getAsFileSystemHandleFromEntry");function NH(t){return VR.apply(this,arguments)}i(NH,"createPromiseToAddFileOrParseDirectory");function VR(){return VR=KR(Vi().mark(i(function t(e){var r,n,o,a,u,s,l;return Vi().wrap(i(function(d){for(;;)switch(d.prev=d.next){case 0:if(e.kind!=="file"){d.next=10;break}return d.next=3,Qo(e.getFile());case 3:if(r=d.sent,r===null){d.next=8;break}return r.relativePath=zR(e),d.next=8,r;case 8:d.next=39;break;case 10:if(e.kind!=="directory"){d.next=39;break}n=!1,o=!1,d.prev=13,u=$m(e.values());case 15:return d.next=17,Qo(u.next());case 17:if(!(n=!(s=d.sent).done)){d.next=23;break}return l=s.value,d.delegateYield(YR($m(NH(l)),Qo),"t0",20);case 20:n=!1,d.next=15;break;case 23:d.next=29;break;case 25:d.prev=25,d.t1=d.catch(13),o=!0,a=d.t1;case 29:if(d.prev=29,d.prev=30,!(n&&u.return!=null)){d.next=34;break}return d.next=34,Qo(u.return());case 34:if(d.prev=34,!o){d.next=37;break}throw a;case 37:return d.finish(34);case 38:return d.finish(29);case 39:case"end":return d.stop()}},"_callee2$"),t,null,[[13,25,29,39],[30,,34,38]])},"_callee2"))),VR.apply(this,arguments)}i(VR,"_createPromiseToAddFileOrParseDirectory");function XR(t,e){return WR.apply(this,arguments)}i(XR,"getFilesFromDataTransfer");function WR(){return WR=KR(Vi().mark(i(function t(e,r){var n,o,a,u,s,l;return Vi().wrap(i(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Qo(Promise.all(Array.from(e.items,function(){var y=OGe(Vi().mark(i(function m(w){var _,T,R;return Vi().wrap(i(function(A){for(;;)switch(A.prev=A.next){case 0:return T=w.getAsFile(),A.next=3,w.getAsFileSystemHandle==null?void 0:w.getAsFileSystemHandle();case 3:if(A.t0=_=A.sent,A.t0==null){A.next=8;break}A.t1=_,A.next=9;break;case 8:A.t1=jH(w.webkitGetAsEntry(),r);case 9:return R=A.t1,A.abrupt("return",{lastResortFile:T,entry:R});case 11:case"end":return A.stop()}},"_callee3$"),m)},"_callee3")));return function(m){return y.apply(this,arguments)}}())));case 2:n=d.sent,o=bGe(n),d.prev=4,o.s();case 6:if((a=o.n()).done){d.next=23;break}if(u=a.value,s=u.lastResortFile,l=u.entry,l==null){d.next=21;break}return d.prev=9,d.delegateYield(YR($m(NH(l,r)),Qo),"t0",11);case 11:d.next=21;break;case 13:if(d.prev=13,d.t1=d.catch(9),!s){d.next=20;break}return d.next=18,s;case 18:d.next=21;break;case 20:r(d.t1);case 21:d.next=6;break;case 23:d.next=28;break;case 25:d.prev=25,d.t2=d.catch(4),o.e(d.t2);case 28:return d.prev=28,o.f(),d.finish(28);case 31:case"end":return d.stop()}},"_callee4$"),t,null,[[4,25,28,31],[9,13]])},"_callee4"))),WR.apply(this,arguments)}i(WR,"_getFilesFromDataTransfer");function JR(t){var e=Pt(t.files);return Promise.resolve(e)}i(JR,"fallbackApi");function QR(t){return QR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QR(t)}i(QR,"_typeof");function ZR(){"use strict";ZR=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&QR(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(ZR,"_regeneratorRuntime");function DH(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(DH,"asyncGeneratorStep");function SGe(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){DH(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){DH(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(SGe,"_asyncToGenerator");function _Ge(t){var e,r,n,o=2;for(typeof Symbol!="undefined"&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&(e=t[r])!=null)return e.call(t);if(n&&(e=t[n])!=null)return new zm(e.call(t));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}i(_Ge,"_asyncIterator");function zm(t){function e(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var n=r.done;return Promise.resolve(r.value).then(function(o){return{value:o,done:n}})}return i(e,"AsyncFromSyncIteratorContinuation"),zm=i(function(n){this.s=n,this.n=n.next},"AsyncFromSyncIterator"),zm.prototype={s:null,n:null,next:i(function(){return e(this.n.apply(this.s,arguments))},"next"),return:i(function(n){var o=this.s.return;return o===void 0?Promise.resolve({value:n,done:!0}):e(o.apply(this.s,arguments))},"_return"),throw:i(function(n){var o=this.s.return;return o===void 0?Promise.reject(n):e(o.apply(this.s,arguments))},"_throw")},new zm(t)}i(zm,"AsyncFromSyncIterator");function su(t,e){return eT.apply(this,arguments)}i(su,"getDroppedFiles");function eT(){return eT=SGe(ZR().mark(i(function t(e,r){var n,o,a,u,s,l,f,d,y,m;return ZR().wrap(i(function(_){for(;;)switch(_.prev=_.next){case 0:n=r===void 0?{}:r,o=n.logDropError,a=o===void 0?function(){}:o,_.prev=1,u=[],s=!1,l=!1,_.prev=5,d=_Ge(XR(e,a));case 7:return _.next=9,d.next();case 9:if(!(s=!(y=_.sent).done)){_.next=15;break}m=y.value,u.push(m);case 12:s=!1,_.next=7;break;case 15:_.next=21;break;case 17:_.prev=17,_.t0=_.catch(5),l=!0,f=_.t0;case 21:if(_.prev=21,_.prev=22,!(s&&d.return!=null)){_.next=26;break}return _.next=26,d.return();case 26:if(_.prev=26,!l){_.next=29;break}throw f;case 29:return _.finish(26);case 30:return _.finish(21);case 31:return _.abrupt("return",u);case 34:return _.prev=34,_.t1=_.catch(1),_.abrupt("return",JR(e));case 37:case"end":return _.stop()}},"_callee$"),t,null,[[1,34],[5,17,21,31],[22,,26,30]])},"_callee"))),eT.apply(this,arguments)}i(eT,"_getDroppedFiles");var UH=Number.isNaN||i(function(e){return typeof e=="number"&&e!==e},"ponyfill");function PGe(t,e){return!!(t===e||UH(t)&&UH(e))}i(PGe,"isEqual");function EGe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!PGe(t[r],e[r]))return!1;return!0}i(EGe,"areInputsEqual");function tT(t,e){e===void 0&&(e=EGe);var r=null;function n(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(r&&r.lastThis===this&&e(o,r.lastArgs))return r.lastResult;var u=t.apply(this,o);return r={lastResult:u,lastArgs:o,lastThis:this},u}return i(n,"memoized"),n.clear=i(function(){r=null},"clear"),n}i(tT,"memoizeOne");var al=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function pp(t,e){if(e){var r=t.querySelector('[data-uppy-paneltype="'.concat(e,'"]'));if(r)return r}return t}i(pp,"getActiveOverlayEl");function MH(t,e){var r=e[0];r&&(r.focus(),t.preventDefault())}i(MH,"focusOnFirstNode");function RGe(t,e){var r=e[e.length-1];r&&(r.focus(),t.preventDefault())}i(RGe,"focusOnLastNode");function TGe(t){return t.contains(document.activeElement)}i(TGe,"isFocusInOverlay");function rT(t,e,r){var n=pp(r,e),o=Pt(n.querySelectorAll(al)),a=o.indexOf(document.activeElement);TGe(n)?t.shiftKey&&a===0?RGe(t,o):!t.shiftKey&&a===o.length-1&&MH(t,o):MH(t,o)}i(rT,"trapFocus");function BH(t,e,r){e===null||rT(t,e,r)}i(BH,"forInline");var VH=Re(HH(),1);function oT(){var t=!1,e=i(function(n,o){var a=pp(n,o),u=a.contains(document.activeElement);if(!(u&&t)){var s=a.querySelector("[data-uppy-super-focusable]");if(!(u&&!s))if(s)s.focus({preventScroll:!0}),t=!0;else{var l=a.querySelector(al);l==null||l.focus({preventScroll:!0}),t=!1}}},"superFocus");return(0,VH.default)(e,260)}i(oT,"createSuperFocus");var AV=Re(Dr(),1);function dp(){var t=document.body;return!(!("draggable"in t)||!("ondragstart"in t&&"ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}i(dp,"isDragDropSupported");var aV=Re(Dr(),1);var eV=Re(Dr(),1),tV=Re(KH(),1);function VGe(){return O("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},O("g",{fill:"#686DE0",fillRule:"evenodd"},O("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),O("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),O("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}i(VGe,"iconImage");function WGe(){return O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},O("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}i(WGe,"iconAudio");function KGe(){return O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},O("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}i(KGe,"iconVideo");function YGe(){return O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},O("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}i(YGe,"iconPDF");function XGe(){return O("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},O("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}i(XGe,"iconArchive");function JGe(){return O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},O("g",{fill:"#A7AFB7",fillRule:"nonzero"},O("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),O("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}i(JGe,"iconFile");function QGe(){return O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},O("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}i(QGe,"iconText");function cu(t){var e={color:"#838999",icon:JGe()};if(!t)return e;var r=t.split("/")[0],n=t.split("/")[1];if(r==="text")return{color:"#5a5e69",icon:QGe()};if(r==="image")return{color:"#686de0",icon:VGe()};if(r==="audio")return{color:"#068dbb",icon:WGe()};if(r==="video")return{color:"#19af67",icon:KGe()};if(r==="application"&&n==="pdf")return{color:"#e25149",icon:YGe()};var o=["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"];return r==="application"&&o.indexOf(n)!==-1?{color:"#00C469",icon:XGe()}:e}i(cu,"getIconByMime");function hp(t){var e=t.file;if(e.preview)return O("img",{className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});var r=cu(e.type),n=r.color,o=r.icon;return O("div",{className:"uppy-Dashboard-Item-previewIconWrap"},O("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:n}},o),O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},O("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}i(hp,"FilePreview");var ZGe=i(function(e,r){var n=r.filter(function(o){return o.id===e});return n[0].name},"metaFieldIdToName");function vp(t){var e=t.file,r=t.toggleFileCard,n=t.i18n,o=t.metaFields,a=e.missingRequiredMetaFields;if(!(a!=null&&a.length))return null;var u=a.map(function(s){return ZGe(s,o)}).join(", ");return O("div",{className:"uppy-Dashboard-Item-errorMessage"},n("missingRequiredMetaFields",{smart_count:a.length,fields:u})," ",O("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:i(function(){return r(!0,e.id)},"onClick")},n("editFile")))}i(vp,"renderMissingMetaFieldsError");function aT(t){return O("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:cu(t.file.type).color}},t.showLinkToFileUploadResult&&t.file.uploadURL&&O("a",{className:"uppy-Dashboard-Item-previewLink",href:t.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.file.meta.name},O("span",{hidden:!0},t.file.meta.name)),O(hp,{file:t.file}),O(vp,{file:t.file,i18n:t.i18n,toggleFileCard:t.toggleFileCard,metaFields:t.metaFields}))}i(aT,"FilePreviewAndLink");function eHe(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}i(eHe,"onPauseResumeCancelRetry");function YH(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}i(YH,"progressIndicatorTitle");function uT(t){return O("div",{className:"uppy-Dashboard-Item-progress"},O("button",{className:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":YH(t),title:YH(t),onClick:i(function(){return eHe(t)},"onClick")},t.children))}i(uT,"ProgressIndicatorButton");function Gm(t){var e=t.children;return O("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},e)}i(Gm,"ProgressCircleContainer");function sT(t){var e=t.progress,r=2*Math.PI*15;return O("g",null,O("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),O("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":r,"stroke-dashoffset":r-r/100*e}))}i(sT,"ProgressCircle");function lT(t){if(!t.file.progress.uploadStarted)return null;if(t.isUploaded)return O("div",{className:"uppy-Dashboard-Item-progress"},O("div",{className:"uppy-Dashboard-Item-progressIndicator"},O(Gm,null,O("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),O("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!t.recoveredState)return t.error&&!t.hideRetryButton?O(uT,t,O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},O("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),O("path",{d:"M7.9 3H10v2H7.9z"}),O("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),O("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):t.resumableUploads&&!t.hidePauseResumeButton?O(uT,t,O(Gm,null,O(sT,{progress:t.file.progress.percentage}),t.file.isPaused?O("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):O("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},O("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),O("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?O(uT,t,O(Gm,null,O(sT,{progress:t.file.progress.percentage}),O("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):O("div",{className:"uppy-Dashboard-Item-progress"},O("div",{className:"uppy-Dashboard-Item-progressIndicator"},O(Gm,null,O(sT,{progress:t.file.progress.percentage}))))}i(lT,"FileProgress");var QH=Re(JH(),1);var fT="...";function Hm(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=fT.length+1)return"".concat(t.slice(0,e-1),"\u2026");var r=e-fT.length,n=Math.ceil(r/2),o=Math.floor(r/2);return t.slice(0,n)+fT+t.slice(-o)}i(Hm,"truncateString");var tHe=i(function(e){var r=e.file.meta,n=r.author,o=r.name;function a(){return e.containerWidth<=352?35:e.containerWidth<=576?60:n?20:30}return i(a,"getMaxNameLength"),O("div",{className:"uppy-Dashboard-Item-name",title:o},Hm(o,a()))},"renderFileName"),rHe=i(function(e){var r=e.file.meta.author,n=e.file.remote.providerName,o="\xB7";return r?O("div",{className:"uppy-Dashboard-Item-author"},O("a",{href:"".concat(r.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer"},Hm(r.name,13)),n?O(ri,null," ".concat(o," "),n," ".concat(o," ")):null):null},"renderAuthor"),nHe=i(function(e){return e.file.size&&O("div",{className:"uppy-Dashboard-Item-statusSize"},(0,QH.default)(e.file.size))},"renderFileSize"),iHe=i(function(e){return e.file.isGhost&&O("span",null," \u2022 ",O("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect")))},"ReSelectButton"),oHe=i(function(e){var r=e.file,n=e.onClick;return r.error?O("button",{className:"uppy-u-reset uppy-Dashboard-Item-errorDetails","aria-label":r.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:n,type:"button"},"?"):null},"ErrorButton");function pT(t){var e=t.file;return O("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source},O("div",{className:"uppy-Dashboard-Item-fileName"},tHe(t),O(oHe,{file:t.file,onClick:i(function(){return alert(t.file.error)},"onClick")})),O("div",{className:"uppy-Dashboard-Item-status"},rHe(t),nHe(t),iHe(t)),O(vp,{file:t.file,i18n:t.i18n,toggleFileCard:t.toggleFileCard,metaFields:t.metaFields}))}i(pT,"FileInfo");function dT(t,e){return e===void 0&&(e="Copy the URL below"),new Promise(function(r){var n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=t,document.body.appendChild(n),n.select();var o=i(function(){document.body.removeChild(n),window.prompt(e,t),r()},"magicCopyFailed");try{var a=document.execCommand("copy");return a?(document.body.removeChild(n),r()):o("copy command unavailable")}catch(u){return document.body.removeChild(n),o(u)}})}i(dT,"copyToClipboard");function aHe(t){var e=t.file,r=t.uploadInProgressOrComplete,n=t.metaFields,o=t.canEditFile,a=t.i18n,u=t.onClick;return!r&&n&&n.length>0||!r&&o(e)?O("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":a("editFileWithFilename",{file:e.meta.name}),title:a("editFileWithFilename",{file:e.meta.name}),onClick:i(function(){return u()},"onClick")},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},O("g",{fillRule:"evenodd"},O("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),O("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),O("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}i(aHe,"EditButton");function uHe(t){var e=t.i18n,r=t.onClick,n=t.file;return O("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:n.meta.name}),title:e("removeFile",{file:n.meta.name}),onClick:i(function(){return r()},"onClick")},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},O("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),O("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}i(uHe,"RemoveButton");var sHe=i(function(e,r){dT(r.file.uploadURL,r.i18n("copyLinkToClipboardFallback")).then(function(){r.uppy.log("Link copied to clipboard."),r.uppy.info(r.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(r.uppy.log).then(function(){return e.target.focus({preventScroll:!0})})},"copyLinkToClipboard");function lHe(t){var e=t.i18n;return O("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":e("copyLink"),title:e("copyLink"),onClick:i(function(n){return sHe(n,t)},"onClick")},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},O("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}i(lHe,"CopyLinkButton");function hT(t){var e=t.uppy,r=t.file,n=t.uploadInProgressOrComplete,o=t.canEditFile,a=t.metaFields,u=t.showLinkToFileUploadResult,s=t.showRemoveButton,l=t.i18n,f=t.toggleFileCard,d=t.openFileEditor,y=i(function(){a&&a.length>0?f(!0,r.id):d(r)},"editAction");return O("div",{className:"uppy-Dashboard-Item-actionWrapper"},O(aHe,{i18n:l,file:r,uploadInProgressOrComplete:n,canEditFile:o,metaFields:a,onClick:y}),u&&r.uploadURL?O(lHe,{file:r,uppy:e,i18n:l}):null,s?O(uHe,{i18n:l,file:r,uppy:e,onClick:i(function(){return t.uppy.removeFile(r.id,"removed-by-user")},"onClick")}):null)}i(hT,"Buttons");function vT(t){return vT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vT(t)}i(vT,"_typeof");function cHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(cHe,"_classCallCheck");function ZH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(ZH,"_defineProperties");function fHe(t,e,r){return e&&ZH(t.prototype,e),r&&ZH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(fHe,"_createClass");function pHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yT(t,e)}i(pHe,"_inherits");function yT(t,e){return yT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),yT(t,e)}i(yT,"_setPrototypeOf");function dHe(t){var e=yHe();return i(function(){var n=Vm(t),o;if(e){var a=Vm(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return hHe(this,o)},"_createSuperInternal")}i(dHe,"_createSuper");function hHe(t,e){if(e&&(vT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vHe(t)}i(hHe,"_possibleConstructorReturn");function vHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(vHe,"_assertThisInitialized");function yHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(yHe,"_isNativeReflectConstruct");function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Vm(t)}i(Vm,"_getPrototypeOf");var rV=function(t){pHe(r,t);var e=dHe(r);function r(){return cHe(this,r),e.apply(this,arguments)}return i(r,"FileItem"),fHe(r,[{key:"componentDidMount",value:i(function(){var o=this.props.file;o.preview||this.props.handleRequestThumbnail(o)},"componentDidMount")},{key:"shouldComponentUpdate",value:i(function(o){return!(0,tV.default)(this.props,o)},"shouldComponentUpdate")},{key:"componentDidUpdate",value:i(function(){var o=this.props.file;o.preview||this.props.handleRequestThumbnail(o)},"componentDidUpdate")},{key:"componentWillUnmount",value:i(function(){var o=this.props.file;o.preview||this.props.handleCancelThumbnail(o)},"componentWillUnmount")},{key:"render",value:i(function(){var o=this.props.file,a=o.progress.preprocess||o.progress.postprocess,u=o.progress.uploadComplete&&!a&&!o.error,s=o.progress.uploadStarted||a,l=o.progress.uploadStarted&&!o.progress.uploadComplete||a,f=o.error||!1,d=o.isGhost,y=(this.props.individualCancellation||!l)&&!u;u&&this.props.showRemoveButtonAfterComplete&&(y=!0);var m=(0,eV.default)({"uppy-Dashboard-Item":!0,"is-inprogress":l&&!this.props.recoveredState,"is-processing":a,"is-complete":u,"is-error":!!f,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":d});return O("div",{className:m,id:"uppy_".concat(o.id),role:this.props.role},O("div",{className:"uppy-Dashboard-Item-preview"},O(aT,{file:o,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),O(lT,{uppy:this.props.uppy,file:o,error:f,isUploaded:u,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),O("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},O(pT,{file:o,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),O(hT,{file:o,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:y,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:s,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))},"render")}]),r}(Be);function mT(t){return mT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mT(t)}i(mT,"_typeof");var mHe=["data","rowHeight","renderRow","overscanCount"];function nV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(nV,"ownKeys");function Wm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nV(Object(r),!0).forEach(function(n){gHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Wm,"_objectSpread");function gHe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(gHe,"_defineProperty");function bHe(t,e){if(t==null)return{};var r=wHe(t,e),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}i(bHe,"_objectWithoutProperties");function wHe(t,e){if(t==null)return{};var r={},n=Object.keys(t),o,a;for(a=0;a<n.length;a++)o=n[a],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}i(wHe,"_objectWithoutPropertiesLoose");function OHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(OHe,"_classCallCheck");function iV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(iV,"_defineProperties");function SHe(t,e,r){return e&&iV(t.prototype,e),r&&iV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(SHe,"_createClass");function _He(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gT(t,e)}i(_He,"_inherits");function gT(t,e){return gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),gT(t,e)}i(gT,"_setPrototypeOf");function PHe(t){var e=THe();return i(function(){var n=Km(t),o;if(e){var a=Km(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return EHe(this,o)},"_createSuperInternal")}i(PHe,"_createSuper");function EHe(t,e){if(e&&(mT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RHe(t)}i(EHe,"_possibleConstructorReturn");function RHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(RHe,"_assertThisInitialized");function THe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(THe,"_isNativeReflectConstruct");function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Km(t)}i(Km,"_getPrototypeOf");function bT(){return bT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bT.apply(this,arguments)}i(bT,"_extends");var AHe={position:"relative",width:"100%",minHeight:"100%"},IHe={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},qHe=function(t){_He(r,t);var e=PHe(r);function r(n){var o;return OHe(this,r),o=e.call(this,n),o.handleScroll=function(){o.setState({offset:o.base.scrollTop})},o.handleResize=function(){o.resize()},o.focusElement=null,o.state={offset:0,height:0},o}return i(r,"VirtualList"),SHe(r,[{key:"componentDidMount",value:i(function(){this.resize(),window.addEventListener("resize",this.handleResize)},"componentDidMount")},{key:"componentWillUpdate",value:i(function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)},"componentWillUpdate")},{key:"componentDidUpdate",value:i(function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()},"componentDidUpdate")},{key:"componentWillUnmount",value:i(function(){window.removeEventListener("resize",this.handleResize)},"componentWillUnmount")},{key:"resize",value:i(function(){var o=this.state.height;o!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})},"resize")},{key:"render",value:i(function(o){var a=o.data,u=o.rowHeight,s=o.renderRow,l=o.overscanCount,f=l===void 0?10:l,d=bHe(o,mHe),y=this.state,m=y.offset,w=y.height,_=Math.floor(m/u),T=Math.floor(w/u);f&&(_=Math.max(0,_-_%f),T+=f);var R=_+T+4,E=a.slice(_,R),A=Wm(Wm({},AHe),{},{height:a.length*u}),k=Wm(Wm({},IHe),{},{top:_*u});return O("div",bT({onScroll:this.handleScroll},d),O("div",{role:"presentation",style:A},O("div",{role:"presentation",style:k},E.map(s))))},"render")}]),r}(Be),oV=qHe;function wT(){return wT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wT.apply(this,arguments)}i(wT,"_extends");function kHe(t,e){var r=[],n=[];return t.forEach(function(o){n.length<e?n.push(o):(r.push(n),n=[o])}),n.length&&r.push(n),r}i(kHe,"chunks");var uV=i(function(t){var e=t.totalFileCount===0,r=(0,aV.default)("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":e}),n=t.itemsPerRow===1?71:200,o={id:t.id,error:t.error,i18n:t.i18n,uppy:t.uppy,acquirers:t.acquirers,resumableUploads:t.resumableUploads,individualCancellation:t.individualCancellation,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,isWide:t.isWide,metaFields:t.metaFields,recoveredState:t.recoveredState,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail},a=i(function(d,y){return t.files[y].isGhost-t.files[d].isGhost},"sortByGhostComesFirst"),u=Object.keys(t.files);t.recoveredState&&u.sort(a);var s=kHe(u,t.itemsPerRow),l=i(function(d){return O("div",{role:"presentation",key:d[0]},d.map(function(y){return O(rV,wT({key:y,uppy:t.uppy},o,{role:"listitem",openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,file:t.files[y]}))}))},"renderRow");return O(oV,{class:r,role:"list",data:s,renderRow:l,rowHeight:n})},"default");function OT(t){return OT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OT(t)}i(OT,"_typeof");function xHe(t){return jHe(t)||LHe(t)||FHe(t)||CHe()}i(xHe,"_toConsumableArray");function CHe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(CHe,"_nonIterableSpread");function FHe(t,e){if(!!t){if(typeof t=="string")return ST(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ST(t,e)}}i(FHe,"_unsupportedIterableToArray");function LHe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(LHe,"_iterableToArray");function jHe(t){if(Array.isArray(t))return ST(t)}i(jHe,"_arrayWithoutHoles");function ST(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(ST,"_arrayLikeToArray");function NHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(NHe,"_classCallCheck");function sV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(sV,"_defineProperties");function DHe(t,e,r){return e&&sV(t.prototype,e),r&&sV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(DHe,"_createClass");function UHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_T(t,e)}i(UHe,"_inherits");function _T(t,e){return _T=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),_T(t,e)}i(_T,"_setPrototypeOf");function MHe(t){var e=zHe();return i(function(){var n=Ym(t),o;if(e){var a=Ym(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return BHe(this,o)},"_createSuperInternal")}i(MHe,"_createSuper");function BHe(t,e){if(e&&(OT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $He(t)}i(BHe,"_possibleConstructorReturn");function $He(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i($He,"_assertThisInitialized");function zHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(zHe,"_isNativeReflectConstruct");function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Ym(t)}i(Ym,"_getPrototypeOf");var lV;lV=Symbol.for("uppy test: disable unused locale key warning");var GHe=function(t,e){UHe(n,t);var r=MHe(n);function n(){var o;return NHe(this,n),o=r.apply(this,arguments),o.triggerFileInputClick=function(){o.fileInput.click()},o.triggerFolderInputClick=function(){o.folderInput.click()},o.triggerVideoCameraInputClick=function(){o.mobileVideoFileInput.click()},o.triggerPhotoCameraInputClick=function(){o.mobilePhotoFileInput.click()},o.onFileInputChange=function(a){o.props.handleInputChange(a),a.target.value=null},o.renderHiddenInput=function(a,u){return O("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:a,type:"file",name:"files[]",multiple:o.props.maxNumberOfFiles!==1,onChange:o.onFileInputChange,accept:o.props.allowedFileTypes,ref:u})},o.renderHiddenCameraInput=function(a,u){var s={photo:"image/*",video:"video/*"},l=s[a];return O("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:"camera-".concat(a),onChange:o.onFileInputChange,capture:"user",accept:l,ref:u})},o.renderMyDeviceAcquirer=function(){return O("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},O("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:o.triggerFileInputClick},O("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},O("g",{fill:"none",fillRule:"evenodd"},O("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),O("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),O("div",{className:"uppy-DashboardTab-name"},o.props.i18n("myDevice"))))},o.renderPhotoCamera=function(){return O("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},O("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:o.triggerPhotoCameraInputClick},O("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},O("g",{fill:"none",fillRule:"evenodd"},O("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),O("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"}))),O("div",{className:"uppy-DashboardTab-name"},o.props.i18n("takePictureBtn"))))},o.renderVideoCamera=function(){return O("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},O("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:o.triggerVideoCameraInputClick},O("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},O("rect",{fill:"#1abc9c",width:"32",height:"32",rx:"16"}),O("path",{fill:"#FFF",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})),O("div",{className:"uppy-DashboardTab-name"},o.props.i18n("recordVideoBtn"))))},o.renderBrowseButton=function(a,u){var s=o.props.acquirers.length;return O("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:u,"data-uppy-super-focusable":s===0},a)},o.renderDropPasteBrowseTagline=function(){var a=o.props.acquirers.length,u=o.renderBrowseButton(o.props.i18n("browseFiles"),o.triggerFileInputClick),s=o.renderBrowseButton(o.props.i18n("browseFolders"),o.triggerFolderInputClick),l=o.props.fileManagerSelectionType,f=l.charAt(0).toUpperCase()+l.slice(1);return O("div",{class:"uppy-Dashboard-AddFiles-title"},o.props.disableLocalFiles?o.props.i18n("importFiles"):a>0?o.props.i18nArray("dropPasteImport".concat(f),{browseFiles:u,browseFolders:s,browse:u}):o.props.i18nArray("dropPaste".concat(f),{browseFiles:u,browseFolders:s,browse:u}))},o.renderAcquirer=function(a){return O("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":a.id},O("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":a.id,"aria-controls":"uppy-DashboardContent-panel--".concat(a.id),"aria-selected":o.props.activePickerPanel.id===a.id,"data-uppy-super-focusable":!0,onClick:i(function(){return o.props.showPanel(a.id)},"onClick")},a.icon(),O("div",{className:"uppy-DashboardTab-name"},a.name)))},o.renderAcquirers=function(a){var u=xHe(a),s=u.splice(a.length-2,a.length);return O(ri,null,u.map(function(l){return o.renderAcquirer(l)}),O("span",{role:"presentation",style:{"white-space":"nowrap"}},s.map(function(l){return o.renderAcquirer(l)})))},o.renderSourcesList=function(a,u){var s=o.props,l=s.showNativePhotoCameraButton,f=s.showNativeVideoCameraButton;return O("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!u&&o.renderMyDeviceAcquirer(),!u&&l&&o.renderPhotoCamera(),!u&&f&&o.renderVideoCamera(),a.length>0&&o.renderAcquirers(a))},o}return i(n,"AddFiles"),DHe(n,[{key:e,value:i(function(){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")},"value")},{key:"renderPoweredByUppy",value:i(function(){var a=this.props.i18nArray,u=O("span",null,O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},O("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),O("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),s=a("poweredBy",{uppy:u});return O("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},s)},"renderPoweredByUppy")},{key:"render",value:i(function(){var a=this,u=this.props,s=u.showNativePhotoCameraButton,l=u.showNativeVideoCameraButton;return O("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,function(f){a.fileInput=f}),this.renderHiddenInput(!0,function(f){a.folderInput=f}),s&&this.renderHiddenCameraInput("photo",function(f){a.mobilePhotoFileInput=f}),l&&this.renderHiddenCameraInput("video",function(f){a.mobileVideoFileInput=f}),this.renderDropPasteBrowseTagline(),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),O("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&O("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))},"render")}]),n}(Be,lV),Xm=GHe;var cV=Re(Dr(),1);var HHe=i(function(e){return O("div",{className:(0,cV.default)("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":e.showAddFilesPanel},O("div",{className:"uppy-DashboardContent-bar"},O("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),O("button",{className:"uppy-DashboardContent-back",type:"button",onClick:i(function(){return e.toggleAddFilesPanel(!1)},"onClick")},e.i18n("back"))),O(Xm,e))},"AddFilesPanel"),fV=HHe;var pV=Re(Dr(),1);function VHe(t){var e=t.target.tagName;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}i(VHe,"ignoreEvent");var ui=VHe;function WHe(t){var e=t.activePickerPanel,r=t.className,n=t.hideAllPanels,o=t.i18n,a=t.state,u=t.uppy;return O("div",{className:(0,pV.default)("uppy-DashboardContent-panel",r),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--".concat(e.id),onDragOver:ui,onDragLeave:ui,onDrop:ui,onPaste:ui},O("div",{className:"uppy-DashboardContent-bar"},O("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},o("importFrom",{name:e.name})),O("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n},o("cancel"))),O("div",{className:"uppy-DashboardContent-panelBody"},u.getPlugin(e.id).render(a)))}i(WHe,"PickerPanelContent");var dV=WHe;var hV=Re(Dr(),1);function KHe(t){var e=t.files[t.fileCardFor];return O("div",{className:(0,hV.default)("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},O("div",{className:"uppy-DashboardContent-bar"},O("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18nArray("editing",{file:O("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),O("button",{className:"uppy-DashboardContent-back",type:"button",onClick:t.hideAllPanels},t.i18n("cancel")),O("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor},t.i18n("save"))),O("div",{className:"uppy-DashboardContent-panelBody"},t.editors.map(function(r){return t.uppy.getPlugin(r.id).render(t.state)})))}i(KHe,"EditorPanel");var vV=KHe;var si={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function YHe(t,e,r,n){if(n===void 0&&(n={}),t)return si.STATE_ERROR;if(e)return si.STATE_COMPLETE;if(r)return si.STATE_PAUSED;for(var o=si.STATE_WAITING,a=Object.keys(n),u=0;u<a.length;u++){var s=n[a[u]].progress;if(s.uploadStarted&&!s.uploadComplete)return si.STATE_UPLOADING;s.preprocess&&o!==si.STATE_UPLOADING&&(o=si.STATE_PREPROCESSING),s.postprocess&&o!==si.STATE_UPLOADING&&o!==si.STATE_PREPROCESSING&&(o=si.STATE_POSTPROCESSING)}return o}i(YHe,"getUploadingState");function XHe(t){var e=t.files,r=t.i18n,n=t.isAllComplete,o=t.isAllErrored,a=t.isAllPaused,u=t.inProgressNotPausedFiles,s=t.newFiles,l=t.processingFiles,f=YHe(o,n,a,e);switch(f){case"uploading":return r("uploadingXFiles",{smart_count:u.length});case"preprocessing":case"postprocessing":return r("processingXFiles",{smart_count:l.length});case"paused":return r("uploadPaused");case"waiting":return r("xFilesSelected",{smart_count:s.length});case"complete":return r("uploadComplete");default:}}i(XHe,"UploadStatus");function JHe(t){var e=t.i18n,r=t.isAllComplete,n=t.hideCancelButton,o=t.maxNumberOfFiles,a=t.toggleAddFilesPanel,u=t.uppy,s=t.allowNewUpload;return s&&o&&(s=t.totalFileCount<t.maxNumberOfFiles),O("div",{className:"uppy-DashboardContent-bar"},!r&&!n?O("button",{className:"uppy-DashboardContent-back",type:"button",onClick:i(function(){return u.cancelAll()},"onClick")},e("cancel")):O("div",null),O("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},O(XHe,t)),s?O("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:i(function(){return a(!0)},"onClick")},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},O("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),O("span",{className:"uppy-DashboardContent-addMoreCaption"},e("addMore"))):O("div",null))}i(JHe,"PanelTopBar");var yV=JHe;var OV=Re(Dr(),1);function PT(t){return PT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PT(t)}i(PT,"_typeof");function mV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(mV,"ownKeys");function gV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(r),!0).forEach(function(n){wV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(gV,"_objectSpread");function wV(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(wV,"_defineProperty");function QHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(QHe,"_classCallCheck");function bV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(bV,"_defineProperties");function ZHe(t,e,r){return e&&bV(t.prototype,e),r&&bV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(ZHe,"_createClass");function eVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ET(t,e)}i(eVe,"_inherits");function ET(t,e){return ET=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),ET(t,e)}i(ET,"_setPrototypeOf");function tVe(t){var e=iVe();return i(function(){var n=Jm(t),o;if(e){var a=Jm(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return rVe(this,o)},"_createSuperInternal")}i(tVe,"_createSuper");function rVe(t,e){if(e&&(PT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nVe(t)}i(rVe,"_possibleConstructorReturn");function nVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(nVe,"_assertThisInitialized");function iVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(iVe,"_isNativeReflectConstruct");function Jm(t){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Jm(t)}i(Jm,"_getPrototypeOf");var oVe=function(t){eVe(r,t);var e=tVe(r);function r(n){var o;QHe(this,r),o=e.call(this,n),o.form=document.createElement("form"),o.updateMeta=function(l,f){o.setState(function(d){var y=d.formState;return{formState:gV(gV({},y),{},wV({},f,l))}})},o.handleSave=function(l){l.preventDefault();var f=o.props.fileCardFor;o.props.saveFileCard(o.state.formState,f)},o.handleCancel=function(){var l=o.props.files[o.props.fileCardFor];o.props.uppy.emit("file-editor:cancel",l),o.props.toggleFileCard(!1)},o.saveOnEnter=function(l){if(l.keyCode===13){l.stopPropagation(),l.preventDefault();var f=o.props.files[o.props.fileCardFor];o.props.saveFileCard(o.state.formState,f.id)}},o.renderMetaFields=function(){var l=o.getMetaFields()||[],f={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return l.map(function(d){var y="uppy-Dashboard-FileCard-input-".concat(d.id),m=o.props.requiredMetaFields.includes(d.id);return O("fieldset",{key:d.id,className:"uppy-Dashboard-FileCard-fieldset"},O("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:y},d.name),d.render!==void 0?d.render({value:o.state.formState[d.id],onChange:i(function(_){return o.updateMeta(_,d.id)},"onChange"),fieldCSSClasses:f,required:m,form:o.form.id},O):O("input",{className:f.text,id:y,form:o.form.id,type:d.type||"text",required:m,value:o.state.formState[d.id],placeholder:d.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:o.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:o.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:o.saveOnEnter,onInput:i(function(_){return o.updateMeta(_.target.value,d.id)},"onInput"),"data-uppy-super-focusable":!0}))})};var a=o.props.files[o.props.fileCardFor],u=o.getMetaFields()||[],s={};return u.forEach(function(l){s[l.id]=a.meta[l.id]||""}),o.state={formState:s},o.form.id=nn(),o}return i(r,"FileCard"),ZHe(r,[{key:"componentWillMount",value:i(function(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)},"componentWillMount")},{key:"componentWillUnmount",value:i(function(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)},"componentWillUnmount")},{key:"getMetaFields",value:i(function(){return typeof this.props.metaFields=="function"?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields},"getMetaFields")},{key:"render",value:i(function(){var o=this,a=this.props.files[this.props.fileCardFor],u=this.props.canEditFile(a);return O("div",{className:(0,OV.default)("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:ui,onDragLeave:ui,onDrop:ui,onPaste:ui},O("div",{className:"uppy-DashboardContent-bar"},O("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:O("span",{className:"uppy-DashboardContent-titleFile"},a.meta?a.meta.name:a.name)})),O("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),O("div",{className:"uppy-Dashboard-FileCard-inner"},O("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:cu(a.type).color}},O(hp,{file:a}),u&&O("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:i(function(l){o.handleSave(l),o.props.openFileEditor(a)},"onClick"),form:this.form.id},this.props.i18n("editFile"))),O("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),O("div",{className:"uppy-Dashboard-FileCard-actions"},O("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),O("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))},"render")}]),r}(Be),SV=oVe;var EV=Re(Dr(),1);function RT(t){return RT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RT(t)}i(RT,"_typeof");function aVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(aVe,"_classCallCheck");function _V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(_V,"_defineProperties");function uVe(t,e,r){return e&&_V(t.prototype,e),r&&_V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(uVe,"_createClass");function sVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TT(t,e)}i(sVe,"_inherits");function TT(t,e){return TT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),TT(t,e)}i(TT,"_setPrototypeOf");function lVe(t){var e=pVe();return i(function(){var n=Qm(t),o;if(e){var a=Qm(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cVe(this,o)},"_createSuperInternal")}i(lVe,"_createSuper");function cVe(t,e){if(e&&(RT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fVe(t)}i(cVe,"_possibleConstructorReturn");function fVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(fVe,"_assertThisInitialized");function pVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(pVe,"_isNativeReflectConstruct");function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Qm(t)}i(Qm,"_getPrototypeOf");var ul="uppy-transition-slideDownUp",PV=250,dVe=function(t){sVe(r,t);var e=lVe(r);function r(n){var o;return aVe(this,r),o=e.call(this,n),o.state={cachedChildren:null,className:""},o}return i(r,"Slide"),uVe(r,[{key:"componentWillUpdate",value:i(function(o){var a=this,u=this.state.cachedChildren,s=an(o.children)[0];if(u===s)return null;var l={cachedChildren:s};s&&!u&&(l.className="".concat(ul,"-enter"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){a.setState({className:"".concat(ul,"-enter ").concat(ul,"-enter-active")}),a.enterTimeout=setTimeout(function(){a.setState({className:""})},PV)})),u&&!s&&this.leaveTimeout===void 0&&(l.cachedChildren=u,l.className="".concat(ul,"-leave"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){a.setState({className:"".concat(ul,"-leave ").concat(ul,"-leave-active")}),a.leaveTimeout=setTimeout(function(){a.setState({cachedChildren:null,className:""})},PV)})),this.setState(l)},"componentWillUpdate")},{key:"render",value:i(function(){var o=this.state,a=o.cachedChildren,u=o.className;return a?Yy(a,{className:(0,EV.default)(u,a.props.className)}):null},"render")}]),r}(Be),yp=dVe;function Zo(){return Zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zo.apply(this,arguments)}i(Zo,"_extends");var RV=900,TV=700,AT=576,hVe=400;function IT(t){var e=t.totalFileCount===0,r=t.containerWidth>AT,n=(0,AV.default)({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>AT,"uppy-size--lg":t.containerWidth>TV,"uppy-size--xl":t.containerWidth>RV,"uppy-size--height-md":t.containerHeight>hVe,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible}),o=1;t.containerWidth>RV?o=5:t.containerWidth>TV?o=4:t.containerWidth>AT&&(o=3);var a=t.showSelectedFiles&&!e,u=t.recoveredState?Object.keys(t.recoveredState.files).length:null,s=t.files?Object.keys(t.files).filter(function(d){return t.files[d].isGhost}).length:null,l=i(function(){return s>0?t.i18n("recoveredXFiles",{smart_count:s}):t.i18n("recoveredAllFiles")},"renderRestoredText"),f=O("div",{className:n,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&dp(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop},O("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),O("div",{className:"uppy-Dashboard-inner","aria-modal":!t.inline&&"true",role:!t.inline&&"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""}},t.inline?null:O("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal},O("span",{"aria-hidden":"true"},"\xD7")),O("div",{className:"uppy-Dashboard-innerWrap"},O("div",{className:"uppy-Dashboard-dropFilesHereHint"},t.i18n("dropHint")),a&&O(yV,t),u&&O("div",{className:"uppy-Dashboard-serviceMsg"},O("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},O("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},O("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),O("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),O("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),O("strong",{className:"uppy-Dashboard-serviceMsg-title"},t.i18n("sessionRestored")),O("div",{className:"uppy-Dashboard-serviceMsg-text"},l())),a?O(uV,Zo({},t,{itemsPerRow:o})):O(Xm,Zo({},t,{isSizeMD:r})),O(yp,null,t.showAddFilesPanel?O(fV,Zo({key:"AddFiles"},t,{isSizeMD:r})):null),O(yp,null,t.fileCardFor?O(SV,Zo({key:"FileCard"},t)):null),O(yp,null,t.activePickerPanel?O(dV,Zo({key:"Picker"},t)):null),O(yp,null,t.showFileEditor?O(vV,Zo({key:"Editor"},t)):null),O("div",{className:"uppy-Dashboard-progressindicators"},t.progressindicators.map(function(d){return t.uppy.getPlugin(d.id).render(t.state)})))));return f}i(IT,"Dashboard");var IV={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function Zm(t){return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}i(Zm,"_typeof");function FT(){"use strict";FT=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&Zm(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(FT,"_regeneratorRuntime");function qV(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(qV,"asyncGeneratorStep");function vVe(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){qV(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){qV(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(vVe,"_asyncToGenerator");function kV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(kV,"ownKeys");function ea(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kV(Object(r),!0).forEach(function(n){LV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(ea,"_objectSpread");function LV(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(LV,"_defineProperty");function xV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(xV,"_defineProperties");function yVe(t,e,r){return e&&xV(t.prototype,e),r&&xV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(yVe,"_createClass");function mVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(mVe,"_classCallCheck");function gVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LT(t,e)}i(gVe,"_inherits");function LT(t,e){return LT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),LT(t,e)}i(LT,"_setPrototypeOf");function bVe(t){var e=OVe();return i(function(){var n=eg(t),o;if(e){var a=eg(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return wVe(this,o)},"_createSuperInternal")}i(bVe,"_createSuper");function wVe(t,e){if(e&&(Zm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ot(t)}i(wVe,"_possibleConstructorReturn");function ot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(ot,"_assertThisInitialized");function OVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(OVe,"_isNativeReflectConstruct");function eg(t){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),eg(t)}i(eg,"_getPrototypeOf");function un(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(un,"_classPrivateFieldLooseBase");var SVe=0;function sl(t){return"__private_"+SVe+++"_"+t}i(sl,"_classPrivateFieldLooseKey");var _Ve={version:"3.0.0-beta.4"},qT=tT.default||tT,CV=9,PVe=27;function FV(){var t={};return t.promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),t}i(FV,"createPromise");function EVe(){return O("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},O("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}i(EVe,"defaultPickerIcon");var mp=sl("openFileEditorWhenFilesAdded"),fu=sl("attachRenderFunctionToTarget"),kT=sl("isTargetSupported"),xT=sl("getAcquirers"),CT=sl("getProgressIndicators"),Wi=sl("getEditors"),ll=function(t){gVe(r,t);var e=bVe(r);function r(n,o){var a;mVe(this,r);var u;a=e.call(this,n,o),u=ot(a),a.removeTarget=function(l){var f=a.getPluginState(),d=f.targets.filter(function(y){return y.id!==l.id});a.setPluginState({targets:d})},a.addTarget=function(l){var f=l.id||l.constructor.name,d=l.title||f,y=l.type;if(y!=="acquirer"&&y!=="progressindicator"&&y!=="editor"){var m="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";a.uppy.log(m,"error");return}var w={id:f,name:d,type:y},_=a.getPluginState(),T=_.targets.slice();return T.push(w),a.setPluginState({targets:T}),a.el},a.hideAllPanels=function(){var l=a.getPluginState(),f={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};l.activePickerPanel===f.activePickerPanel&&l.showAddFilesPanel===f.showAddFilesPanel&&l.showFileEditor===f.showFileEditor&&l.activeOverlayType===f.activeOverlayType||a.setPluginState(f)},a.showPanel=function(l){var f=a.getPluginState(),d=f.targets,y=d.filter(function(m){return m.type==="acquirer"&&m.id===l})[0];a.setPluginState({activePickerPanel:y,activeOverlayType:"PickerPanel"})},a.canEditFile=function(l){var f=a.getPluginState(),d=f.targets,y=un(ot(a),Wi)[Wi](d);return y.some(function(m){return a.uppy.getPlugin(m.id).canEditFile(l)})},a.openFileEditor=function(l){var f=a.getPluginState(),d=f.targets,y=un(ot(a),Wi)[Wi](d);a.setPluginState({showFileEditor:!0,fileCardFor:l.id||null,activeOverlayType:"FileEditor"}),y.forEach(function(m){a.uppy.getPlugin(m.id).selectFile(l)})},a.saveFileEditor=function(){var l=a.getPluginState(),f=l.targets,d=un(ot(a),Wi)[Wi](f);d.forEach(function(y){a.uppy.getPlugin(y.id).save()}),a.hideAllPanels()},a.openModal=function(){var l=FV(),f=l.promise,d=l.resolve;if(a.savedScrollPosition=window.pageYOffset,a.savedActiveElement=document.activeElement,a.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),a.opts.animateOpenClose&&a.getPluginState().isClosing){var y=i(function m(){a.setPluginState({isHidden:!1}),a.el.removeEventListener("animationend",m,!1),d()},"handler");a.el.addEventListener("animationend",y,!1)}else a.setPluginState({isHidden:!1}),d();return a.opts.browserBackButtonClose&&a.updateBrowserHistory(),document.addEventListener("keydown",a.handleKeyDownInModal),a.uppy.emit("dashboard:modal-open"),f},a.closeModal=function(l){l===void 0&&(l={});var f=l,d=f.manualClose,y=d===void 0?!0:d,m=u.getPluginState(),w=m.isHidden,_=m.isClosing;if(!(w||_)){var T=FV(),R=T.promise,E=T.resolve;if(u.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),u.opts.animateOpenClose){u.setPluginState({isClosing:!0});var A=i(function U(){u.setPluginState({isHidden:!0,isClosing:!1}),u.superFocus.cancel(),u.savedActiveElement.focus(),u.el.removeEventListener("animationend",U,!1),E()},"handler");u.el.addEventListener("animationend",A,!1)}else u.setPluginState({isHidden:!0}),u.superFocus.cancel(),u.savedActiveElement.focus(),E();if(document.removeEventListener("keydown",u.handleKeyDownInModal),y&&u.opts.browserBackButtonClose){var k;(k=history.state)!=null&&k[u.modalName]&&history.back()}return u.uppy.emit("dashboard:modal-closed"),R}},a.isModalOpen=function(){return!a.getPluginState().isHidden||!1},a.requestCloseModal=function(){return a.opts.onRequestCloseModal?a.opts.onRequestCloseModal():a.closeModal()},a.setDarkModeCapability=function(l){var f=a.uppy.getState(),d=f.capabilities;a.uppy.setState({capabilities:ea(ea({},d),{},{darkMode:l})})},a.handleSystemDarkModeChange=function(l){var f=l.matches;a.uppy.log("[Dashboard] Dark mode is ".concat(f?"on":"off")),a.setDarkModeCapability(f)},a.toggleFileCard=function(l,f){var d=a.uppy.getFile(f);l?a.uppy.emit("dashboard:file-edit-start",d):a.uppy.emit("dashboard:file-edit-complete",d),a.setPluginState({fileCardFor:l?f:null,activeOverlayType:l?"FileCard":null})},a.toggleAddFilesPanel=function(l){a.setPluginState({showAddFilesPanel:l,activeOverlayType:l?"AddFiles":null})},a.addFiles=function(l){var f=l.map(function(d){return{source:a.id,name:d.name,type:d.type,data:d,meta:{relativePath:d.relativePath||d.webkitRelativePath||null}}});try{a.uppy.addFiles(f)}catch(d){a.uppy.log(d)}},a.startListeningToResize=function(){a.resizeObserver=new ResizeObserver(function(l){var f=l[0],d=f.contentRect,y=d.width,m=d.height;a.uppy.log("[Dashboard] resized: ".concat(y," / ").concat(m),"debug"),a.setPluginState({containerWidth:y,containerHeight:m,areInsidesReadyToBeVisible:!0})}),a.resizeObserver.observe(a.el.querySelector(".uppy-Dashboard-inner")),a.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(function(){var l=a.getPluginState(),f=!a.opts.inline&&l.isHidden;!l.areInsidesReadyToBeVisible&&!f&&(a.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),a.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},a.stopListeningToResize=function(){a.resizeObserver.disconnect(),clearTimeout(a.makeDashboardInsidesVisibleAnywayTimeout)},a.recordIfFocusedOnUppyRecently=function(l){a.el.contains(l.target)?a.ifFocusedOnUppyRecently=!0:(a.ifFocusedOnUppyRecently=!1,a.superFocus.cancel())},a.disableAllFocusableElements=function(l){var f=Pt(a.el.querySelectorAll(al));l?f.forEach(function(d){var y=d.getAttribute("tabindex");y&&(d.dataset.inertTabindex=y),d.setAttribute("tabindex","-1")}):f.forEach(function(d){"inertTabindex"in d.dataset?d.setAttribute("tabindex",d.dataset.inertTabindex):d.removeAttribute("tabindex")}),a.dashboardIsDisabled=l},a.updateBrowserHistory=function(){var l;(l=history.state)!=null&&l[a.modalName]||history.pushState(ea(ea({},history.state),{},LV({},a.modalName,!0)),""),window.addEventListener("popstate",a.handlePopState,!1)},a.handlePopState=function(l){var f;a.isModalOpen()&&(!l.state||!l.state[a.modalName])&&a.closeModal({manualClose:!1}),!a.isModalOpen()&&(f=l.state)!=null&&f[a.modalName]&&history.back()},a.handleKeyDownInModal=function(l){l.keyCode===PVe&&a.requestCloseModal(l),l.keyCode===CV&&rT(l,a.getPluginState().activeOverlayType,a.el)},a.handleClickOutside=function(){a.opts.closeModalOnClickOutside&&a.requestCloseModal()},a.handlePaste=function(l){a.uppy.iteratePlugins(function(d){d.type==="acquirer"&&(d.handleRootPaste==null||d.handleRootPaste(l))});var f=Pt(l.clipboardData.files);f.length>0&&(a.uppy.log("[Dashboard] Files pasted"),a.addFiles(f))},a.handleInputChange=function(l){l.preventDefault();var f=Pt(l.target.files);f.length>0&&(a.uppy.log("[Dashboard] Files selected through input"),a.addFiles(f))},a.handleDragOver=function(l){var f,d;l.preventDefault(),l.stopPropagation();var y=i(function(){var R=!0;return a.uppy.iteratePlugins(function(E){E.canHandleRootDrop!=null&&E.canHandleRootDrop(l)&&(R=!0)}),R},"canSomePluginHandleRootDrop"),m=i(function(){var R=l.dataTransfer.types;return R.some(function(E){return E==="Files"})},"doesEventHaveFiles"),w=y(l),_=m(l);if(!w&&!_||a.opts.disabled||a.opts.disableLocalFiles&&(_||!w)||!a.uppy.getState().allowNewUpload){l.dataTransfer.dropEffect="none",clearTimeout(a.removeDragOverClassTimeout);return}l.dataTransfer.dropEffect="copy",clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!0}),(f=(d=a.opts).onDragOver)==null||f.call(d,l)},a.handleDragLeave=function(l){var f,d;l.preventDefault(),l.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.removeDragOverClassTimeout=setTimeout(function(){a.setPluginState({isDraggingOver:!1})},50),(f=(d=a.opts).onDragLeave)==null||f.call(d,l)},a.handleDrop=function(){var l=vVe(FT().mark(i(function f(d){var y,m,w,_,T;return FT().wrap(i(function(E){for(;;)switch(E.prev=E.next){case 0:return d.preventDefault(),d.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!1}),a.uppy.iteratePlugins(function(A){A.type==="acquirer"&&(A.handleRootDrop==null||A.handleRootDrop(d))}),w=!1,_=i(function(k){a.uppy.log(k,"error"),w||(a.uppy.info(k.message,"error"),w=!0)},"logDropError"),E.next=9,su(d.dataTransfer,{logDropError:_});case 9:T=E.sent,T.length>0&&(a.uppy.log("[Dashboard] Files dropped"),a.addFiles(T)),(y=(m=a.opts).onDrop)==null||y.call(m,d);case 12:case"end":return E.stop()}},"_callee$"),f)},"_callee")));return function(f){return l.apply(this,arguments)}}(),a.handleRequestThumbnail=function(l){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:request",l)},a.handleCancelThumbnail=function(l){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:cancel",l)},a.handleKeyDownInInline=function(l){l.keyCode===CV&&BH(l,a.getPluginState().activeOverlayType,a.el)},a.handlePasteOnBody=function(l){var f=a.el.contains(document.activeElement);f&&a.handlePaste(l)},a.handleComplete=function(l){var f=l.failed;a.opts.closeAfterFinish&&f.length===0&&a.requestCloseModal()},a.handleCancelRestore=function(){a.uppy.emit("restore-canceled")},Object.defineProperty(ot(a),mp,{writable:!0,value:i(function(f){var d=f[0];a.canEditFile(d)&&a.openFileEditor(d)},"value")}),a.initEvents=function(){if(a.opts.trigger&&!a.opts.inline){var l=Um(a.opts.trigger);l?l.forEach(function(f){return f.addEventListener("click",a.openModal)}):a.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}a.startListeningToResize(),document.addEventListener("paste",a.handlePasteOnBody),a.uppy.on("plugin-remove",a.removeTarget),a.uppy.on("file-added",a.hideAllPanels),a.uppy.on("dashboard:modal-closed",a.hideAllPanels),a.uppy.on("file-editor:complete",a.hideAllPanels),a.uppy.on("complete",a.handleComplete),document.addEventListener("focus",a.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",a.recordIfFocusedOnUppyRecently,!0),a.opts.inline&&a.el.addEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.on("files-added",un(ot(a),mp)[mp])},a.removeEvents=function(){var l=Um(a.opts.trigger);!a.opts.inline&&l&&l.forEach(function(f){return f.removeEventListener("click",a.openModal)}),a.stopListeningToResize(),document.removeEventListener("paste",a.handlePasteOnBody),window.removeEventListener("popstate",a.handlePopState,!1),a.uppy.off("plugin-remove",a.removeTarget),a.uppy.off("file-added",a.hideAllPanels),a.uppy.off("dashboard:modal-closed",a.hideAllPanels),a.uppy.off("file-editor:complete",a.hideAllPanels),a.uppy.off("complete",a.handleComplete),document.removeEventListener("focus",a.recordIfFocusedOnUppyRecently),document.removeEventListener("click",a.recordIfFocusedOnUppyRecently),a.opts.inline&&a.el.removeEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.off("files-added",un(ot(a),mp)[mp])},a.superFocusOnEachUpdate=function(){var l=a.el.contains(document.activeElement),f=document.activeElement===document.body||document.activeElement===null,d=a.uppy.getState().info.length===0,y=!a.opts.inline;d&&(y||l||f&&a.ifFocusedOnUppyRecently)?a.superFocus(a.el,a.getPluginState().activeOverlayType):a.superFocus.cancel()},a.afterUpdate=function(){if(a.opts.disabled&&!a.dashboardIsDisabled){a.disableAllFocusableElements(!0);return}!a.opts.disabled&&a.dashboardIsDisabled&&a.disableAllFocusableElements(!1),a.superFocusOnEachUpdate()},a.saveFileCard=function(l,f){a.uppy.setFileMeta(f,l),a.toggleFileCard(!1,f)},Object.defineProperty(ot(a),fu,{writable:!0,value:i(function(f){var d=a.uppy.getPlugin(f.id);return ea(ea({},f),{},{icon:d.icon||a.opts.defaultPickerIcon,render:d.render})},"value")}),Object.defineProperty(ot(a),kT,{writable:!0,value:i(function(f){var d=a.uppy.getPlugin(f.id);return typeof d.isSupported!="function"?!0:d.isSupported()},"value")}),Object.defineProperty(ot(a),xT,{writable:!0,value:qT(function(l){return l.filter(function(f){return f.type==="acquirer"&&un(ot(a),kT)[kT](f)}).map(un(ot(a),fu)[fu])})}),Object.defineProperty(ot(a),CT,{writable:!0,value:qT(function(l){return l.filter(function(f){return f.type==="progressindicator"}).map(un(ot(a),fu)[fu])})}),Object.defineProperty(ot(a),Wi,{writable:!0,value:qT(function(l){return l.filter(function(f){return f.type==="editor"}).map(un(ot(a),fu)[fu])})}),a.render=function(l){var f=a.getPluginState(),d=l.files,y=l.capabilities,m=l.allowNewUpload,w=a.uppy.getObjectOfFilesPerState(),_=w.newFiles,T=w.uploadStartedFiles,R=w.completeFiles,E=w.erroredFiles,A=w.inProgressFiles,k=w.inProgressNotPausedFiles,U=w.processingFiles,G=w.isUploadStarted,M=w.isAllComplete,z=w.isAllErrored,W=w.isAllPaused,K=un(ot(a),xT)[xT](f.targets),p=un(ot(a),CT)[CT](f.targets),c=un(ot(a),Wi)[Wi](f.targets),h;return a.opts.theme==="auto"?h=y.darkMode?"dark":"light":h=a.opts.theme,["files","folders","both"].indexOf(a.opts.fileManagerSelectionType)<0&&(a.opts.fileManagerSelectionType="files",console.warn('Unsupported option for "fileManagerSelectionType". Using default of "'.concat(a.opts.fileManagerSelectionType,'".'))),IT({state:l,isHidden:f.isHidden,files:d,newFiles:_,uploadStartedFiles:T,completeFiles:R,erroredFiles:E,inProgressFiles:A,inProgressNotPausedFiles:k,processingFiles:U,isUploadStarted:G,isAllComplete:M,isAllErrored:z,isAllPaused:W,totalFileCount:Object.keys(d).length,totalProgress:l.totalProgress,allowNewUpload:m,acquirers:K,theme:h,disabled:a.opts.disabled,disableLocalFiles:a.opts.disableLocalFiles,direction:a.opts.direction,activePickerPanel:f.activePickerPanel,showFileEditor:f.showFileEditor,saveFileEditor:a.saveFileEditor,disableAllFocusableElements:a.disableAllFocusableElements,animateOpenClose:a.opts.animateOpenClose,isClosing:f.isClosing,progressindicators:p,editors:c,autoProceed:a.uppy.opts.autoProceed,id:a.id,closeModal:a.requestCloseModal,handleClickOutside:a.handleClickOutside,handleInputChange:a.handleInputChange,handlePaste:a.handlePaste,inline:a.opts.inline,showPanel:a.showPanel,hideAllPanels:a.hideAllPanels,i18n:a.i18n,i18nArray:a.i18nArray,uppy:a.uppy,note:a.opts.note,recoveredState:l.recoveredState,metaFields:f.metaFields,resumableUploads:y.resumableUploads||!1,individualCancellation:y.individualCancellation,isMobileDevice:y.isMobileDevice,fileCardFor:f.fileCardFor,toggleFileCard:a.toggleFileCard,toggleAddFilesPanel:a.toggleAddFilesPanel,showAddFilesPanel:f.showAddFilesPanel,saveFileCard:a.saveFileCard,openFileEditor:a.openFileEditor,canEditFile:a.canEditFile,width:a.opts.width,height:a.opts.height,showLinkToFileUploadResult:a.opts.showLinkToFileUploadResult,fileManagerSelectionType:a.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:a.opts.proudlyDisplayPoweredByUppy,hideCancelButton:a.opts.hideCancelButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:a.opts.showRemoveButtonAfterComplete,containerWidth:f.containerWidth,containerHeight:f.containerHeight,areInsidesReadyToBeVisible:f.areInsidesReadyToBeVisible,isTargetDOMEl:a.isTargetDOMEl,parentElement:a.el,allowedFileTypes:a.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:a.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:a.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:a.opts.showSelectedFiles,showNativePhotoCameraButton:a.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:a.opts.showNativeVideoCameraButton,handleCancelRestore:a.handleCancelRestore,handleRequestThumbnail:a.handleRequestThumbnail,handleCancelThumbnail:a.handleCancelThumbnail,isDraggingOver:f.isDraggingOver,handleDragOver:a.handleDragOver,handleDragLeave:a.handleDragLeave,handleDrop:a.handleDrop})},a.discoverProviderPlugins=function(){a.uppy.iteratePlugins(function(l){l&&!l.target&&l.opts&&l.opts.target===a.constructor&&a.addTarget(l)})},a.install=function(){a.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:a.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var l=a.opts,f=l.inline,d=l.closeAfterFinish;if(f&&d)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var y=a.uppy.opts,m=y.allowMultipleUploads,w=y.allowMultipleUploadBatches;(m||w)&&d&&a.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var _=a.opts.target;_&&a.mount(_,ot(a));var T=a.opts.plugins||[];T.forEach(function(E){var A=a.uppy.getPlugin(E);A&&A.mount(ot(a),A)}),a.opts.disableStatusBar||a.uppy.use(tl,{id:"".concat(a.id,":StatusBar"),target:ot(a),hideUploadButton:a.opts.hideUploadButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,hideCancelButton:a.opts.hideCancelButton,showProgressDetails:a.opts.showProgressDetails,hideAfterFinish:a.opts.hideProgressAfterFinish,locale:a.opts.locale,doneButtonHandler:a.opts.doneButtonHandler}),a.opts.disableInformer||a.uppy.use(rl,{id:"".concat(a.id,":Informer"),target:ot(a)}),a.opts.disableThumbnailGenerator||a.uppy.use(cp,{id:"".concat(a.id,":ThumbnailGenerator"),thumbnailWidth:a.opts.thumbnailWidth,thumbnailHeight:a.opts.thumbnailHeight,thumbnailType:a.opts.thumbnailType,waitForThumbnailsBeforeUpload:a.opts.waitForThumbnailsBeforeUpload,lazy:!a.opts.waitForThumbnailsBeforeUpload}),a.darkModeMediaQuery=typeof window!="undefined"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var R=a.darkModeMediaQuery?a.darkModeMediaQuery.matches:!1;a.uppy.log("[Dashboard] Dark mode is ".concat(R?"on":"off")),a.setDarkModeCapability(R),a.opts.theme==="auto"&&a.darkModeMediaQuery.addListener(a.handleSystemDarkModeChange),a.discoverProviderPlugins(),a.initEvents()},a.uninstall=function(){if(!a.opts.disableInformer){var l=a.uppy.getPlugin("".concat(a.id,":Informer"));l&&a.uppy.removePlugin(l)}if(!a.opts.disableStatusBar){var f=a.uppy.getPlugin("".concat(a.id,":StatusBar"));f&&a.uppy.removePlugin(f)}if(!a.opts.disableThumbnailGenerator){var d=a.uppy.getPlugin("".concat(a.id,":ThumbnailGenerator"));d&&a.uppy.removePlugin(d)}var y=a.opts.plugins||[];y.forEach(function(m){var w=a.uppy.getPlugin(m);w&&w.unmount()}),a.opts.theme==="auto"&&a.darkModeMediaQuery.removeListener(a.handleSystemDarkModeChange),a.unmount(),a.removeEvents()},a.id=a.opts.id||"Dashboard",a.title="Dashboard",a.type="orchestrator",a.modalName="uppy-Dashboard-".concat(nn()),a.defaultLocale=IV;var s={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:EVe,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:i(function(){a.uppy.cancelAll(),a.requestCloseModal()},"doneButtonHandler"),note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:i(function(){return a.closeModal()},"onRequestCloseModal"),showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};return a.opts=ea(ea({},s),o),a.i18nInit(),a.superFocus=oT(),a.ifFocusedOnUppyRecently=!1,a.makeDashboardInsidesVisibleAnywayTimeout=null,a.removeDragOverClassTimeout=null,a}return i(r,"Dashboard"),yVe(r)}(Se);ll.VERSION=_Ve.version;var jV={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}};function tg(t){return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}i(tg,"_typeof");function NV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(NV,"ownKeys");function DV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NV(Object(r),!0).forEach(function(n){RVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(DV,"_objectSpread");function RVe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(RVe,"_defineProperty");function jT(){"use strict";jT=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&tg(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(jT,"_regeneratorRuntime");function UV(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(UV,"asyncGeneratorStep");function TVe(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){UV(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){UV(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(TVe,"_asyncToGenerator");function AVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(AVe,"_classCallCheck");function MV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(MV,"_defineProperties");function IVe(t,e,r){return e&&MV(t.prototype,e),r&&MV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(IVe,"_createClass");function qVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NT(t,e)}i(qVe,"_inherits");function NT(t,e){return NT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),NT(t,e)}i(NT,"_setPrototypeOf");function kVe(t){var e=CVe();return i(function(){var n=rg(t),o;if(e){var a=rg(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return xVe(this,o)},"_createSuperInternal")}i(kVe,"_createSuper");function xVe(t,e){if(e&&(tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pu(t)}i(xVe,"_possibleConstructorReturn");function pu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(pu,"_assertThisInitialized");function CVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(CVe,"_isNativeReflectConstruct");function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),rg(t)}i(rg,"_getPrototypeOf");var FVe={version:"3.0.0-beta.2"},ng=function(t){qVe(r,t);var e=kVe(r);function r(n,o){var a;AVe(this,r),a=e.call(this,n,o),a.handleDrop=function(){var s=TVe(jT().mark(i(function l(f){var d,y,m,w;return jT().wrap(i(function(T){for(;;)switch(T.prev=T.next){case 0:return f.preventDefault(),f.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!1}),m=i(function(E){a.uppy.log(E,"error")},"logDropError"),T.next=7,su(f.dataTransfer,{logDropError:m});case 7:w=T.sent,w.length>0&&(a.uppy.log("[DragDrop] Files dropped"),a.addFiles(w)),(d=(y=a.opts).onDrop)==null||d.call(y,f);case 10:case"end":return T.stop()}},"_callee$"),l)},"_callee")));return function(l){return s.apply(this,arguments)}}(),a.type="acquirer",a.id=a.opts.id||"DragDrop",a.title="Drag & Drop",a.defaultLocale=jV;var u={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};return a.opts=DV(DV({},u),o),a.i18nInit(),a.isDragDropSupported=dp(),a.removeDragOverClassTimeout=null,a.onInputChange=a.onInputChange.bind(pu(a)),a.handleDragOver=a.handleDragOver.bind(pu(a)),a.handleDragLeave=a.handleDragLeave.bind(pu(a)),a.handleDrop=a.handleDrop.bind(pu(a)),a.addFiles=a.addFiles.bind(pu(a)),a.render=a.render.bind(pu(a)),a}return i(r,"DragDrop"),IVe(r,[{key:"addFiles",value:i(function(o){var a=this,u=o.map(function(s){return{source:a.id,name:s.name,type:s.type,data:s,meta:{relativePath:s.relativePath||null}}});try{this.uppy.addFiles(u)}catch(s){this.uppy.log(s)}},"addFiles")},{key:"onInputChange",value:i(function(o){var a=Pt(o.target.files);a.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(a)),o.target.value=null},"onInputChange")},{key:"handleDragOver",value:i(function(o){var a,u;o.preventDefault(),o.stopPropagation();var s=o.dataTransfer.types,l=s.some(function(y){return y==="Files"}),f=this.uppy.getState(),d=f.allowNewUpload;if(!l||!d){o.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}o.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(a=(u=this.opts).onDragOver)==null||a.call(u,o)},"handleDragOver")},{key:"handleDragLeave",value:i(function(o){var a=this,u,s;o.preventDefault(),o.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(function(){a.setPluginState({isDraggingOver:!1})},50),(u=(s=this.opts).onDragLeave)==null||u.call(s,o)},"handleDragLeave")},{key:"renderHiddenFileInput",value:i(function(){var o=this,a=this.uppy.opts.restrictions;return O("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:i(function(s){o.fileInputRef=s},"ref"),name:this.opts.inputName,multiple:a.maxNumberOfFiles!==1,accept:a.allowedFileTypes,onChange:this.onInputChange})},"renderHiddenFileInput")},{key:"renderLabel",value:i(function(){return O("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:O("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))},"renderLabel")},{key:"renderNote",value:i(function(){return O("span",{className:"uppy-DragDrop-note"},this.opts.note)},"renderNote")},{key:"render",value:i(function(){var o=this,a="uppy-u-reset\n      uppy-DragDrop-container\n      ".concat(this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":"","\n      ").concat(this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":"","\n    "),u={width:this.opts.width,height:this.opts.height};return O("button",{type:"button",className:a,style:u,onClick:i(function(){return o.fileInputRef.click()},"onClick"),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),O("div",{className:"uppy-DragDrop-inner"},r.renderArrowSvg(),this.renderLabel(),this.renderNote()))},"render")},{key:"install",value:i(function(){var o=this.opts.target;this.setPluginState({isDraggingOver:!1}),o&&this.mount(o,this)},"install")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}],[{key:"renderArrowSvg",value:i(function(){return O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},O("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))},"renderArrowSvg")}]),r}(Se);ng.VERSION=FVe.version;function ig(t){return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}i(ig,"_typeof");function BV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(BV,"ownKeys");function $V(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BV(Object(r),!0).forEach(function(n){LVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i($V,"_objectSpread");function LVe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(LVe,"_defineProperty");function UT(){"use strict";UT=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&ig(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(UT,"_regeneratorRuntime");function zV(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(zV,"asyncGeneratorStep");function jVe(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){zV(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){zV(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(jVe,"_asyncToGenerator");function NVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(NVe,"_classCallCheck");function GV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(GV,"_defineProperties");function DVe(t,e,r){return e&&GV(t.prototype,e),r&&GV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(DVe,"_createClass");function UVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MT(t,e)}i(UVe,"_inherits");function MT(t,e){return MT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),MT(t,e)}i(MT,"_setPrototypeOf");function MVe(t){var e=zVe();return i(function(){var n=og(t),o;if(e){var a=og(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return BVe(this,o)},"_createSuperInternal")}i(MVe,"_createSuper");function BVe(t,e){if(e&&(ig(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ve(t)}i(BVe,"_possibleConstructorReturn");function $Ve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i($Ve,"_assertThisInitialized");function zVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(zVe,"_isNativeReflectConstruct");function og(t){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),og(t)}i(og,"_getPrototypeOf");var GVe={version:"2.0.0-beta.3"};function DT(t){var e,r;return(e=(r=t.dataTransfer.types)==null?void 0:r.some(function(n){return n==="Files"}))!=null?e:!1}i(DT,"isFileTransfer");var BT=function(t){UVe(r,t);var e=MVe(r);function r(n,o){var a;NVe(this,r),a=e.call(this,n,o),a.addFiles=function(s){var l=s.map(function(f){return{source:a.id,name:f.name,type:f.type,data:f,meta:{relativePath:f.relativePath||null}}});try{a.uppy.addFiles(l)}catch(f){a.uppy.log(f)}},a.handleDrop=function(){var s=jVe(UT().mark(i(function l(f){var d,y,m,w,_;return UT().wrap(i(function(R){for(;;)switch(R.prev=R.next){case 0:if(DT(f)){R.next=2;break}return R.abrupt("return");case 2:return f.preventDefault(),f.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),f.currentTarget.classList.remove("uppy-is-drag-over"),a.setPluginState({isDraggingOver:!1}),a.uppy.iteratePlugins(function(E){E.type==="acquirer"&&(E.handleRootDrop==null||E.handleRootDrop(f))}),m=!1,w=i(function(A){a.uppy.log(A,"error"),m||(a.uppy.info(A.message,"error"),m=!0)},"logDropError"),R.next=12,su(f.dataTransfer,{logDropError:w});case 12:_=R.sent,_.length>0&&(a.uppy.log("[DropTarget] Files were dropped"),a.addFiles(_)),(d=(y=a.opts).onDrop)==null||d.call(y,f);case 15:case"end":return R.stop()}},"_callee$"),l)},"_callee")));return function(l){return s.apply(this,arguments)}}(),a.handleDragOver=function(s){var l,f;!DT(s)||(s.preventDefault(),s.stopPropagation(),s.dataTransfer.dropEffect="copy",clearTimeout(a.removeDragOverClassTimeout),s.currentTarget.classList.add("uppy-is-drag-over"),a.setPluginState({isDraggingOver:!0}),(l=(f=a.opts).onDragOver)==null||l.call(f,s))},a.handleDragLeave=function(s){var l,f;if(!!DT(s)){s.preventDefault(),s.stopPropagation();var d=s.currentTarget;clearTimeout(a.removeDragOverClassTimeout),a.removeDragOverClassTimeout=setTimeout(function(){d.classList.remove("uppy-is-drag-over"),a.setPluginState({isDraggingOver:!1})},50),(l=(f=a.opts).onDragLeave)==null||l.call(f,s)}},a.addListeners=function(){var s=a.opts.target;if(s instanceof Element?a.nodes=[s]:typeof s=="string"&&(a.nodes=Pt(document.querySelectorAll(s))),!a.nodes&&!a.nodes.length>0)throw new Error('"'.concat(s,'" does not match any HTML elements'));a.nodes.forEach(function(l){l.addEventListener("dragover",a.handleDragOver,!1),l.addEventListener("dragleave",a.handleDragLeave,!1),l.addEventListener("drop",a.handleDrop,!1)})},a.removeListeners=function(){a.nodes&&a.nodes.forEach(function(s){s.removeEventListener("dragover",a.handleDragOver,!1),s.removeEventListener("dragleave",a.handleDragLeave,!1),s.removeEventListener("drop",a.handleDrop,!1)})},a.type="acquirer",a.id=a.opts.id||"DropTarget",a.title="Drop Target";var u={target:null};return a.opts=$V($V({},u),o),a.removeDragOverClassTimeout=null,a}return i(r,"DropTarget"),DVe(r,[{key:"install",value:i(function(){this.setPluginState({isDraggingOver:!1}),this.addListeners()},"install")},{key:"uninstall",value:i(function(){this.removeListeners()},"uninstall")}]),r}(st);BT.VERSION=GVe.version;var HV={strings:{chooseFiles:"Choose files"}};function $T(t){return $T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$T(t)}i($T,"_typeof");function VV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(VV,"ownKeys");function WV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VV(Object(r),!0).forEach(function(n){HVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(WV,"_objectSpread");function HVe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(HVe,"_defineProperty");function VVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(VVe,"_classCallCheck");function KV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(KV,"_defineProperties");function WVe(t,e,r){return e&&KV(t.prototype,e),r&&KV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(WVe,"_createClass");function KVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zT(t,e)}i(KVe,"_inherits");function zT(t,e){return zT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),zT(t,e)}i(zT,"_setPrototypeOf");function YVe(t){var e=JVe();return i(function(){var n=ug(t),o;if(e){var a=ug(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return XVe(this,o)},"_createSuperInternal")}i(YVe,"_createSuper");function XVe(t,e){if(e&&($T(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ag(t)}i(XVe,"_possibleConstructorReturn");function ag(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(ag,"_assertThisInitialized");function JVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(JVe,"_isNativeReflectConstruct");function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),ug(t)}i(ug,"_getPrototypeOf");var QVe={version:"3.0.0-beta.2"},sg=function(t){KVe(r,t);var e=YVe(r);function r(n,o){var a;VVe(this,r),a=e.call(this,n,o),a.id=a.opts.id||"FileInput",a.title="File Input",a.type="acquirer",a.defaultLocale=HV;var u={target:null,pretty:!0,inputName:"files[]"};return a.opts=WV(WV({},u),o),a.i18nInit(),a.render=a.render.bind(ag(a)),a.handleInputChange=a.handleInputChange.bind(ag(a)),a.handleClick=a.handleClick.bind(ag(a)),a}return i(r,"FileInput"),WVe(r,[{key:"addFiles",value:i(function(o){var a=this,u=o.map(function(s){return{source:a.id,name:s.name,type:s.type,data:s}});try{this.uppy.addFiles(u)}catch(s){this.uppy.log(s)}},"addFiles")},{key:"handleInputChange",value:i(function(o){this.uppy.log("[FileInput] Something selected through input...");var a=Pt(o.target.files);this.addFiles(a),o.target.value=null},"handleInputChange")},{key:"handleClick",value:i(function(){this.input.click()},"handleClick")},{key:"render",value:i(function(){var o=this,a={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},u=this.uppy.opts.restrictions,s=u.allowedFileTypes?u.allowedFileTypes.join(","):null;return O("div",{className:"uppy-FileInput-container"},O("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&a,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:u.maxNumberOfFiles!==1,accept:s,ref:i(function(f){o.input=f},"ref")}),this.opts.pretty&&O("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))},"render")},{key:"install",value:i(function(){var o=this.opts.target;o&&this.mount(o,this)},"install")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}]),r}(Se);sg.VERSION=QVe.version;var JV=Re(YV(),1);function VT(t){return VT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VT(t)}i(VT,"_typeof");function ZVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(ZVe,"_classCallCheck");function XV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(XV,"_defineProperties");function eWe(t,e,r){return e&&XV(t.prototype,e),r&&XV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(eWe,"_createClass");function tWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WT(t,e)}i(tWe,"_inherits");function WT(t,e){return WT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),WT(t,e)}i(WT,"_setPrototypeOf");function rWe(t){var e=oWe();return i(function(){var n=cg(t),o;if(e){var a=cg(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return nWe(this,o)},"_createSuperInternal")}i(rWe,"_createSuper");function nWe(t,e){if(e&&(VT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iWe(t)}i(nWe,"_possibleConstructorReturn");function iWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(iWe,"_assertThisInitialized");function oWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(oWe,"_isNativeReflectConstruct");function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),cg(t)}i(cg,"_getPrototypeOf");var QV=function(t){tWe(r,t);var e=rWe(r);function r(n){var o;return ZVe(this,r),o=e.call(this,n),o.granularRotateOnChange=function(a){var u=o.state,s=u.rotationAngle,l=u.rotationDelta,f=Number(a.target.value)-l;if(cancelAnimationFrame(o.granularRotateOnInputNextFrame),f!==0){var d=s+f;o.granularRotateOnInputNextFrame=requestAnimationFrame(function(){o.cropper.rotateTo(d)})}},o.state={rotationAngle:0,rotationDelta:0},o}return i(r,"Editor"),eWe(r,[{key:"componentDidMount",value:i(function(){var o=this,a=this.props,u=a.opts,s=a.storeCropperInstance;this.cropper=new JV.default(this.imgElement,u.cropperOptions),s(this.cropper),u.actions.granularRotate&&this.imgElement.addEventListener("crop",function(l){var f=l.detail.rotate;o.setState({rotationAngle:f,rotationDelta:(f+405)%90-45})})},"componentDidMount")},{key:"componentWillUnmount",value:i(function(){this.cropper.destroy()},"componentWillUnmount")},{key:"renderGranularRotate",value:i(function(){var o=this.props.i18n,a=this.state,u=a.rotationDelta,s=a.rotationAngle;return O("label",{"data-microtip-position":"top",role:"tooltip","aria-label":"".concat(s,"\xBA"),className:"uppy-ImageCropper-rangeWrapper uppy-u-reset"},O("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.granularRotateOnChange,onChange:this.granularRotateOnChange,value:u,min:"-45",max:"44","aria-label":o("rotate")}))},"renderGranularRotate")},{key:"renderRevert",value:i(function(){var o=this,a=this.props.i18n;return O("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("revert"),"data-microtip-position":"top",onClick:i(function(){o.cropper.reset(),o.cropper.setAspectRatio(0)},"onClick")},O("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},O("path",{d:"M0 0h24v24H0z",fill:"none"}),O("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})))},"renderRevert")},{key:"renderRotate",value:i(function(){var o=this,a=this.props.i18n;return O("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:i(function(){return o.cropper.rotate(-90)},"onClick"),"aria-label":a("rotate"),"data-microtip-position":"top"},O("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},O("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),O("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})))},"renderRotate")},{key:"renderFlip",value:i(function(){var o=this,a=this.props.i18n;return O("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("flipHorizontal"),"data-microtip-position":"top",onClick:i(function(){return o.cropper.scaleX(-o.cropper.getData().scaleX||-1)},"onClick")},O("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},O("path",{d:"M0 0h24v24H0z",fill:"none"}),O("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})))},"renderFlip")},{key:"renderZoomIn",value:i(function(){var o=this,a=this.props.i18n;return O("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("zoomIn"),"data-microtip-position":"top",onClick:i(function(){return o.cropper.zoom(.1)},"onClick")},O("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},O("path",{d:"M0 0h24v24H0V0z",fill:"none"}),O("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),O("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})))},"renderZoomIn")},{key:"renderZoomOut",value:i(function(){var o=this,a=this.props.i18n;return O("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("zoomOut"),"data-microtip-position":"top",onClick:i(function(){return o.cropper.zoom(-.1)},"onClick")},O("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},O("path",{d:"M0 0h24v24H0V0z",fill:"none"}),O("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})))},"renderZoomOut")},{key:"renderCropSquare",value:i(function(){var o=this,a=this.props.i18n;return O("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("aspectRatioSquare"),"data-microtip-position":"top",onClick:i(function(){return o.cropper.setAspectRatio(1)},"onClick")},O("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},O("path",{d:"M0 0h24v24H0z",fill:"none"}),O("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))},"renderCropSquare")},{key:"renderCropWidescreen",value:i(function(){var o=this,a=this.props.i18n;return O("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("aspectRatioLandscape"),"data-microtip-position":"top",onClick:i(function(){return o.cropper.setAspectRatio(16/9)},"onClick")},O("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},O("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),O("path",{fill:"none",d:"M0 0h24v24H0z"})))},"renderCropWidescreen")},{key:"renderCropWidescreenVertical",value:i(function(){var o=this,a=this.props.i18n;return O("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("aspectRatioPortrait"),"data-microtip-position":"top",onClick:i(function(){return o.cropper.setAspectRatio(9/16)},"onClick")},O("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},O("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),O("path",{d:"M0 0h24v24H0z",fill:"none"})))},"renderCropWidescreenVertical")},{key:"render",value:i(function(){var o=this,a=this.props,u=a.currentImage,s=a.opts,l=s.actions,f=URL.createObjectURL(u.data);return O("div",{className:"uppy-ImageCropper"},O("div",{className:"uppy-ImageCropper-container"},O("img",{className:"uppy-ImageCropper-image",alt:u.name,src:f,ref:i(function(y){o.imgElement=y},"ref")})),O("div",{className:"uppy-ImageCropper-controls"},l.revert&&this.renderRevert(),l.rotate&&this.renderRotate(),l.granularRotate&&this.renderGranularRotate(),l.flip&&this.renderFlip(),l.zoomIn&&this.renderZoomIn(),l.zoomOut&&this.renderZoomOut(),l.cropSquare&&this.renderCropSquare(),l.cropWidescreen&&this.renderCropWidescreen(),l.cropWidescreenVertical&&this.renderCropWidescreenVertical()))},"render")}]),r}(Be);var ZV={strings:{revert:"Revert",rotate:"Rotate",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontal",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}};function KT(t){return KT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KT(t)}i(KT,"_typeof");function eW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(eW,"ownKeys");function du(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eW(Object(r),!0).forEach(function(n){aWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(du,"_objectSpread");function aWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(aWe,"_defineProperty");function uWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(uWe,"_classCallCheck");function tW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(tW,"_defineProperties");function sWe(t,e,r){return e&&tW(t.prototype,e),r&&tW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(sWe,"_createClass");function lWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YT(t,e)}i(lWe,"_inherits");function YT(t,e){return YT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),YT(t,e)}i(YT,"_setPrototypeOf");function cWe(t){var e=dWe();return i(function(){var n=fg(t),o;if(e){var a=fg(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return fWe(this,o)},"_createSuperInternal")}i(cWe,"_createSuper");function fWe(t,e){if(e&&(KT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pWe(t)}i(fWe,"_possibleConstructorReturn");function pWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(pWe,"_assertThisInitialized");function dWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(dWe,"_isNativeReflectConstruct");function fg(t){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),fg(t)}i(fg,"_getPrototypeOf");var hWe={version:"2.0.0-beta.3"},pg=function(t){lWe(r,t);var e=cWe(r);function r(n,o){var a;uWe(this,r),a=e.call(this,n,o),a.save=function(){var f=i(function(w){var _=a.getPluginState(),T=_.currentImage;a.uppy.setFileState(T.id,{data:w,size:w.size,preview:null});var R=a.uppy.getFile(T.id);a.uppy.emit("thumbnail:request",R),a.setPluginState({currentImage:R}),a.uppy.emit("file-editor:complete",R)},"saveBlobCallback"),d=a.getPluginState(),y=d.currentImage;a.cropper.getCroppedCanvas(a.opts.cropperOptions.croppedCanvasOptions).toBlob(f,y.type,a.opts.quality)},a.storeCropperInstance=function(f){a.cropper=f},a.selectFile=function(f){a.uppy.emit("file-editor:start",f),a.setPluginState({currentImage:f})},a.id=a.opts.id||"ImageEditor",a.title="Image Editor",a.type="editor",a.defaultLocale=ZV;var u={viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{}},s={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},l={quality:.8};return a.opts=du(du(du({},l),o),{},{actions:du(du({},s),o.actions),cropperOptions:du(du({},u),o.cropperOptions)}),a.i18nInit(),a}return i(r,"ImageEditor"),sWe(r,[{key:"canEditFile",value:i(function(o){if(!o.type||o.isRemote)return!1;var a=o.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(a)},"canEditFile")},{key:"install",value:i(function(){this.setPluginState({currentImage:null});var o=this.opts.target;o&&this.mount(o,this)},"install")},{key:"uninstall",value:i(function(){var o=this.getPluginState(),a=o.currentImage;if(a){var u=this.uppy.getFile(a.id);this.uppy.emit("file-editor:cancel",u)}this.unmount()},"uninstall")},{key:"render",value:i(function(){var o=this.getPluginState(),a=o.currentImage;return a===null||a.isRemote?null:O(QV,{currentImage:a,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})},"render")}]),r}(Se);pg.VERSION=hWe.version;function XT(t){return XT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XT(t)}i(XT,"_typeof");function rW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(rW,"ownKeys");function nW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rW(Object(r),!0).forEach(function(n){vWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(nW,"_objectSpread");function vWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(vWe,"_defineProperty");function yWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(yWe,"_classCallCheck");function iW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(iW,"_defineProperties");function mWe(t,e,r){return e&&iW(t.prototype,e),r&&iW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(mWe,"_createClass");function gWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JT(t,e)}i(gWe,"_inherits");function JT(t,e){return JT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),JT(t,e)}i(JT,"_setPrototypeOf");function bWe(t){var e=OWe();return i(function(){var n=dg(t),o;if(e){var a=dg(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return wWe(this,o)},"_createSuperInternal")}i(bWe,"_createSuper");function wWe(t,e){if(e&&(XT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oW(t)}i(wWe,"_possibleConstructorReturn");function oW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(oW,"_assertThisInitialized");function OWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(OWe,"_isNativeReflectConstruct");function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),dg(t)}i(dg,"_getPrototypeOf");var SWe={version:"3.0.0-beta.2"},hg=function(t){gWe(r,t);var e=bWe(r);function r(n,o){var a;yWe(this,r),a=e.call(this,n,o),a.id=a.opts.id||"ProgressBar",a.title="Progress Bar",a.type="progressindicator";var u={target:"body",fixed:!1,hideAfterFinish:!0};return a.opts=nW(nW({},u),o),a.render=a.render.bind(oW(a)),a}return i(r,"ProgressBar"),mWe(r,[{key:"render",value:i(function(o){var a=o.totalProgress||0,u=(a===0||a===100)&&this.opts.hideAfterFinish;return O("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":u},O("div",{className:"uppy-ProgressBar-inner",style:{width:"".concat(a,"%")}}),O("div",{className:"uppy-ProgressBar-percentage"},a))},"render")},{key:"install",value:i(function(){var o=this.opts.target;o&&this.mount(o,this)},"install")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}]),r}(Se);hg.VERSION=SWe.version;function _We(t,e){return TWe(t)||RWe(t,e)||EWe(t,e)||PWe()}i(_We,"_slicedToArray");function PWe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(PWe,"_nonIterableRest");function EWe(t,e){if(!!t){if(typeof t=="string")return aW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aW(t,e)}}i(EWe,"_unsupportedIterableToArray");function aW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(aW,"_arrayLikeToArray");function RWe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],o=!0,a=!1,u,s;try{for(r=r.call(t);!(o=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));o=!0);}catch(l){a=!0,s=l}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw s}}return n}}i(RWe,"_iterableToArrayLimit");function TWe(t){if(Array.isArray(t))return t}i(TWe,"_arrayWithHoles");var AWe={"audio/mp3":"mp3","audio/mp4":"mp4","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};function li(t){var e=t.split(";",1),r=_We(e,1);return t=r[0],AWe[t]||null}i(li,"getFileTypeExtension");function QT(){var t;return typeof MediaRecorder=="function"&&typeof((t=MediaRecorder.prototype)==null?void 0:t.start)=="function"}i(QT,"supportsMediaRecorder");var rA,Er,ZT,uW,eA=0,hW=[],vg=[],sW=Ee.__b,lW=Ee.__r,cW=Ee.diffed,fW=Ee.__c,pW=Ee.unmount;function vW(t,e){Ee.__h&&Ee.__h(Er,t,eA||e),eA=0;var r=Er.__H||(Er.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:vg}),r.__[t]}i(vW,"p");function nA(t,e){var r=vW(rA++,3);!Ee.__s&&yW(r.__H,e)&&(r.__=t,r.u=e,Er.__H.__h.push(r))}i(nA,"_");function iA(t){return eA=5,IWe(function(){return{current:t}},[])}i(iA,"s");function IWe(t,e){var r=vW(rA++,7);return yW(r.__H,e)?(r.__V=t(),r.u=e,r.__h=t,r.__V):r.__}i(IWe,"F");function qWe(){for(var t;t=hW.shift();)if(t.__P)try{t.__H.__h.forEach(yg),t.__H.__h.forEach(tA),t.__H.__h=[]}catch(e){t.__H.__h=[],Ee.__e(e,t.__v)}}i(qWe,"b");Ee.__b=function(t){Er=null,sW&&sW(t)},Ee.__r=function(t){lW&&lW(t),rA=0;var e=(Er=t.__c).__H;e&&(ZT===Er?(e.__h=[],Er.__h=[],e.__.forEach(function(r){r.__V=vg,r.u=void 0})):(e.__h.forEach(yg),e.__h.forEach(tA),e.__h=[])),ZT=Er},Ee.diffed=function(t){cW&&cW(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(hW.push(e)!==1&&uW===Ee.requestAnimationFrame||((uW=Ee.requestAnimationFrame)||function(r){var n,o=i(function(){clearTimeout(a),dW&&cancelAnimationFrame(n),setTimeout(r)},"u"),a=setTimeout(o,100);dW&&(n=requestAnimationFrame(o))})(qWe)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.__V!==vg&&(r.__=r.__V),r.u=void 0,r.__V=vg})),ZT=Er=null},Ee.__c=function(t,e){e.some(function(r){try{r.__h.forEach(yg),r.__h=r.__h.filter(function(n){return!n.__||tA(n)})}catch(n){e.some(function(o){o.__h&&(o.__h=[])}),e=[],Ee.__e(n,r.__v)}}),fW&&fW(t,e)},Ee.unmount=function(t){pW&&pW(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{yg(n)}catch(o){e=o}}),e&&Ee.__e(e,r.__v))};var dW=typeof requestAnimationFrame=="function";function yg(t){var e=Er,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Er=e}i(yg,"j");function tA(t){var e=Er;t.__c=t.__(),Er=e}i(tA,"k");function yW(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}i(yW,"w");function oA(t){var e=t.recording,r=t.onStartRecording,n=t.onStopRecording,o=t.i18n;return e?O("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:o("stopAudioRecording"),"aria-label":o("stopAudioRecording"),onClick:n,"data-uppy-super-focusable":!0},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},O("rect",{x:"15",y:"15",width:"70",height:"70"}))):O("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:o("startAudioRecording"),"aria-label":o("startAudioRecording"),onClick:r,"data-uppy-super-focusable":!0},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14px",height:"20px",viewBox:"0 0 14 20"},O("path",{d:"M7 14c2.21 0 4-1.71 4-3.818V3.818C11 1.71 9.21 0 7 0S3 1.71 3 3.818v6.364C3 12.29 4.79 14 7 14zm6.364-7h-.637a.643.643 0 0 0-.636.65V9.6c0 3.039-2.565 5.477-5.6 5.175-2.645-.264-4.582-2.692-4.582-5.407V7.65c0-.36-.285-.65-.636-.65H.636A.643.643 0 0 0 0 7.65v1.631c0 3.642 2.544 6.888 6.045 7.382v1.387H3.818a.643.643 0 0 0-.636.65v.65c0 .36.285.65.636.65h6.364c.351 0 .636-.29.636-.65v-.65c0-.36-.285-.65-.636-.65H7.955v-1.372C11.363 16.2 14 13.212 14 9.6V7.65c0-.36-.285-.65-.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))}i(oA,"RecordButton");function aA(t){return"".concat(Math.floor(t/60),":").concat(String(t%60).padStart(2,0))}i(aA,"formatSeconds");function uA(t){var e=t.recordingLengthSeconds,r=t.i18n,n=aA(e);return O("span",{"aria-label":r("recordingLength",{recording_length:n})},n)}i(uA,"RecordingLength");var mW=i(function(t){var e=t.currentDeviceId,r=t.audioSources,n=t.onChangeSource;return O("div",{className:"uppy-Audio-videoSource"},O("select",{className:"uppy-u-reset uppy-Audio-audioSource-select",onChange:i(function(a){n(a.target.value)},"onChange")},r.map(function(o){return O("option",{key:o.deviceId,value:o.deviceId,selected:o.deviceId===e},o.label)})))},"default");function kWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(kWe,"_classCallCheck");function gW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(gW,"_defineProperties");function xWe(t,e,r){return e&&gW(t.prototype,e),r&&gW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(xWe,"_createClass");function CWe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(CWe,"_classPrivateFieldLooseBase");var FWe=0;function LWe(t){return"__private_"+FWe+++"_"+t}i(LWe,"_classPrivateFieldLooseKey");function bW(t){return typeof t=="function"}i(bW,"isFunction");function gp(t){return bW(t)?t():t}i(gp,"result");var sA=LWe("draw"),wW=function(){function t(e,r){var n=this;kWe(this,t),r===void 0&&(r={}),Object.defineProperty(this,sA,{writable:!0,value:i(function(){return n.draw()},"value")});var o=r.canvas||{},a=r.canvasContext||{};this.analyser=null,this.bufferLength=0,this.dataArray=[],this.canvas=e,this.width=gp(o.width)||this.canvas.width,this.height=gp(o.height)||this.canvas.height,this.canvas.width=this.width,this.canvas.height=this.height,this.canvasContext=this.canvas.getContext("2d"),this.canvasContext.fillStyle=gp(a.fillStyle)||"rgb(255, 255, 255)",this.canvasContext.strokeStyle=gp(a.strokeStyle)||"rgb(0, 0, 0)",this.canvasContext.lineWidth=gp(a.lineWidth)||1,this.onDrawFrame=bW(r.onDrawFrame)?r.onDrawFrame:function(){}}return i(t,"AudioOscilloscope"),xWe(t,[{key:"addSource",value:i(function(r){this.streamSource=r,this.audioContext=this.streamSource.context,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.source=this.audioContext.createBufferSource(),this.dataArray=new Uint8Array(this.bufferLength),this.analyser.getByteTimeDomainData(this.dataArray),this.streamSource.connect(this.analyser)},"addSource")},{key:"draw",value:i(function(){var r=this.analyser,n=this.dataArray,o=this.bufferLength,a=this.canvasContext,u=this.width,s=this.height;r&&r.getByteTimeDomainData(n),a.fillRect(0,0,u,s),a.beginPath();var l=u*1/o,f=0;o||a.moveTo(0,this.height/2);for(var d=0;d<o;d++){var y=n[d]/128,m=y*(s/2);d===0?a.moveTo(f,m):a.lineTo(f,m),f+=l}a.lineTo(u,s/2),a.stroke(),this.onDrawFrame(this),requestAnimationFrame(CWe(this,sA)[sA])},"draw")}]),t}();function jWe(t){var e=t.onSubmit,r=t.i18n;return O("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button uppy-Audio-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},O("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},O("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}i(jWe,"SubmitButton");var OW=jWe;function NWe(t){var e=t.onDiscard,r=t.i18n;return O("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},O("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"uppy-c-icon"},O("g",{fill:"#FFF",fillRule:"evenodd"},O("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),O("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}i(NWe,"DiscardButton");var SW=NWe;function lA(t){var e=t.stream,r=t.recordedAudio,n=t.onStop,o=t.recording,a=t.supportsRecording,u=t.audioSources,s=t.showAudioSourceDropdown,l=t.onSubmit,f=t.i18n,d=t.onStartRecording,y=t.onStopRecording,m=t.onDiscardRecordedAudio,w=t.recordingLengthSeconds,_=iA(null),T=iA(null);nA(function(){return function(){T.current=null,n()}},[n]),nA(function(){if(!r&&(T.current=new wW(_.current,{canvas:{width:600,height:600},canvasContext:{lineWidth:2,fillStyle:"rgb(0,0,0)",strokeStyle:"green"}}),T.current.draw(),e)){var k=new AudioContext,U=k.createMediaStreamSource(e);T.current.addSource(U)}},[r,e]);var R=r!=null,E=!R&&a,A=s&&!R&&u&&u.length>1;return O("div",{className:"uppy-Audio-container"},O("div",{className:"uppy-Audio-audioContainer"},R?O("audio",{className:"uppy-Audio-player",controls:!0,src:r}):O("canvas",{ref:_,className:"uppy-Audio-canvas"})),O("div",{className:"uppy-Audio-footer"},O("div",{className:"uppy-Audio-audioSourceContainer"},A?mW(t):null),O("div",{className:"uppy-Audio-buttonContainer"},E&&O(oA,{recording:o,onStartRecording:d,onStopRecording:y,i18n:f}),R&&O(OW,{onSubmit:l,i18n:f}),R&&O(SW,{onDiscard:m,i18n:f})),O("div",{className:"uppy-Audio-recordingLength"},!R&&O(uA,{recordingLengthSeconds:w,i18n:f}))))}i(lA,"RecordingScreen");var _W=i(function(t){var e=t.icon,r=t.hasAudio,n=t.i18n;return O("div",{className:"uppy-Audio-permissons"},O("div",{className:"uppy-Audio-permissonsIcon"},e()),O("h1",{className:"uppy-Audio-title"},n(r?"allowAudioAccessTitle":"noAudioTitle")),O("p",null,n(r?"allowAudioAccessDescription":"noAudioDescription")))},"default");var PW={strings:{pluginNameAudio:"Audio",startAudioRecording:"Begin audio recording",stopAudioRecording:"Stop audio recording",allowAudioAccessTitle:"Please allow access to your microphone",allowAudioAccessDescription:"In order to record audio, please allow microphone access for this site.",noAudioTitle:"Microphone Not Available",noAudioDescription:"In order to record audio, please connect a microphone or another audio input device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file"}};function mg(t){return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}i(mg,"_typeof");function EW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(EW,"ownKeys");function DWe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EW(Object(r),!0).forEach(function(n){UWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(DWe,"_objectSpread");function UWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(UWe,"_defineProperty");function yA(){"use strict";yA=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&mg(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(yA,"_regeneratorRuntime");function RW(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(RW,"asyncGeneratorStep");function MWe(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){RW(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){RW(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(MWe,"_asyncToGenerator");function BWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(BWe,"_classCallCheck");function TW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(TW,"_defineProperties");function $We(t,e,r){return e&&TW(t.prototype,e),r&&TW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i($We,"_createClass");function zWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mA(t,e)}i(zWe,"_inherits");function mA(t,e){return mA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),mA(t,e)}i(mA,"_setPrototypeOf");function GWe(t){var e=VWe();return i(function(){var n=gg(t),o;if(e){var a=gg(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return HWe(this,o)},"_createSuperInternal")}i(GWe,"_createSuper");function HWe(t,e){if(e&&(mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ve(t)}i(HWe,"_possibleConstructorReturn");function ve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(ve,"_assertThisInitialized");function VWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(VWe,"_isNativeReflectConstruct");function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),gg(t)}i(gg,"_getPrototypeOf");function gA(){return gA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gA.apply(this,arguments)}i(gA,"_extends");function fe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(fe,"_classPrivateFieldLooseBase");var WWe=0;function Ht(t){return"__private_"+WWe+++"_"+t}i(Ht,"_classPrivateFieldLooseKey");var KWe={version:"1.0.0-beta.2"},zt=Ht("stream"),Ki=Ht("audioActive"),ct=Ht("recordingChunks"),lt=Ht("recorder"),Yi=Ht("capturedMediaFile"),Gt=Ht("mediaDevices"),bp=Ht("supportsUserMedia"),cA=Ht("hasAudioCheck"),hu=Ht("start"),fA=Ht("startRecording"),wp=Ht("stopRecording"),pA=Ht("discardRecordedAudio"),dA=Ht("submit"),Xi=Ht("stop"),hA=Ht("getAudio"),vA=Ht("changeSource"),vu=Ht("updateSources"),bg=function(t){zWe(r,t);var e=GWe(r);function r(n,o){var a;BWe(this,r);var u;return a=e.call(this,n,o),u=ve(a),Object.defineProperty(ve(a),hA,{value:XWe}),Object.defineProperty(ve(a),cA,{value:YWe}),Object.defineProperty(ve(a),zt,{writable:!0,value:null}),Object.defineProperty(ve(a),Ki,{writable:!0,value:!1}),Object.defineProperty(ve(a),ct,{writable:!0,value:null}),Object.defineProperty(ve(a),lt,{writable:!0,value:null}),Object.defineProperty(ve(a),Yi,{writable:!0,value:null}),Object.defineProperty(ve(a),Gt,{writable:!0,value:null}),Object.defineProperty(ve(a),bp,{writable:!0,value:null}),Object.defineProperty(ve(a),hu,{writable:!0,value:i(function(l){if(l===void 0&&(l=null),!fe(u,bp)[bp])return Promise.reject(new Error("Microphone access not supported"));fe(u,Ki)[Ki]=!0,fe(u,cA)[cA]().then(function(f){return u.setPluginState({hasAudio:f}),fe(u,Gt)[Gt].getUserMedia({audio:!0}).then(function(d){fe(u,zt)[zt]=d;var y=null,m=d.getAudioTracks();!l||!l.deviceId?y=m[0].getSettings().deviceId:m.forEach(function(w){w.getSettings().deviceId===l.deviceId&&(y=w.getSettings().deviceId)}),fe(u,vu)[vu](),u.setPluginState({currentDeviceId:y,audioReady:!0})}).catch(function(d){u.setPluginState({audioReady:!1,cameraError:d}),u.uppy.info(d.message,"error")})})},"value")}),Object.defineProperty(ve(a),fA,{writable:!0,value:i(function(){fe(ve(a),lt)[lt]=new MediaRecorder(fe(ve(a),zt)[zt]),fe(ve(a),ct)[ct]=[];var l=!1;fe(ve(a),lt)[lt].addEventListener("dataavailable",function(f){fe(ve(a),ct)[ct].push(f.data);var d=a.uppy.opts.restrictions;if(fe(ve(a),ct)[ct].length>1&&d.maxFileSize!=null&&!l){var y=fe(ve(a),ct)[ct].reduce(function(T,R){return T+R.size},0),m=(y-fe(ve(a),ct)[ct][0].size)/(fe(ve(a),ct)[ct].length-1),w=m*3,_=Math.max(0,d.maxFileSize-w);y>_&&(l=!0,a.uppy.info(a.i18n("recordingStoppedMaxSize"),"warning",4e3),fe(ve(a),wp)[wp]())}}),fe(ve(a),lt)[lt].start(500),a.recordingLengthTimer=setInterval(function(){var f=a.getPluginState().recordingLengthSeconds;a.setPluginState({recordingLengthSeconds:f+1})},1e3),a.setPluginState({isRecording:!0})},"value")}),Object.defineProperty(ve(a),wp,{writable:!0,value:i(function(){var l=new Promise(function(f){fe(ve(a),lt)[lt].addEventListener("stop",function(){f()}),fe(ve(a),lt)[lt].stop(),clearInterval(a.recordingLengthTimer),a.setPluginState({recordingLengthSeconds:0})});return l.then(function(){return a.setPluginState({isRecording:!1}),fe(ve(a),hA)[hA]()}).then(function(f){try{fe(ve(a),Yi)[Yi]=f,a.setPluginState({recordedAudio:URL.createObjectURL(f.data)})}catch(d){d.isRestriction||a.uppy.log(d)}}).then(function(){fe(ve(a),ct)[ct]=null,fe(ve(a),lt)[lt]=null},function(f){throw fe(ve(a),ct)[ct]=null,fe(ve(a),lt)[lt]=null,f})},"value")}),Object.defineProperty(ve(a),pA,{writable:!0,value:i(function(){a.setPluginState({recordedAudio:null}),fe(ve(a),Yi)[Yi]=null},"value")}),Object.defineProperty(ve(a),dA,{writable:!0,value:i(function(){try{fe(ve(a),Yi)[Yi]&&a.uppy.addFile(fe(ve(a),Yi)[Yi])}catch(l){l.isRestriction||a.uppy.log(l,"error")}},"value")}),Object.defineProperty(ve(a),Xi,{writable:!0,value:function(){var s=MWe(yA().mark(i(function f(){var d;return yA().wrap(i(function(m){for(;;)switch(m.prev=m.next){case 0:if(fe(ve(a),zt)[zt]&&(d=fe(ve(a),zt)[zt].getAudioTracks(),d.forEach(function(w){return w.stop()})),!fe(ve(a),lt)[lt]){m.next=4;break}return m.next=4,new Promise(function(w){fe(ve(a),lt)[lt].addEventListener("stop",w,{once:!0}),fe(ve(a),lt)[lt].stop(),clearInterval(a.recordingLengthTimer)});case 4:fe(ve(a),ct)[ct]=null,fe(ve(a),lt)[lt]=null,fe(ve(a),Ki)[Ki]=!1,fe(ve(a),zt)[zt]=null,a.setPluginState({recordedAudio:null,isRecording:!1,recordingLengthSeconds:0});case 9:case"end":return m.stop()}},"_callee$"),f)},"_callee")));function l(){return s.apply(this,arguments)}return i(l,"value"),l}()}),Object.defineProperty(ve(a),vA,{writable:!0,value:i(function(l){fe(ve(a),Xi)[Xi](),fe(ve(a),hu)[hu]({deviceId:l})},"value")}),Object.defineProperty(ve(a),vu,{writable:!0,value:i(function(){fe(ve(a),Gt)[Gt].enumerateDevices().then(function(l){a.setPluginState({audioSources:l.filter(function(f){return f.kind==="audioinput"})})})},"value")}),fe(ve(a),Gt)[Gt]=navigator.mediaDevices,fe(ve(a),bp)[bp]=fe(ve(a),Gt)[Gt]!=null,a.id=a.opts.id||"Audio",a.type="acquirer",a.icon=function(){return O("svg",{"aria-hidden":"true",focusable:"false",width:"32px",height:"32px",viewBox:"0 0 32 32"},O("g",{fill:"none","fill-rule":"evenodd"},O("rect",{fill:"#9B59B6",width:"32",height:"32",rx:"16"}),O("path",{d:"M16 20c-2.21 0-4-1.71-4-3.818V9.818C12 7.71 13.79 6 16 6s4 1.71 4 3.818v6.364C20 18.29 18.21 20 16 20zm-6.364-7h.637c.351 0 .636.29.636.65v1.95c0 3.039 2.565 5.477 5.6 5.175 2.645-.264 4.582-2.692 4.582-5.407V13.65c0-.36.285-.65.636-.65h.637c.351 0 .636.29.636.65v1.631c0 3.642-2.544 6.888-6.045 7.382v1.387h2.227c.351 0 .636.29.636.65v.65c0 .36-.285.65-.636.65h-6.364a.643.643 0 0 1-.636-.65v-.65c0-.36.285-.65.636-.65h2.227v-1.372C11.637 22.2 9 19.212 9 15.6v-1.95c0-.36.285-.65.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))},a.defaultLocale=PW,a.opts=DWe({},o),a.i18nInit(),a.title=a.i18n("pluginNameAudio"),a.setPluginState({hasAudio:!1,audioReady:!1,cameraError:null,recordingLengthSeconds:0,audioSources:[],currentDeviceId:null}),a}return i(r,"Audio"),$We(r,[{key:"render",value:i(function(){fe(this,Ki)[Ki]||fe(this,hu)[hu]();var o=this.getPluginState();return!o.audioReady||!o.hasAudio?O(_W,{icon:this.icon,i18n:this.i18n,hasAudio:o.hasAudio}):O(lA,gA({},o,{audioActive:fe(this,Ki)[Ki],onChangeSource:fe(this,vA)[vA],onStartRecording:fe(this,fA)[fA],onStopRecording:fe(this,wp)[wp],onDiscardRecordedAudio:fe(this,pA)[pA],onSubmit:fe(this,dA)[dA],onStop:fe(this,Xi)[Xi],i18n:this.i18n,showAudioSourceDropdown:this.opts.showAudioSourceDropdown,supportsRecording:QT(),recording:o.isRecording,stream:fe(this,zt)[zt]}))},"render")},{key:"install",value:i(function(){var o=this;this.setPluginState({audioReady:!1,recordingLengthSeconds:0});var a=this.opts.target;a&&this.mount(a,this),fe(this,Gt)[Gt]&&(fe(this,vu)[vu](),fe(this,Gt)[Gt].ondevicechange=function(){if(fe(o,vu)[vu](),fe(o,zt)[zt]){var u=!0,s=o.getPluginState(),l=s.audioSources,f=s.currentDeviceId;l.forEach(function(d){f===d.deviceId&&(u=!1)}),u&&(fe(o,Xi)[Xi](),fe(o,hu)[hu]())}})},"install")},{key:"uninstall",value:i(function(){fe(this,zt)[zt]&&fe(this,Xi)[Xi](),this.unmount()},"uninstall")}]),r}(Se);function YWe(){return fe(this,Gt)[Gt]?fe(this,Gt)[Gt].enumerateDevices().then(function(t){return t.some(function(e){return e.kind==="audioinput"})}):Promise.resolve(!1)}i(YWe,"_hasAudioCheck2");function XWe(){var t=fe(this,ct)[ct].find(function(a){var u;return((u=a.type)==null?void 0:u.length)>0}).type,e=li(t);if(!e)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(t,'"')));var r="audio-".concat(Date.now(),".").concat(e),n=new Blob(fe(this,ct)[ct],{type:t}),o={source:this.id,name:r,data:new Blob([n],{type:t}),type:t};return Promise.resolve(o)}i(XWe,"_getAudio2");bg.VERSION=KWe.version;var AW={strings:{pluginNameBox:"Box"}};function bA(t){return bA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bA(t)}i(bA,"_typeof");function JWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(JWe,"_classCallCheck");function IW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(IW,"_defineProperties");function QWe(t,e,r){return e&&IW(t.prototype,e),r&&IW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(QWe,"_createClass");function ZWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wA(t,e)}i(ZWe,"_inherits");function wA(t,e){return wA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),wA(t,e)}i(wA,"_setPrototypeOf");function eKe(t){var e=rKe();return i(function(){var n=Og(t),o;if(e){var a=Og(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return tKe(this,o)},"_createSuperInternal")}i(eKe,"_createSuper");function tKe(t,e){if(e&&(bA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wg(t)}i(tKe,"_possibleConstructorReturn");function wg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(wg,"_assertThisInitialized");function rKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(rKe,"_isNativeReflectConstruct");function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Og(t)}i(Og,"_getPrototypeOf");var nKe={version:"2.0.0-beta.2"},cl=function(t){ZWe(r,t);var e=eKe(r);function r(n,o){var a;return JWe(this,r),a=e.call(this,n,o),a.id=a.opts.id||"Box",Me.initPlugin(wg(a),o),a.title=a.opts.title||"Box",a.icon=function(){return O("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},O("g",{fill:"none",fillRule:"evenodd"},O("rect",{className:"uppy-ProviderIconBg",fill:"#0061D5",width:"32",height:"32",rx:"16"}),O("g",{fill:"#fff",fillRule:"nonzero"},O("path",{d:"m16.4 13.5c-1.6 0-3 0.9-3.7 2.2-0.7-1.3-2.1-2.2-3.7-2.2-1 0-1.8 0.3-2.5 0.8v-3.6c-0.1-0.3-0.5-0.7-1-0.7s-0.8 0.4-0.8 0.8v7c0 2.3 1.9 4.2 4.2 4.2 1.6 0 3-0.9 3.7-2.2 0.7 1.3 2.1 2.2 3.7 2.2 2.3 0 4.2-1.9 4.2-4.2 0.1-2.4-1.8-4.3-4.1-4.3m-7.5 6.8c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5m7.5 0c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5"}),O("path",{d:"m27.2 20.6l-2.3-2.8 2.3-2.8c0.3-0.4 0.2-0.9-0.2-1.2s-1-0.2-1.3 0.2l-2 2.4-2-2.4c-0.3-0.4-0.9-0.4-1.3-0.2-0.4 0.3-0.5 0.8-0.2 1.2l2.3 2.8-2.3 2.8c-0.3 0.4-0.2 0.9 0.2 1.2s1 0.2 1.3-0.2l2-2.4 2 2.4c0.3 0.4 0.9 0.4 1.3 0.2 0.4-0.3 0.4-0.8 0.2-1.2"}))))},a.provider=new Me(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"box",pluginId:a.id}),a.defaultLocale=AW,a.i18nInit(),a.title=a.i18n("pluginNameBox"),a.onFirstRender=a.onFirstRender.bind(wg(a)),a.render=a.render.bind(wg(a)),a}return i(r,"Box"),QWe(r,[{key:"install",value:i(function(){this.view=new Nt(this,{provider:this.provider});var o=this.opts.target;o&&this.mount(o,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return this.view.getFolder()},"onFirstRender")},{key:"render",value:i(function(o){return this.view.render(o)},"render")}]),r}(Se);cl.VERSION=nKe.version;var qW={strings:{pluginNameDropbox:"Dropbox"}};function OA(t){return OA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OA(t)}i(OA,"_typeof");function iKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(iKe,"_classCallCheck");function kW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(kW,"_defineProperties");function oKe(t,e,r){return e&&kW(t.prototype,e),r&&kW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(oKe,"_createClass");function aKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SA(t,e)}i(aKe,"_inherits");function SA(t,e){return SA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),SA(t,e)}i(SA,"_setPrototypeOf");function uKe(t){var e=lKe();return i(function(){var n=_g(t),o;if(e){var a=_g(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return sKe(this,o)},"_createSuperInternal")}i(uKe,"_createSuper");function sKe(t,e){if(e&&(OA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sg(t)}i(sKe,"_possibleConstructorReturn");function Sg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Sg,"_assertThisInitialized");function lKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(lKe,"_isNativeReflectConstruct");function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),_g(t)}i(_g,"_getPrototypeOf");var cKe={version:"3.0.0-beta.2"},fl=function(t){aKe(r,t);var e=uKe(r);function r(n,o){var a;return iKe(this,r),a=e.call(this,n,o),a.id=a.opts.id||"Dropbox",Me.initPlugin(Sg(a),o),a.title=a.opts.title||"Dropbox",a.icon=function(){return O("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},O("g",{fill:"none",fillRule:"evenodd"},O("rect",{className:"uppy-ProviderIconBg",fill:"#0D2481",width:"32",height:"32",rx:"16"}),O("path",{d:"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z",fill:"#FFF",fillRule:"nonzero"})))},a.provider=new Me(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"dropbox",pluginId:a.id}),a.defaultLocale=qW,a.i18nInit(),a.title=a.i18n("pluginNameDropbox"),a.onFirstRender=a.onFirstRender.bind(Sg(a)),a.render=a.render.bind(Sg(a)),a}return i(r,"Dropbox"),oKe(r,[{key:"install",value:i(function(){this.view=new Nt(this,{provider:this.provider});var o=this.opts.target;o&&this.mount(o,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])},"onFirstRender")},{key:"render",value:i(function(o){return this.view.render(o)},"render")}]),r}(Se);fl.VERSION=cKe.version;var xW={strings:{pluginNameFacebook:"Facebook"}};function _A(t){return _A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_A(t)}i(_A,"_typeof");function fKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(fKe,"_classCallCheck");function CW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(CW,"_defineProperties");function pKe(t,e,r){return e&&CW(t.prototype,e),r&&CW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(pKe,"_createClass");function dKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PA(t,e)}i(dKe,"_inherits");function PA(t,e){return PA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),PA(t,e)}i(PA,"_setPrototypeOf");function hKe(t){var e=yKe();return i(function(){var n=Eg(t),o;if(e){var a=Eg(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return vKe(this,o)},"_createSuperInternal")}i(hKe,"_createSuper");function vKe(t,e){if(e&&(_A(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pg(t)}i(vKe,"_possibleConstructorReturn");function Pg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Pg,"_assertThisInitialized");function yKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(yKe,"_isNativeReflectConstruct");function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Eg(t)}i(Eg,"_getPrototypeOf");var mKe={version:"3.0.0-beta.2"},pl=function(t){dKe(r,t);var e=hKe(r);function r(n,o){var a;return fKe(this,r),a=e.call(this,n,o),a.id=a.opts.id||"Facebook",Me.initPlugin(Pg(a),o),a.title=a.opts.title||"Facebook",a.icon=function(){return O("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},O("g",{fill:"none",fillRule:"evenodd"},O("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#3C5A99"}),O("path",{d:"M17.842 26v-8.667h2.653l.398-3.377h-3.051v-2.157c0-.978.248-1.644 1.527-1.644H21V7.132A19.914 19.914 0 0 0 18.623 7c-2.352 0-3.963 1.574-3.963 4.465v2.49H12v3.378h2.66V26h3.182z",fill:"#FFF",fillRule:"nonzero"})))},a.provider=new Me(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"facebook",pluginId:a.id}),a.defaultLocale=xW,a.i18nInit(),a.title=a.i18n("pluginNameFacebook"),a.onFirstRender=a.onFirstRender.bind(Pg(a)),a.render=a.render.bind(Pg(a)),a}return i(r,"Facebook"),pKe(r,[{key:"install",value:i(function(){this.view=new Nt(this,{provider:this.provider});var o=this.opts.target;o&&this.mount(o,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])},"onFirstRender")},{key:"render",value:i(function(o){var a={};return this.getPluginState().files.length&&!this.getPluginState().folders.length&&(a.viewType="grid",a.showFilter=!1,a.showTitles=!1),this.view.render(o,a)},"render")}]),r}(Se);pl.VERSION=mKe.version;function EA(t){return EA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EA(t)}i(EA,"_typeof");function gKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(gKe,"_classCallCheck");function FW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(FW,"_defineProperties");function bKe(t,e,r){return e&&FW(t.prototype,e),r&&FW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(bKe,"_createClass");function Rg(){return typeof Reflect!="undefined"&&Reflect.get?Rg=Reflect.get.bind():Rg=i(function(e,r,n){var o=wKe(e,r);if(!!o){var a=Object.getOwnPropertyDescriptor(o,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},"_get"),Rg.apply(this,arguments)}i(Rg,"_get");function wKe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=dl(t),t!==null););return t}i(wKe,"_superPropBase");function OKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RA(t,e)}i(OKe,"_inherits");function RA(t,e){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),RA(t,e)}i(RA,"_setPrototypeOf");function SKe(t){var e=EKe();return i(function(){var n=dl(t),o;if(e){var a=dl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return _Ke(this,o)},"_createSuperInternal")}i(SKe,"_createSuper");function _Ke(t,e){if(e&&(EA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PKe(t)}i(_Ke,"_possibleConstructorReturn");function PKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(PKe,"_assertThisInitialized");function EKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(EKe,"_isNativeReflectConstruct");function dl(t){return dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),dl(t)}i(dl,"_getPrototypeOf");var LW=function(t){OKe(r,t);var e=SKe(r);function r(){return gKe(this,r),e.apply(this,arguments)}return i(r,"DriveProviderViews"),bKe(r,[{key:"toggleCheckbox",value:i(function(o,a){o.stopPropagation(),o.preventDefault(),a.custom.isSharedDrive||Rg(dl(r.prototype),"toggleCheckbox",this).call(this,o,a)},"toggleCheckbox")}]),r}(Nt);var jW={strings:{pluginNameGoogleDrive:"Google Drive"}};function TA(t){return TA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TA(t)}i(TA,"_typeof");function RKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(RKe,"_classCallCheck");function NW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(NW,"_defineProperties");function TKe(t,e,r){return e&&NW(t.prototype,e),r&&NW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(TKe,"_createClass");function AKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AA(t,e)}i(AKe,"_inherits");function AA(t,e){return AA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),AA(t,e)}i(AA,"_setPrototypeOf");function IKe(t){var e=kKe();return i(function(){var n=Ag(t),o;if(e){var a=Ag(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return qKe(this,o)},"_createSuperInternal")}i(IKe,"_createSuper");function qKe(t,e){if(e&&(TA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tg(t)}i(qKe,"_possibleConstructorReturn");function Tg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Tg,"_assertThisInitialized");function kKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(kKe,"_isNativeReflectConstruct");function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Ag(t)}i(Ag,"_getPrototypeOf");var xKe={version:"3.0.0-beta.2"},hl=function(t){AKe(r,t);var e=IKe(r);function r(n,o){var a;return RKe(this,r),a=e.call(this,n,o),a.id=a.opts.id||"GoogleDrive",a.title=a.opts.title||"Google Drive",Me.initPlugin(Tg(a),o),a.title=a.opts.title||"Google Drive",a.icon=function(){return O("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},O("g",{fill:"none",fillRule:"evenodd"},O("rect",{className:"uppy-ProviderIconBg",fill:"#4285F4",width:"32",height:"32",rx:"16"}),O("path",{d:"M25.216 17.736L19.043 7h-6.086l6.175 10.736h6.084zm-11.275.896L10.9 24h11.723l3.04-5.368H13.942zm-1.789-10.29l-5.816 10.29L9.38 24l5.905-10.29-3.132-5.369z",fill:"#FFF"})))},a.provider=new Me(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"drive",pluginId:a.id}),a.defaultLocale=jW,a.i18nInit(),a.title=a.i18n("pluginNameGoogleDrive"),a.onFirstRender=a.onFirstRender.bind(Tg(a)),a.render=a.render.bind(Tg(a)),a}return i(r,"GoogleDrive"),TKe(r,[{key:"install",value:i(function(){this.view=new LW(this,{provider:this.provider});var o=this.opts.target;o&&this.mount(o,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("root","/")])},"onFirstRender")},{key:"render",value:i(function(o){return this.view.render(o)},"render")}]),r}(Se);hl.VERSION=xKe.version;var DW={strings:{pluginNameInstagram:"Instagram"}};function IA(t){return IA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IA(t)}i(IA,"_typeof");function CKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(CKe,"_classCallCheck");function UW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(UW,"_defineProperties");function FKe(t,e,r){return e&&UW(t.prototype,e),r&&UW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(FKe,"_createClass");function LKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qA(t,e)}i(LKe,"_inherits");function qA(t,e){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),qA(t,e)}i(qA,"_setPrototypeOf");function jKe(t){var e=DKe();return i(function(){var n=qg(t),o;if(e){var a=qg(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return NKe(this,o)},"_createSuperInternal")}i(jKe,"_createSuper");function NKe(t,e){if(e&&(IA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ig(t)}i(NKe,"_possibleConstructorReturn");function Ig(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Ig,"_assertThisInitialized");function DKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(DKe,"_isNativeReflectConstruct");function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),qg(t)}i(qg,"_getPrototypeOf");var UKe={version:"3.0.0-beta.2"},vl=function(t){LKe(r,t);var e=jKe(r);function r(n,o){var a;return CKe(this,r),a=e.call(this,n,o),a.id=a.opts.id||"Instagram",Me.initPlugin(Ig(a),o),a.icon=function(){return O("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},O("g",{fill:"none",fillRule:"evenodd"},O("rect",{className:"uppy-ProviderIconBg",fill:"#E1306C",width:"32",height:"32",rx:"16"}),O("path",{d:"M16 8.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.392.144.745.374 1.036.673.299.29.529.644.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.671a2.98 2.98 0 0 1-1.708 1.708c-.317.123-.794.27-1.671.31-.95.043-1.234.053-3.637.053s-2.688-.01-3.637-.053c-.877-.04-1.354-.187-1.671-.31a2.788 2.788 0 0 1-1.035-.673 2.788 2.788 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.949-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.144-.392.374-.745.673-1.036.29-.299.644-.529 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052zM16 7c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.419-.6.225-1.145.58-1.594 1.038-.458.45-.813.993-1.039 1.594-.222.572-.374 1.226-.418 2.184C7.01 13.25 7 13.556 7 16s.01 2.75.054 3.71c.044.959.196 1.613.419 2.185.226.6.58 1.145 1.038 1.594.45.458.993.813 1.594 1.038.572.223 1.227.375 2.184.419.96.044 1.267.054 3.711.054s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.602 4.602 0 0 0 2.632-2.632c.223-.572.375-1.226.419-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 23.49 8.51a4.412 4.412 0 0 0-1.594-1.039c-.572-.222-1.226-.374-2.184-.418C18.75 7.01 18.444 7 16 7zm0 4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7.421a2.921 2.921 0 1 1 0-5.842 2.921 2.921 0 0 1 0 5.842zm4.875-6.671a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25z",fill:"#FFF"})))},a.defaultLocale=DW,a.i18nInit(),a.title=a.i18n("pluginNameInstagram"),a.provider=new Me(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"instagram",pluginId:a.id}),a.onFirstRender=a.onFirstRender.bind(Ig(a)),a.render=a.render.bind(Ig(a)),a}return i(r,"Instagram"),FKe(r,[{key:"install",value:i(function(){this.view=new Nt(this,{provider:this.provider,viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1});var o=this.opts.target;o&&this.mount(o,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("recent")])},"onFirstRender")},{key:"render",value:i(function(o){return this.view.render(o)},"render")}]),r}(Se);vl.VERSION=UKe.version;var MW={strings:{pluginNameOneDrive:"OneDrive"}};function kA(t){return kA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kA(t)}i(kA,"_typeof");function MKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(MKe,"_classCallCheck");function BW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(BW,"_defineProperties");function BKe(t,e,r){return e&&BW(t.prototype,e),r&&BW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(BKe,"_createClass");function $Ke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xA(t,e)}i($Ke,"_inherits");function xA(t,e){return xA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),xA(t,e)}i(xA,"_setPrototypeOf");function zKe(t){var e=HKe();return i(function(){var n=xg(t),o;if(e){var a=xg(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return GKe(this,o)},"_createSuperInternal")}i(zKe,"_createSuper");function GKe(t,e){if(e&&(kA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kg(t)}i(GKe,"_possibleConstructorReturn");function kg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(kg,"_assertThisInitialized");function HKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(HKe,"_isNativeReflectConstruct");function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),xg(t)}i(xg,"_getPrototypeOf");var VKe={version:"3.0.0-beta.2"},yl=function(t){$Ke(r,t);var e=zKe(r);function r(n,o){var a;return MKe(this,r),a=e.call(this,n,o),a.id=a.opts.id||"OneDrive",Me.initPlugin(kg(a),o),a.title=a.opts.title||"OneDrive",a.icon=function(){return O("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},O("g",{fill:"none",fillRule:"evenodd"},O("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0262C0"}),O("g",{fill:"#FFF",fillRule:"nonzero"},O("path",{d:"M24.157 22s1.492-.205 1.79-1.655a2.624 2.624 0 0 0 .03-.878c-.22-1.64-1.988-2.01-1.988-2.01s.307-1.765-1.312-2.69c-1.62-.925-3.1 0-3.1 0S18.711 13 16.366 13c-3.016 0-3.519 3.448-3.519 3.448S10 16.618 10 19.14c0 2.523 2.597 2.86 2.597 2.86h11.56z"}),O("path",{d:"M9.421 19.246c0-2.197 1.606-3.159 2.871-3.472.44-1.477 1.654-3.439 4.135-3.439H16.445c1.721 0 2.79.823 3.368 1.476a3.99 3.99 0 0 1 1.147-.171h.01l.03.002C21.017 13.5 20.691 10 16.757 10c-2.69 0-3.639 2.345-3.639 2.345s-1.95-1.482-3.955.567c-1.028 1.052-.79 2.669-.79 2.669S6 15.824 6 18.412C6 20.757 8.452 21 8.452 21h1.372a3.77 3.77 0 0 1-.403-1.754z"}))))},a.provider=new Me(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionCookiesRule:a.opts.companionCookiesRule,provider:"onedrive",pluginId:a.id}),a.defaultLocale=MW,a.i18nInit(),a.title=a.i18n("pluginNameOneDrive"),a.onFirstRender=a.onFirstRender.bind(kg(a)),a.render=a.render.bind(kg(a)),a}return i(r,"OneDrive"),BKe(r,[{key:"install",value:i(function(){this.view=new Nt(this,{provider:this.provider});var o=this.opts.target;o&&this.mount(o,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])},"onFirstRender")},{key:"render",value:i(function(o){return this.view.render(o)},"render")}]),r}(Se);yl.VERSION=VKe.version;function CA(t){return CA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CA(t)}i(CA,"_typeof");function WKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(WKe,"_classCallCheck");function $W(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i($W,"_defineProperties");function KKe(t,e,r){return e&&$W(t.prototype,e),r&&$W(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(KKe,"_createClass");function YKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FA(t,e)}i(YKe,"_inherits");function FA(t,e){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),FA(t,e)}i(FA,"_setPrototypeOf");function XKe(t){var e=QKe();return i(function(){var n=Cg(t),o;if(e){var a=Cg(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return JKe(this,o)},"_createSuperInternal")}i(XKe,"_createSuper");function JKe(t,e){if(e&&(CA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zW(t)}i(JKe,"_possibleConstructorReturn");function zW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(zW,"_assertThisInitialized");function QKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(QKe,"_isNativeReflectConstruct");function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Cg(t)}i(Cg,"_getPrototypeOf");var ZKe={version:"3.0.0-beta.2"},ml=function(t){YKe(r,t);var e=XKe(r);function r(n,o){var a;if(WKe(this,r),a=e.call(this,n,o),a.id=a.opts.id||"Unsplash",a.title=a.opts.title||"Unsplash",Me.initPlugin(zW(a),o,{}),a.icon=function(){return O("svg",{viewBox:"0 0 32 32",height:"32",width:"32","aria-hidden":"true"},O("path",{d:"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z",fill:"#fff"}),O("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16"}),O("path",{d:"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z",fill:"#fff"}))},!a.opts.companionUrl)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return a.hostname=a.opts.companionUrl,a.provider=new um(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionCookiesRule:a.opts.companionCookiesRule,provider:"unsplash",pluginId:a.id}),a}return i(r,"Unsplash"),KKe(r,[{key:"install",value:i(function(){this.view=new el(this,{provider:this.provider,viewType:"unsplash"});var o=this.opts.target;o&&this.mount(o,this)},"install")},{key:"onFirstRender",value:i(function(){},"onFirstRender")},{key:"render",value:i(function(o){return this.view.render(o)},"render")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}]),r}(Se);ml.VERSION=ZKe.version;function LA(t){return LA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LA(t)}i(LA,"_typeof");function eYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(eYe,"_classCallCheck");function GW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(GW,"_defineProperties");function tYe(t,e,r){return e&&GW(t.prototype,e),r&&GW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(tYe,"_createClass");function rYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jA(t,e)}i(rYe,"_inherits");function jA(t,e){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),jA(t,e)}i(jA,"_setPrototypeOf");function nYe(t){var e=oYe();return i(function(){var n=Fg(t),o;if(e){var a=Fg(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return iYe(this,o)},"_createSuperInternal")}i(nYe,"_createSuper");function iYe(t,e){if(e&&(LA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NA(t)}i(iYe,"_possibleConstructorReturn");function NA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(NA,"_assertThisInitialized");function oYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(oYe,"_isNativeReflectConstruct");function Fg(t){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Fg(t)}i(Fg,"_getPrototypeOf");var aYe=function(t){rYe(r,t);var e=nYe(r);function r(n){var o;return eYe(this,r),o=e.call(this,n),o.handleKeyPress=o.handleKeyPress.bind(NA(o)),o.handleClick=o.handleClick.bind(NA(o)),o}return i(r,"UrlUI"),tYe(r,[{key:"componentDidMount",value:i(function(){this.input.value=""},"componentDidMount")},{key:"handleKeyPress",value:i(function(o){var a=this.props.addFile;o.keyCode===13&&a(this.input.value)},"handleKeyPress")},{key:"handleClick",value:i(function(){var o=this.props.addFile;o(this.input.value)},"handleClick")},{key:"render",value:i(function(){var o=this,a=this.props.i18n;return O("div",{className:"uppy-Url"},O("input",{className:"uppy-u-reset uppy-c-textInput uppy-Url-input",type:"text","aria-label":a("enterUrlToImport"),placeholder:a("enterUrlToImport"),onKeyUp:this.handleKeyPress,ref:i(function(s){o.input=s},"ref"),"data-uppy-super-focusable":!0}),O("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button",onClick:this.handleClick},a("import")))},"render")}]),r}(Be),HW=aYe;function Lg(t,e,r){var n=Pt(t.items),o;switch(e){case"paste":{var a=n.some(function(u){return u.kind==="file"});if(a)return;o=n.filter(function(u){return u.kind==="string"&&u.type==="text/plain"});break}case"drop":{o=n.filter(function(u){return u.kind==="string"&&u.type==="text/uri-list"});break}default:throw new Error("isDropOrPaste must be either 'drop' or 'paste', but it's ".concat(e))}o.forEach(function(u){u.getAsString(function(s){return r(s)})})}i(Lg,"forEachDroppedOrPastedUrl");var VW={strings:{import:"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Companion failed to fetch this URL, please make sure it\u2019s correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}};function jg(t){return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}i(jg,"_typeof");function DA(){"use strict";DA=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&jg(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(DA,"_regeneratorRuntime");function WW(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(WW,"asyncGeneratorStep");function uYe(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){WW(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){WW(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(uYe,"_asyncToGenerator");function KW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(KW,"ownKeys");function YW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KW(Object(r),!0).forEach(function(n){sYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(YW,"_objectSpread");function sYe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(sYe,"_defineProperty");function lYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(lYe,"_classCallCheck");function XW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(XW,"_defineProperties");function cYe(t,e,r){return e&&XW(t.prototype,e),r&&XW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(cYe,"_createClass");function fYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UA(t,e)}i(fYe,"_inherits");function UA(t,e){return UA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),UA(t,e)}i(UA,"_setPrototypeOf");function pYe(t){var e=hYe();return i(function(){var n=Ng(t),o;if(e){var a=Ng(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return dYe(this,o)},"_createSuperInternal")}i(pYe,"_createSuper");function dYe(t,e){if(e&&(jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Op(t)}i(dYe,"_possibleConstructorReturn");function Op(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Op,"_assertThisInitialized");function hYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(hYe,"_isNativeReflectConstruct");function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Ng(t)}i(Ng,"_getPrototypeOf");var vYe={version:"3.0.0-beta.3"};function yYe(){return O("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},O("g",{fill:"none",fillRule:"evenodd"},O("rect",{className:"uppy-ProviderIconBg",fill:"#FF753E",width:"32",height:"32",rx:"16"}),O("path",{d:"M22.788 15.389l-2.199 2.19a3.184 3.184 0 0 1-.513.437c-.806.584-1.686.876-2.638.876a4.378 4.378 0 0 1-3.519-1.752c-.22-.292-.146-.802.147-1.021.293-.22.806-.146 1.026.146.953 1.313 2.785 1.532 4.105.583a.571.571 0 0 0 .293-.292l2.199-2.189c1.1-1.167 1.1-2.992-.073-4.086a2.976 2.976 0 0 0-4.105 0l-1.246 1.24a.71.71 0 0 1-1.026 0 .703.703 0 0 1 0-1.022l1.246-1.24a4.305 4.305 0 0 1 6.083 0c1.833 1.605 1.906 4.451.22 6.13zm-7.183 5.035l-1.246 1.24a2.976 2.976 0 0 1-4.105 0c-1.172-1.094-1.172-2.991-.073-4.086l2.2-2.19.292-.291c.66-.438 1.393-.657 2.2-.584.805.146 1.465.51 1.905 1.168.22.292.733.365 1.026.146.293-.22.367-.73.147-1.022-.733-.949-1.76-1.532-2.859-1.678-1.1-.22-2.272.073-3.225.802l-.44.438-2.199 2.19c-1.686 1.75-1.612 4.524.074 6.202.88.803 1.979 1.241 3.078 1.241 1.1 0 2.199-.438 3.079-1.24l1.246-1.241a.703.703 0 0 0 0-1.022c-.294-.292-.807-.365-1.1-.073z",fill:"#FFF",fillRule:"nonzero"})))}i(yYe,"UrlIcon");function mYe(t){var e=/^[a-z0-9]+:\/\//,r="http://";return e.test(t)?t:r+t}i(mYe,"addProtocolToURL");function gYe(t){var e=Pt(t.dataTransfer.items),r=e.filter(function(n){return n.kind==="string"&&n.type==="text/uri-list"});return r.length>0}i(gYe,"canHandleRootDrop");function bYe(t){if(!t)return!1;var e=t.match(/^([a-z0-9]+):\/\//)[1];return!(e!=="http"&&e!=="https")}i(bYe,"checkIfCorrectURL");function wYe(t){var e=new URL(t),r=e.pathname;return r.substring(r.lastIndexOf("/")+1)}i(wYe,"getFileNameFromUrl");var yu=function(t){fYe(r,t);var e=pYe(r);function r(n,o){var a;lYe(this,r),a=e.call(this,n,o),a.id=a.opts.id||"Url",a.title=a.opts.title||"Link",a.type="acquirer",a.icon=function(){return O(yYe,null)},a.defaultLocale=VW;var u={};if(a.opts=YW(YW({},u),o),a.i18nInit(),a.hostname=a.opts.companionUrl,!a.hostname)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return a.getMeta=a.getMeta.bind(Op(a)),a.addFile=a.addFile.bind(Op(a)),a.handleRootDrop=a.handleRootDrop.bind(Op(a)),a.handleRootPaste=a.handleRootPaste.bind(Op(a)),a.client=new pt(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionCookiesRule:a.opts.companionCookiesRule}),a}return i(r,"Url"),cYe(r,[{key:"getMeta",value:i(function(o){var a=this;return this.client.post("url/meta",{url:o}).then(function(u){if(u.error)throw a.uppy.log("[URL] Error:"),a.uppy.log(u.error),new Error("Failed to fetch the file");return u})},"getMeta")},{key:"addFile",value:function(){var n=uYe(DA().mark(i(function a(u,s){var l,f,d;return DA().wrap(i(function(m){for(;;)switch(m.prev=m.next){case 0:if(s===void 0&&(s=void 0),l=mYe(u),bYe(l)){m.next=6;break}return this.uppy.log("[URL] Incorrect URL entered: ".concat(l)),this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3),m.abrupt("return",void 0);case 6:return m.prev=6,m.next=9,this.getMeta(l);case 9:return f=m.sent,d={meta:s,source:this.id,name:wYe(l),type:f.type,data:{size:f.size},isRemote:!0,body:{url:l},remote:{companionUrl:this.opts.companionUrl,url:"".concat(this.hostname,"/url/get"),body:{fileId:l,url:l},providerOptions:this.client.opts}},this.uppy.log("[Url] Adding remote file"),m.prev=12,m.abrupt("return",this.uppy.addFile(d));case 16:return m.prev=16,m.t0=m.catch(12),m.t0.isRestriction||this.uppy.log(m.t0),m.abrupt("return",m.t0);case 20:m.next=27;break;case 22:return m.prev=22,m.t1=m.catch(6),this.uppy.log(m.t1),this.uppy.info({message:this.i18n("failedToFetch"),details:m.t1},"error",4e3),m.abrupt("return",m.t1);case 27:case"end":return m.stop()}},"_callee$"),a,this,[[6,22],[12,16]])},"_callee")));function o(a,u){return n.apply(this,arguments)}return i(o,"addFile"),o}()},{key:"handleRootDrop",value:i(function(o){var a=this;Lg(o.dataTransfer,"drop",function(u){a.uppy.log("[URL] Adding file from dropped url: ".concat(u)),a.addFile(u)})},"handleRootDrop")},{key:"handleRootPaste",value:i(function(o){var a=this;Lg(o.clipboardData,"paste",function(u){a.uppy.log("[URL] Adding file from pasted url: ".concat(u)),a.addFile(u)})},"handleRootPaste")},{key:"render",value:i(function(){return O(HW,{i18n:this.i18n,addFile:this.addFile})},"render")},{key:"install",value:i(function(){var o=this.opts.target;o&&this.mount(o,this)},"install")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}]),r}(Se);yu.VERSION=vYe.version;yu.prototype.canHandleRootDrop=gYe;var JW={strings:{pluginNameZoom:"Zoom"}};function MA(t){return MA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MA(t)}i(MA,"_typeof");function OYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(OYe,"_classCallCheck");function QW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(QW,"_defineProperties");function SYe(t,e,r){return e&&QW(t.prototype,e),r&&QW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(SYe,"_createClass");function _Ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BA(t,e)}i(_Ye,"_inherits");function BA(t,e){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),BA(t,e)}i(BA,"_setPrototypeOf");function PYe(t){var e=RYe();return i(function(){var n=Ug(t),o;if(e){var a=Ug(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return EYe(this,o)},"_createSuperInternal")}i(PYe,"_createSuper");function EYe(t,e){if(e&&(MA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dg(t)}i(EYe,"_possibleConstructorReturn");function Dg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Dg,"_assertThisInitialized");function RYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(RYe,"_isNativeReflectConstruct");function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Ug(t)}i(Ug,"_getPrototypeOf");var TYe={version:"2.0.0-beta.2"},gl=function(t){_Ye(r,t);var e=PYe(r);function r(n,o){var a;return OYe(this,r),a=e.call(this,n,o),a.id=a.opts.id||"Zoom",Me.initPlugin(Dg(a),o),a.title=a.opts.title||"Zoom",a.icon=function(){return O("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},O("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0E71EB"}),O("g",{fill:"none",fillRule:"evenodd"},O("path",{fill:"#fff",d:"M29,31H14c-1.657,0-3-1.343-3-3V17h15c1.657,0,3,1.343,3,3V31z",style:{transform:"translate(-5px, -5px) scale(0.9)"}}),O("polygon",{fill:"#fff",points:"37,31 31,27 31,21 37,17",style:{transform:"translate(-5px, -5px) scale(0.9)"}})))},a.provider=new Me(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"zoom",pluginId:a.id}),a.defaultLocale=JW,a.i18nInit(),a.title=a.i18n("pluginNameZoom"),a.onFirstRender=a.onFirstRender.bind(Dg(a)),a.render=a.render.bind(Dg(a)),a}return i(r,"Zoom"),SYe(r,[{key:"install",value:i(function(){this.view=new Nt(this,{provider:this.provider});var o=this.opts.target;o&&this.mount(o,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])},"onFirstRender")},{key:"render",value:i(function(o){return this.view.render(o)},"render")}]),r}(Se);gl.VERSION=TYe.version;function GA(t){return GA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GA(t)}i(GA,"_typeof");function AYe(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=IYe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,o=i(function(){},"F");return{s:o,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return a=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!a&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(AYe,"_createForOfIteratorHelper");function IYe(t,e){if(!!t){if(typeof t=="string")return ZW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZW(t,e)}}i(IYe,"_unsupportedIterableToArray");function ZW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(ZW,"_arrayLikeToArray");function eK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(eK,"ownKeys");function Mg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eK(Object(r),!0).forEach(function(n){qYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Mg,"_objectSpread");function qYe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(qYe,"_defineProperty");function kYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(kYe,"_classCallCheck");function tK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(tK,"_defineProperties");function xYe(t,e,r){return e&&tK(t.prototype,e),r&&tK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(xYe,"_createClass");function Bg(){return typeof Reflect!="undefined"&&Reflect.get?Bg=Reflect.get.bind():Bg=i(function(e,r,n){var o=CYe(e,r);if(!!o){var a=Object.getOwnPropertyDescriptor(o,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},"_get"),Bg.apply(this,arguments)}i(Bg,"_get");function CYe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=bl(t),t!==null););return t}i(CYe,"_superPropBase");function FYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HA(t,e)}i(FYe,"_inherits");function HA(t,e){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),HA(t,e)}i(HA,"_setPrototypeOf");function LYe(t){var e=NYe();return i(function(){var n=bl(t),o;if(e){var a=bl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return jYe(this,o)},"_createSuperInternal")}i(LYe,"_createSuper");function jYe(t,e){if(e&&(GA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rK(t)}i(jYe,"_possibleConstructorReturn");function rK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(rK,"_assertThisInitialized");function NYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(NYe,"_isNativeReflectConstruct");function bl(t){return bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),bl(t)}i(bl,"_getPrototypeOf");function $A(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i($A,"_classPrivateFieldLooseBase");var DYe=0;function UYe(t){return"__private_"+DYe+++"_"+t}i(UYe,"_classPrivateFieldLooseKey");var MYe={version:"1.0.0-beta.4"},zA={__proto__:null,Box:cl,Dropbox:fl,Facebook:pl,GoogleDrive:hl,Instagram:vl,OneDrive:yl,Unsplash:ml,Url:yu,Zoom:gl},mu=UYe("installedPlugins"),VA=function(t){FYe(r,t);var e=LYe(r);function r(n,o){var a;kYe(this,r),a=e.call(this,n,o),Object.defineProperty(rK(a),mu,{writable:!0,value:new Set}),a.id=a.opts.id||"RemoteSources",a.type="acquirer";var u={sources:Object.keys(zA),target:ll};if(a.opts=Mg(Mg({},u),o),a.opts.companionUrl==null)throw new Error("Please specify companionUrl for RemoteSources to work, see https://uppy.io/docs/remote-sources#companionUrl");return a}return i(r,"RemoteSources"),xYe(r,[{key:"setOptions",value:i(function(o){this.uninstall(),Bg(bl(r.prototype),"setOptions",this).call(this,o),this.install()},"setOptions")},{key:"install",value:i(function(){var o=this;this.opts.sources.forEach(function(a){var u=Mg(Mg({},o.opts),{},{sources:void 0}),s=zA[a];if(s==null){var l=Object.keys(zA),f=new Intl.ListFormat("en",{style:"long",type:"disjunction"});throw new Error('Invalid plugin: "'.concat(a,'" is not one of: ').concat(f.format(l),"."))}o.uppy.use(s,u),$A(o,mu)[mu].add(o.uppy.getPlugin(a))})},"install")},{key:"uninstall",value:i(function(){var o=AYe($A(this,mu)[mu]),a;try{for(o.s();!(a=o.n()).done;){var u=a.value;this.uppy.removePlugin(u)}}catch(s){o.e(s)}finally{o.f()}$A(this,mu)[mu].clear()},"uninstall")}]),r}(st);VA.VERSION=MYe.version;var nK=i(function(){return O("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},O("g",{fill:"none",fillRule:"evenodd"},O("rect",{className:"uppy-ProviderIconBg",fill:"#2C3E50",width:"32",height:"32",rx:"16"}),O("path",{d:"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z",fill:"#FFF",fillRule:"nonzero"}),O("circle",{fill:"#FFF",cx:"16",cy:"16",r:"2"})))},"default");function WA(t){var e=t.recording,r=t.onStartRecording,n=t.onStopRecording,o=t.i18n;return e?O("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video uppy-ScreenCapture-button--stop-rec",type:"button",title:o("stopCapturing"),"aria-label":o("stopCapturing"),onClick:n,"data-uppy-super-focusable":!0},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},O("rect",{x:"15",y:"15",width:"70",height:"70"}))):O("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video",type:"button",title:o("startCapturing"),"aria-label":o("startCapturing"),onClick:r,"data-uppy-super-focusable":!0},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},O("circle",{cx:"50",cy:"50",r:"40"})))}i(WA,"RecordButton");function KA(t){var e=t.recording,r=t.recordedVideo,n=t.onSubmit,o=t.i18n;return r&&!e?O("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--submit",type:"button",title:o("submitRecordedFile"),"aria-label":o("submitRecordedFile"),onClick:n,"data-uppy-super-focusable":!0},O("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},O("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"}))):null}i(KA,"SubmitButton");function YA(t){return YA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YA(t)}i(YA,"_typeof");function iK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(iK,"ownKeys");function BYe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iK(Object(r),!0).forEach(function(n){$Ye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(BYe,"_objectSpread");function $Ye(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i($Ye,"_defineProperty");function zYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(zYe,"_classCallCheck");function oK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(oK,"_defineProperties");function GYe(t,e,r){return e&&oK(t.prototype,e),r&&oK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(GYe,"_createClass");function HYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XA(t,e)}i(HYe,"_inherits");function XA(t,e){return XA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),XA(t,e)}i(XA,"_setPrototypeOf");function VYe(t){var e=YYe();return i(function(){var n=$g(t),o;if(e){var a=$g(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return WYe(this,o)},"_createSuperInternal")}i(VYe,"_createSuper");function WYe(t,e){if(e&&(YA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KYe(t)}i(WYe,"_possibleConstructorReturn");function KYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(KYe,"_assertThisInitialized");function YYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(YYe,"_isNativeReflectConstruct");function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),$g(t)}i($g,"_getPrototypeOf");var XYe=function(t){HYe(r,t);var e=VYe(r);function r(n){var o;return zYe(this,r),o=e.call(this,n),o.state={elapsedTime:0},o.wrapperStyle={width:"100%",height:"100%",display:"flex"},o.overlayStyle={position:"absolute",width:"100%",height:"100%",background:"black",opacity:.7},o.infoContainerStyle={marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",zIndex:1,color:"white"},o.infotextStyle={marginLeft:"auto",marginRight:"auto",marginBottom:"1rem",fontSize:"1.5rem"},o.timeStyle={display:"block",fontWeight:"bold",marginLeft:"auto",marginRight:"auto",fontSize:"3rem",fontFamily:"Courier New"},o}return i(r,"StopWatch"),GYe(r,[{key:"startTimer",value:i(function(){this.timerTick(),this.timerRunning=!0},"startTimer")},{key:"resetTimer",value:i(function(){clearTimeout(this.timer),this.setState({elapsedTime:0}),this.timerRunning=!1},"resetTimer")},{key:"timerTick",value:i(function(){var o=this;this.timer=setTimeout(function(){o.setState(function(a){return{elapsedTime:a.elapsedTime+1}}),o.timerTick()},1e3)},"timerTick")},{key:"fmtMSS",value:i(function(o){return(o-(o%=60))/60+(o>9?":":":0")+o},"fmtMSS")},{key:"render",value:i(function(){var o=BYe({},this.props),a=o.recording,u=o.i18n,s=this.state.elapsedTime,l=this.fmtMSS(s);return a&&!this.timerRunning&&this.startTimer(),!a&&this.timerRunning&&this.resetTimer(),a?O("div",{style:this.wrapperStyle},O("div",{style:this.overlayStyle}),O("div",{style:this.infoContainerStyle},O("div",{style:this.infotextStyle},u("recording")),O("div",{style:this.timeStyle},l))):null},"render")}]),r}(Be),aK=XYe;var uK=i(function(t){var e=t.streamActive,r=t.i18n;return e?O("div",{title:r("streamActive"),"aria-label":r("streamActive"),className:"uppy-ScreenCapture-icon--stream uppy-ScreenCapture-icon--streamActive"},O("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},O("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),O("path",{d:"M0 0h24v24H0z",fill:"none"}),O("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))):O("div",{title:r("streamPassive"),"aria-label":r("streamPassive"),className:"uppy-ScreenCapture-icon--stream"},O("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},O("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),O("path",{d:"M0 0h24v24H0z",fill:"none"}),O("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"})))},"default");function JA(t){return JA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JA(t)}i(JA,"_typeof");function JYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(JYe,"_classCallCheck");function sK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(sK,"_defineProperties");function QYe(t,e,r){return e&&sK(t.prototype,e),r&&sK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(QYe,"_createClass");function ZYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QA(t,e)}i(ZYe,"_inherits");function QA(t,e){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),QA(t,e)}i(QA,"_setPrototypeOf");function eXe(t){var e=nXe();return i(function(){var n=zg(t),o;if(e){var a=zg(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return tXe(this,o)},"_createSuperInternal")}i(eXe,"_createSuper");function tXe(t,e){if(e&&(JA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rXe(t)}i(tXe,"_possibleConstructorReturn");function rXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(rXe,"_assertThisInitialized");function nXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(nXe,"_isNativeReflectConstruct");function zg(t){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),zg(t)}i(zg,"_getPrototypeOf");function ZA(){return ZA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZA.apply(this,arguments)}i(ZA,"_extends");var iXe=function(t){ZYe(r,t);var e=eXe(r);function r(){return JYe(this,r),e.apply(this,arguments)}return i(r,"RecorderScreen"),QYe(r,[{key:"componentWillUnmount",value:i(function(){var o=this.props.onStop;o()},"componentWillUnmount")},{key:"render",value:i(function(){var o=this,a=this.props,u=a.recording,s=a.stream,l=a.recordedVideo,f={playsinline:!0};return(u||!l&&!u)&&(f.muted=!0,f.autoplay=!0,f.srcObject=s),l&&!u&&(f.muted=!1,f.controls=!0,f.src=l,this.videoElement&&(this.videoElement.srcObject=void 0)),O("div",{className:"uppy uppy-ScreenCapture-container"},O("div",{className:"uppy-ScreenCapture-videoContainer"},O(uK,this.props),O("video",ZA({ref:i(function(y){o.videoElement=y},"ref"),className:"uppy-ScreenCapture-video"},f)),O(aK,this.props)),O("div",{className:"uppy-ScreenCapture-buttonContainer"},O(WA,this.props),O(KA,this.props)))},"render")}]),r}(Be),lK=iXe;var cK={strings:{startCapturing:"Begin screen capturing",stopCapturing:"Stop screen capturing",submitRecordedFile:"Submit recorded file",streamActive:"Stream active",streamPassive:"Stream passive",micDisabled:"Microphone access denied by user",recording:"Recording"}};function tI(t){return tI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tI(t)}i(tI,"_typeof");function fK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(fK,"ownKeys");function eI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fK(Object(r),!0).forEach(function(n){oXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(eI,"_objectSpread");function oXe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(oXe,"_defineProperty");function aXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(aXe,"_classCallCheck");function pK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(pK,"_defineProperties");function uXe(t,e,r){return e&&pK(t.prototype,e),r&&pK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(uXe,"_createClass");function sXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rI(t,e)}i(sXe,"_inherits");function rI(t,e){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),rI(t,e)}i(rI,"_setPrototypeOf");function lXe(t){var e=fXe();return i(function(){var n=Gg(t),o;if(e){var a=Gg(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cXe(this,o)},"_createSuperInternal")}i(lXe,"_createSuper");function cXe(t,e){if(e&&(tI(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ci(t)}i(cXe,"_possibleConstructorReturn");function ci(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(ci,"_assertThisInitialized");function fXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(fXe,"_isNativeReflectConstruct");function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Gg(t)}i(Gg,"_getPrototypeOf");function nI(){return nI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nI.apply(this,arguments)}i(nI,"_extends");var pXe={version:"3.0.0-beta.3"};function dXe(){var t;return window.MediaRecorder&&((t=navigator.mediaDevices)==null?void 0:t.getDisplayMedia)}i(dXe,"isScreenRecordingSupported");function hXe(){return window.MediaRecorder&&navigator.mediaDevices}i(hXe,"getMediaDevices");var Hg=function(t){sXe(r,t);var e=lXe(r);function r(n,o){var a;aXe(this,r),a=e.call(this,n,o),a.mediaDevices=hXe(),a.protocol=location.protocol==="https:"?"https":"http",a.id=a.opts.id||"ScreenCapture",a.title=a.opts.title||"Screencast",a.type="acquirer",a.icon=nK,a.defaultLocale=cK;var u={displayMediaConstraints:{video:{width:1280,height:720,frameRate:{ideal:3,max:5},cursor:"motion",displaySurface:"monitor"}},userMediaConstraints:{audio:!0},preferredVideoMimeType:"video/webm"};return a.opts=eI(eI({},u),o),a.i18nInit(),a.install=a.install.bind(ci(a)),a.setPluginState=a.setPluginState.bind(ci(a)),a.render=a.render.bind(ci(a)),a.start=a.start.bind(ci(a)),a.stop=a.stop.bind(ci(a)),a.startRecording=a.startRecording.bind(ci(a)),a.stopRecording=a.stopRecording.bind(ci(a)),a.submit=a.submit.bind(ci(a)),a.streamInterrupted=a.streamInactivated.bind(ci(a)),a.captureActive=!1,a.capturedMediaFile=null,a}return i(r,"ScreenCapture"),uXe(r,[{key:"install",value:i(function(){if(!dXe())return this.uppy.log("Screen recorder access is not supported","error"),null;this.setPluginState({streamActive:!1,audioStreamActive:!1});var o=this.opts.target;o&&this.mount(o,this)},"install")},{key:"uninstall",value:i(function(){this.videoStream&&this.stop(),this.unmount()},"uninstall")},{key:"start",value:i(function(){var o=this;return this.mediaDevices?(this.captureActive=!0,this.selectAudioStreamSource(),this.selectVideoStreamSource().then(function(a){a===!1&&o.parent&&o.parent.hideAllPanels&&(o.parent.hideAllPanels(),o.captureActive=!1)})):Promise.reject(new Error("Screen recorder access not supported"))},"start")},{key:"selectVideoStreamSource",value:i(function(){var o=this;return this.videoStream?new Promise(function(a){return a(o.videoStream)}):this.mediaDevices.getDisplayMedia(this.opts.displayMediaConstraints).then(function(a){return o.videoStream=a,o.videoStream.addEventListener("inactive",function(){o.streamInactivated()}),o.setPluginState({streamActive:!0}),a}).catch(function(a){return o.setPluginState({screenRecError:a}),o.userDenied=!0,setTimeout(function(){o.userDenied=!1},1e3),!1})},"selectVideoStreamSource")},{key:"selectAudioStreamSource",value:i(function(){var o=this;return this.audioStream?new Promise(function(a){return a(o.audioStream)}):this.mediaDevices.getUserMedia(this.opts.userMediaConstraints).then(function(a){return o.audioStream=a,o.setPluginState({audioStreamActive:!0}),a}).catch(function(a){return a.name==="NotAllowedError"&&o.uppy.info(o.i18n("micDisabled"),"error",5e3),!1})},"selectAudioStreamSource")},{key:"startRecording",value:i(function(){var o=this,a={};this.capturedMediaFile=null,this.recordingChunks=[];var u=this.opts.preferredVideoMimeType;this.selectVideoStreamSource().then(function(s){u&&MediaRecorder.isTypeSupported(u)&&li(u)&&(a.mimeType=u);var l=[s.getVideoTracks()[0]];o.audioStream&&l.push(o.audioStream.getAudioTracks()[0]),o.outputStream=new MediaStream(l),o.recorder=new MediaRecorder(o.outputStream,a),o.recorder.addEventListener("dataavailable",function(f){o.recordingChunks.push(f.data)}),o.recorder.start(),o.setPluginState({recording:!0})}).catch(function(s){o.uppy.log(s,"error")})},"startRecording")},{key:"streamInactivated",value:i(function(){var o=eI({},this.getPluginState()),a=o.recordedVideo,u=o.recording;!a&&!u?this.parent&&this.parent.hideAllPanels&&this.parent.hideAllPanels():u&&(this.uppy.log("Capture stream inactive \u2014 stop recording"),this.stopRecording()),this.videoStream=null,this.audioStream=null,this.setPluginState({streamActive:!1,audioStreamActive:!1})},"streamInactivated")},{key:"stopRecording",value:i(function(){var o=this,a=new Promise(function(u){o.recorder.addEventListener("stop",function(){u()}),o.recorder.stop()});return a.then(function(){return o.setPluginState({recording:!1}),o.getVideo()}).then(function(u){o.capturedMediaFile=u,o.setPluginState({recordedVideo:URL.createObjectURL(u.data)})}).then(function(){o.recordingChunks=null,o.recorder=null},function(u){throw o.recordingChunks=null,o.recorder=null,u})},"stopRecording")},{key:"submit",value:i(function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(o){o.isRestriction||this.uppy.log(o,"error")}},"submit")},{key:"stop",value:i(function(){this.videoStream&&(this.videoStream.getVideoTracks().forEach(function(o){o.stop()}),this.videoStream.getAudioTracks().forEach(function(o){o.stop()}),this.videoStream=null),this.audioStream&&(this.audioStream.getAudioTracks().forEach(function(o){o.stop()}),this.audioStream.getVideoTracks().forEach(function(o){o.stop()}),this.audioStream=null),this.outputStream&&(this.outputStream.getAudioTracks().forEach(function(o){o.stop()}),this.outputStream.getVideoTracks().forEach(function(o){o.stop()}),this.outputStream=null),this.setPluginState({recordedVideo:null}),this.captureActive=!1},"stop")},{key:"getVideo",value:i(function(){var o=this.recordingChunks[0].type,a=li(o);if(!a)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(o,'"')));var u="screencap-".concat(Date.now(),".").concat(a),s=new Blob(this.recordingChunks,{type:o}),l={source:this.id,name:u,data:new Blob([s],{type:o}),type:o};return Promise.resolve(l)},"getVideo")},{key:"render",value:i(function(){var o=this.getPluginState();return!o.streamActive&&!this.captureActive&&!this.userDenied&&this.start(),O(lK,nI({},o,{onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onStop:this.stop,onSubmit:this.submit,i18n:this.i18n,stream:this.videoStream}))},"render")}]),r}(Se);Hg.VERSION=pXe.version;var RK=Re(dK(),1);function oI(t,e,r){return new Promise(function(n){t.toBlob(n,e,r)})}i(oI,"canvasToBlob");function aI(){return typeof MediaRecorder=="function"&&!!MediaRecorder.prototype&&typeof MediaRecorder.prototype.start=="function"}i(aI,"supportsMediaRecorder");var Wg=i(function(){return O("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},O("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",fillRule:"evenodd"}))},"default");var hK=i(function(t){var e=t.onSnapshot,r=t.i18n;return O("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:r("takePicture"),"aria-label":r("takePicture"),onClick:e,"data-uppy-super-focusable":!0},Wg())},"default");function uI(t){var e=t.recording,r=t.onStartRecording,n=t.onStopRecording,o=t.i18n;return e?O("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:o("stopRecording"),"aria-label":o("stopRecording"),onClick:n,"data-uppy-super-focusable":!0},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},O("rect",{x:"15",y:"15",width:"70",height:"70"}))):O("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:o("startRecording"),"aria-label":o("startRecording"),onClick:r,"data-uppy-super-focusable":!0},O("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},O("circle",{cx:"50",cy:"50",r:"40"})))}i(uI,"RecordButton");function sI(t){return"".concat(Math.floor(t/60),":").concat(String(t%60).padStart(2,0))}i(sI,"formatSeconds");function lI(t){var e=t.recordingLengthSeconds,r=t.i18n,n=sI(e);return O("span",{"aria-label":r("recordingLength",{recording_length:n})},n)}i(lI,"RecordingLength");var vK=i(function(t){var e=t.currentDeviceId,r=t.videoSources,n=t.onChangeVideoSource;return O("div",{className:"uppy-Webcam-videoSource"},O("select",{className:"uppy-u-reset uppy-Webcam-videoSource-select",onChange:i(function(a){n(a.target.value)},"onChange")},r.map(function(o){return O("option",{key:o.deviceId,value:o.deviceId,selected:o.deviceId===e},o.label)})))},"default");function gXe(t){var e=t.onSubmit,r=t.i18n;return O("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},O("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},O("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}i(gXe,"SubmitButton");var yK=gXe;function bXe(t){var e=t.onDiscard,r=t.i18n;return O("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},O("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},O("g",{fill:"#FFF",fillRule:"evenodd"},O("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),O("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}i(bXe,"DiscardButton");var mK=bXe;function cI(t){return cI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cI(t)}i(cI,"_typeof");function wXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(wXe,"_classCallCheck");function gK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(gK,"_defineProperties");function OXe(t,e,r){return e&&gK(t.prototype,e),r&&gK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(OXe,"_createClass");function SXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fI(t,e)}i(SXe,"_inherits");function fI(t,e){return fI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),fI(t,e)}i(fI,"_setPrototypeOf");function _Xe(t){var e=RXe();return i(function(){var n=Yg(t),o;if(e){var a=Yg(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return PXe(this,o)},"_createSuperInternal")}i(_Xe,"_createSuper");function PXe(t,e){if(e&&(cI(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EXe(t)}i(PXe,"_possibleConstructorReturn");function EXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(EXe,"_assertThisInitialized");function RXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(RXe,"_isNativeReflectConstruct");function Yg(t){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Yg(t)}i(Yg,"_getPrototypeOf");function pI(){return pI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pI.apply(this,arguments)}i(pI,"_extends");function Kg(t,e){return t.includes(e)}i(Kg,"isModeAvailable");var TXe=function(t){SXe(r,t);var e=_Xe(r);function r(){return wXe(this,r),e.apply(this,arguments)}return i(r,"CameraScreen"),OXe(r,[{key:"componentDidMount",value:i(function(){var o=this.props.onFocus;o()},"componentDidMount")},{key:"componentWillUnmount",value:i(function(){var o=this.props.onStop;o()},"componentWillUnmount")},{key:"render",value:i(function(){var o=this,a=this.props,u=a.src,s=a.recordedVideo,l=a.recording,f=a.modes,d=a.supportsRecording,y=a.videoSources,m=a.showVideoSourceDropdown,w=a.showRecordingLength,_=a.onSubmit,T=a.i18n,R=a.mirror,E=a.onSnapshot,A=a.onStartRecording,k=a.onStopRecording,U=a.onDiscardRecordedVideo,G=a.recordingLengthSeconds,M=!!s,z=!M&&d&&(Kg(f,"video-only")||Kg(f,"audio-only")||Kg(f,"video-audio")),W=!M&&Kg(f,"picture"),K=d&&w&&!M,p=m&&y&&y.length>1,c={playsinline:!0};return s?(c.muted=!1,c.controls=!0,c.src=s,this.videoElement&&(this.videoElement.srcObject=void 0)):(c.muted=!0,c.autoplay=!0,c.srcObject=u),O("div",{className:"uppy uppy-Webcam-container"},O("div",{className:"uppy-Webcam-videoContainer"},O("video",pI({ref:i(function(v){return o.videoElement=v},"ref"),className:"uppy-Webcam-video  ".concat(R?"uppy-Webcam-video--mirrored":"")},c))),O("div",{className:"uppy-Webcam-footer"},O("div",{className:"uppy-Webcam-videoSourceContainer"},p?vK(this.props):null),O("div",{className:"uppy-Webcam-buttonContainer"},W&&O(hK,{onSnapshot:E,i18n:T}),z&&O(uI,{recording:l,onStartRecording:A,onStopRecording:k,i18n:T}),M&&O(yK,{onSubmit:_,i18n:T}),M&&O(mK,{onDiscard:U,i18n:T})),O("div",{className:"uppy-Webcam-recordingLength"},K&&O(lI,{recordingLengthSeconds:G,i18n:T}))))},"render")}]),r}(Be),bK=TXe;var wK=i(function(t){var e=t.icon,r=t.i18n,n=t.hasCamera;return O("div",{className:"uppy-Webcam-permissons"},O("div",{className:"uppy-Webcam-permissonsIcon"},e()),O("h1",{className:"uppy-Webcam-title"},r(n?"allowAccessTitle":"noCameraTitle")),O("p",null,r(n?"allowAccessDescription":"noCameraDescription")))},"default");var OK={strings:{pluginNameCamera:"Camera",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file",smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",recordingLength:"Recording length %{recording_length}",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site."}};function _p(t){return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}i(_p,"_typeof");function hI(){"use strict";hI=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&_p(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(hI,"_regeneratorRuntime");function SK(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(SK,"asyncGeneratorStep");function AXe(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){SK(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){SK(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(AXe,"_asyncToGenerator");function _K(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(_K,"ownKeys");function ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_K(Object(r),!0).forEach(function(n){IXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_K(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(ta,"_objectSpread");function IXe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(IXe,"_defineProperty");function qXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(qXe,"_classCallCheck");function PK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(PK,"_defineProperties");function kXe(t,e,r){return e&&PK(t.prototype,e),r&&PK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(kXe,"_createClass");function Xg(){return typeof Reflect!="undefined"&&Reflect.get?Xg=Reflect.get.bind():Xg=i(function(e,r,n){var o=xXe(e,r);if(!!o){var a=Object.getOwnPropertyDescriptor(o,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},"_get"),Xg.apply(this,arguments)}i(Xg,"_get");function xXe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=wl(t),t!==null););return t}i(xXe,"_superPropBase");function CXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vI(t,e)}i(CXe,"_inherits");function vI(t,e){return vI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),vI(t,e)}i(vI,"_setPrototypeOf");function FXe(t){var e=jXe();return i(function(){var n=wl(t),o;if(e){var a=wl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return LXe(this,o)},"_createSuperInternal")}i(FXe,"_createSuper");function LXe(t,e){if(e&&(_p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zt(t)}i(LXe,"_possibleConstructorReturn");function Zt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Zt,"_assertThisInitialized");function jXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(jXe,"_isNativeReflectConstruct");function wl(t){return wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),wl(t)}i(wl,"_getPrototypeOf");function yI(){return yI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yI.apply(this,arguments)}i(yI,"_extends");function Sp(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Sp,"_classPrivateFieldLooseBase");var NXe=0;function DXe(t){return"__private_"+NXe+++"_"+t}i(DXe,"_classPrivateFieldLooseKey");var UXe={version:"3.0.0-beta.3"};function EK(t){return t[0]==="."?Tf[t.slice(1)]:t}i(EK,"toMimeType");function MXe(t){return/^video\/[^*]+$/.test(t)}i(MXe,"isVideoMimeType");function BXe(t){return/^image\/[^*]+$/.test(t)}i(BXe,"isImageMimeType");function $Xe(){return navigator.mediaDevices}i($Xe,"getMediaDevices");function dI(t,e){return t.includes(e)}i(dI,"isModeAvailable");var Ln=DXe("enableMirror"),Jg=function(t){CXe(r,t);var e=FXe(r);function r(n,o){var a;qXe(this,r),a=e.call(this,n,o),Object.defineProperty(Zt(a),Ln,{writable:!0,value:void 0}),a.mediaDevices=$Xe(),a.supportsUserMedia=!!a.mediaDevices,a.protocol=location.protocol.match(/https/i)?"https":"http",a.id=a.opts.id||"Webcam",a.type="acquirer",a.capturedMediaFile=null,a.icon=function(){return O("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},O("g",{fill:"none",fillRule:"evenodd"},O("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),O("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"})))},a.defaultLocale=OK;var u={onBeforeSnapshot:i(function(){return Promise.resolve()},"onBeforeSnapshot"),countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,showVideoSourceDropdown:!1,facingMode:"user",preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1,mobileNativeCamera:(0,RK.default)({tablet:!0})};return a.opts=ta(ta({},u),o),a.i18nInit(),a.title=a.i18n("pluginNameCamera"),Sp(Zt(a),Ln)[Ln]=a.opts.mirror,a.install=a.install.bind(Zt(a)),a.setPluginState=a.setPluginState.bind(Zt(a)),a.render=a.render.bind(Zt(a)),a.start=a.start.bind(Zt(a)),a.stop=a.stop.bind(Zt(a)),a.takeSnapshot=a.takeSnapshot.bind(Zt(a)),a.startRecording=a.startRecording.bind(Zt(a)),a.stopRecording=a.stopRecording.bind(Zt(a)),a.discardRecordedVideo=a.discardRecordedVideo.bind(Zt(a)),a.submit=a.submit.bind(Zt(a)),a.oneTwoThreeSmile=a.oneTwoThreeSmile.bind(Zt(a)),a.focus=a.focus.bind(Zt(a)),a.changeVideoSource=a.changeVideoSource.bind(Zt(a)),a.webcamActive=!1,a.opts.countdown&&(a.opts.onBeforeSnapshot=a.oneTwoThreeSmile),a.setPluginState({hasCamera:!1,cameraReady:!1,cameraError:null,recordingLengthSeconds:0,videoSources:[],currentDeviceId:null}),a}return i(r,"Webcam"),kXe(r,[{key:"setOptions",value:i(function(o){Xg(wl(r.prototype),"setOptions",this).call(this,ta(ta({},o),{},{videoConstraints:ta(ta({},this.opts.videoConstraints),o==null?void 0:o.videoConstraints)}))},"setOptions")},{key:"hasCameraCheck",value:i(function(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then(function(o){return o.some(function(a){return a.kind==="videoinput"})}):Promise.resolve(!1)},"hasCameraCheck")},{key:"isAudioOnly",value:i(function(){return this.opts.modes.length===1&&this.opts.modes[0]==="audio-only"},"isAudioOnly")},{key:"getConstraints",value:i(function(o){o===void 0&&(o=null);var a=this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("audio-only")!==-1,u=!this.isAudioOnly()&&(this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("video-only")!==-1||this.opts.modes.indexOf("picture")!==-1),s=ta(ta({},this.opts.videoConstraints||{facingMode:this.opts.facingMode}),o?{deviceId:o,facingMode:null}:{});return{audio:a,video:u?s:!1}},"getConstraints")},{key:"start",value:i(function(o){var a=this;if(o===void 0&&(o=null),!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0,this.opts.mirror&&(Sp(this,Ln)[Ln]=!0);var u=this.getConstraints(o&&o.deviceId?o.deviceId:null);this.hasCameraCheck().then(function(s){return a.setPluginState({hasCamera:s}),a.mediaDevices.getUserMedia(u).then(function(l){a.stream=l;var f=null,d=a.isAudioOnly()?l.getAudioTracks():l.getVideoTracks();!o||!o.deviceId?f=d[0].getSettings().deviceId:d.forEach(function(y){y.getSettings().deviceId===o.deviceId&&(f=y.getSettings().deviceId)}),a.updateVideoSources(),a.setPluginState({currentDeviceId:f,cameraReady:!0})}).catch(function(l){a.setPluginState({cameraReady:!1,cameraError:l}),a.uppy.info(l.message,"error")})})},"start")},{key:"getMediaRecorderOptions",value:i(function(){var o={};if(MediaRecorder.isTypeSupported){var a=this.uppy.opts.restrictions,u=[];this.opts.preferredVideoMimeType?u=[this.opts.preferredVideoMimeType]:a.allowedFileTypes&&(u=a.allowedFileTypes.map(EK).filter(MXe));var s=i(function(d){return MediaRecorder.isTypeSupported(d)&&li(d)},"filterSupportedTypes"),l=u.filter(s);l.length>0&&(o.mimeType=l[0])}return o},"getMediaRecorderOptions")},{key:"startRecording",value:i(function(){var o=this;this.recorder=new MediaRecorder(this.stream,this.getMediaRecorderOptions()),this.recordingChunks=[];var a=!1;this.recorder.addEventListener("dataavailable",function(u){o.recordingChunks.push(u.data);var s=o.uppy.opts.restrictions;if(o.recordingChunks.length>1&&s.maxFileSize!=null&&!a){var l=o.recordingChunks.reduce(function(m,w){return m+w.size},0),f=(l-o.recordingChunks[0].size)/(o.recordingChunks.length-1),d=f*3,y=Math.max(0,s.maxFileSize-d);l>y&&(a=!0,o.uppy.info(o.i18n("recordingStoppedMaxSize"),"warning",4e3),o.stopRecording())}}),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval(function(){var u=o.getPluginState().recordingLengthSeconds;o.setPluginState({recordingLengthSeconds:u+1})},1e3)),this.setPluginState({isRecording:!0})},"startRecording")},{key:"stopRecording",value:i(function(){var o=this,a=new Promise(function(u){o.recorder.addEventListener("stop",function(){u()}),o.recorder.stop(),o.opts.showRecordingLength&&(clearInterval(o.recordingLengthTimer),o.setPluginState({recordingLengthSeconds:0}))});return a.then(function(){return o.setPluginState({isRecording:!1}),o.getVideo()}).then(function(u){try{o.capturedMediaFile=u,o.setPluginState({recordedVideo:URL.createObjectURL(u.data)}),Sp(o,Ln)[Ln]=!1}catch(s){s.isRestriction||o.uppy.log(s)}}).then(function(){o.recordingChunks=null,o.recorder=null},function(u){throw o.recordingChunks=null,o.recorder=null,u})},"stopRecording")},{key:"discardRecordedVideo",value:i(function(){this.setPluginState({recordedVideo:null}),this.opts.mirror&&(Sp(this,Ln)[Ln]=!0),this.capturedMediaFile=null},"discardRecordedVideo")},{key:"submit",value:i(function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(o){o.isRestriction||this.uppy.log(o,"error")}},"submit")},{key:"stop",value:function(){var n=AXe(hI().mark(i(function a(){var u=this,s,l;return hI().wrap(i(function(d){for(;;)switch(d.prev=d.next){case 0:if(this.stream&&(s=this.stream.getAudioTracks(),l=this.stream.getVideoTracks(),s.concat(l).forEach(function(y){return y.stop()})),!this.recorder){d.next=4;break}return d.next=4,new Promise(function(y){u.recorder.addEventListener("stop",y,{once:!0}),u.recorder.stop(),u.opts.showRecordingLength&&clearInterval(u.recordingLengthTimer)});case 4:this.recordingChunks=null,this.recorder=null,this.webcamActive=!1,this.stream=null,this.setPluginState({recordedVideo:null,isRecording:!1,recordingLengthSeconds:0});case 9:case"end":return d.stop()}},"_callee$"),a,this)},"_callee")));function o(){return n.apply(this,arguments)}return i(o,"stop"),o}()},{key:"getVideoElement",value:i(function(){return this.el.querySelector(".uppy-Webcam-video")},"getVideoElement")},{key:"oneTwoThreeSmile",value:i(function(){var o=this;return new Promise(function(a,u){var s=o.opts.countdown,l=setInterval(function(){if(!o.webcamActive)return clearInterval(l),o.captureInProgress=!1,u(new Error("Webcam is not active"));s>0?(o.uppy.info("".concat(s,"..."),"warning",800),s--):(clearInterval(l),o.uppy.info(o.i18n("smile"),"success",1500),setTimeout(function(){return a()},1500))},1e3)})},"oneTwoThreeSmile")},{key:"takeSnapshot",value:i(function(){var o=this;this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch(function(a){var u=_p(a)==="object"?a.message:a;return o.uppy.info(u,"error",5e3),Promise.reject(new Error("onBeforeSnapshot: ".concat(u)))}).then(function(){return o.getImage()}).then(function(a){o.captureInProgress=!1;try{o.uppy.addFile(a)}catch(u){u.isRestriction||o.uppy.log(u)}},function(a){throw o.captureInProgress=!1,a}))},"takeSnapshot")},{key:"getImage",value:i(function(){var o=this,a=this.getVideoElement();if(!a)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));var u=a.videoWidth,s=a.videoHeight,l=document.createElement("canvas");l.width=u,l.height=s;var f=l.getContext("2d");f.drawImage(a,0,0);var d=this.uppy.opts.restrictions,y=[];this.opts.preferredImageMimeType?y=[this.opts.preferredImageMimeType]:d.allowedFileTypes&&(y=d.allowedFileTypes.map(EK).filter(BXe));var m=y[0]||"image/jpeg",w=li(m)||"jpg",_="cam-".concat(Date.now(),".").concat(w);return oI(l,m).then(function(T){return{source:o.id,name:_,data:new Blob([T],{type:m}),type:m}})},"getImage")},{key:"getVideo",value:i(function(){var o=this.recordingChunks.find(function(f){var d;return((d=f.type)==null?void 0:d.length)>0}).type,a=li(o);if(!a)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(o,'"')));var u="webcam-".concat(Date.now(),".").concat(a),s=new Blob(this.recordingChunks,{type:o}),l={source:this.id,name:u,data:new Blob([s],{type:o}),type:o};return Promise.resolve(l)},"getVideo")},{key:"focus",value:i(function(){var o=this;!this.opts.countdown||setTimeout(function(){o.uppy.info(o.i18n("smile"),"success",1500)},1e3)},"focus")},{key:"changeVideoSource",value:i(function(o){this.stop(),this.start({deviceId:o})},"changeVideoSource")},{key:"updateVideoSources",value:i(function(){var o=this;this.mediaDevices.enumerateDevices().then(function(a){o.setPluginState({videoSources:a.filter(function(u){return u.kind==="videoinput"})})})},"updateVideoSources")},{key:"render",value:i(function(){this.webcamActive||this.start();var o=this.getPluginState();return!o.cameraReady||!o.hasCamera?O(wK,{icon:Wg,i18n:this.i18n,hasCamera:o.hasCamera}):O(bK,yI({},o,{onChangeVideoSource:this.changeVideoSource,onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onDiscardRecordedVideo:this.discardRecordedVideo,onSubmit:this.submit,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,showVideoSourceDropdown:this.opts.showVideoSourceDropdown,supportsRecording:aI(),recording:o.isRecording,mirror:Sp(this,Ln)[Ln],src:this.stream}))},"render")},{key:"install",value:i(function(){var o=this,a=this.opts,u=a.mobileNativeCamera,s=a.modes;if(u){this.uppy.getPlugin("Dashboard").setOptions({showNativeVideoCameraButton:dI(s,"video-only")||dI(s,"video-audio"),showNativePhotoCameraButton:dI(s,"picture")});return}this.setPluginState({cameraReady:!1,recordingLengthSeconds:0});var l=this.opts.target;l&&this.mount(l,this),this.mediaDevices&&(this.updateVideoSources(),this.mediaDevices.ondevicechange=function(){if(o.updateVideoSources(),o.stream){var f=!0,d=o.getPluginState(),y=d.videoSources,m=d.currentDeviceId;y.forEach(function(w){m===w.deviceId&&(f=!1)}),f&&(o.stop(),o.start())}})},"install")},{key:"uninstall",value:i(function(){this.stop(),this.unmount()},"uninstall")},{key:"onUnmount",value:i(function(){this.stop()},"onUnmount")}]),r}(Se);Jg.VERSION=UXe.version;function zXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(zXe,"_classCallCheck");function TK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(TK,"_defineProperties");function GXe(t,e,r){return e&&TK(t.prototype,e),r&&TK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(GXe,"_createClass");function me(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(me,"_classPrivateFieldLooseBase");var HXe=0;function Rr(t){return"__private_"+HXe+++"_"+t}i(Rr,"_classPrivateFieldLooseKey");function VXe(){return new Error("Cancelled")}i(VXe,"createCancelError");var Mr=Rr("activeRequests"),sr=Rr("queuedHandlers"),Ur=Rr("paused"),gu=Rr("pauseTimer"),ur=Rr("downLimit"),bu=Rr("upperLimit"),Ji=Rr("rateLimitingTimer"),Pp=Rr("call"),Qi=Rr("queueNext"),bI=Rr("next"),mI=Rr("queue"),wI=Rr("dequeue"),gI=Rr("resume"),wu=Rr("increaseLimit"),sn=function(){function t(e){var r=this;zXe(this,t),Object.defineProperty(this,wI,{value:JXe}),Object.defineProperty(this,mI,{value:XXe}),Object.defineProperty(this,bI,{value:YXe}),Object.defineProperty(this,Qi,{value:KXe}),Object.defineProperty(this,Pp,{value:WXe}),Object.defineProperty(this,Mr,{writable:!0,value:0}),Object.defineProperty(this,sr,{writable:!0,value:[]}),Object.defineProperty(this,Ur,{writable:!0,value:!1}),Object.defineProperty(this,gu,{writable:!0,value:void 0}),Object.defineProperty(this,ur,{writable:!0,value:1}),Object.defineProperty(this,bu,{writable:!0,value:void 0}),Object.defineProperty(this,Ji,{writable:!0,value:void 0}),Object.defineProperty(this,gI,{writable:!0,value:i(function(){return r.resume()},"value")}),Object.defineProperty(this,wu,{writable:!0,value:i(function(){if(me(r,Ur)[Ur]){me(r,Ji)[Ji]=setTimeout(me(r,wu)[wu],0);return}me(r,ur)[ur]=r.limit,r.limit=Math.ceil((me(r,bu)[bu]+me(r,ur)[ur])/2);for(var o=me(r,ur)[ur];o<=r.limit;o++)me(r,Qi)[Qi]();me(r,bu)[bu]-me(r,ur)[ur]>3?me(r,Ji)[Ji]=setTimeout(me(r,wu)[wu],2e3):me(r,ur)[ur]=Math.floor(me(r,ur)[ur]/2)},"value")}),typeof e!="number"||e===0?this.limit=1/0:this.limit=e}return i(t,"RateLimitedQueue"),GXe(t,[{key:"run",value:i(function(r,n){return!me(this,Ur)[Ur]&&me(this,Mr)[Mr]<this.limit?me(this,Pp)[Pp](r):me(this,mI)[mI](r,n)},"run")},{key:"wrapPromiseFunction",value:i(function(r,n){var o=this;return function(){for(var a=arguments.length,u=new Array(a),s=0;s<a;s++)u[s]=arguments[s];var l,f=new Promise(function(d,y){l=o.run(function(){var m,w;try{w=Promise.resolve(r.apply(void 0,u))}catch(_){w=Promise.reject(_)}return w.then(function(_){m?y(m):(l.done(),d(_))},function(_){m?y(m):(l.done(),y(_))}),function(){m=VXe()}},n)});return f.abort=function(){l.abort()},f}},"wrapPromiseFunction")},{key:"resume",value:i(function(){me(this,Ur)[Ur]=!1,clearTimeout(me(this,gu)[gu]);for(var r=0;r<this.limit;r++)me(this,Qi)[Qi]()},"resume")},{key:"pause",value:i(function(r){r===void 0&&(r=null),me(this,Ur)[Ur]=!0,clearTimeout(me(this,gu)[gu]),r!=null&&(me(this,gu)[gu]=setTimeout(me(this,gI)[gI],r))},"pause")},{key:"rateLimit",value:i(function(r){clearTimeout(me(this,Ji)[Ji]),this.pause(r),this.limit>1&&Number.isFinite(this.limit)&&(me(this,bu)[bu]=this.limit-1,this.limit=me(this,ur)[ur],me(this,Ji)[Ji]=setTimeout(me(this,wu)[wu],r))},"rateLimit")},{key:"isPaused",get:i(function(){return me(this,Ur)[Ur]},"get")}]),t}();function WXe(t){var e=this;me(this,Mr)[Mr]+=1;var r=!1,n;try{n=t()}catch(o){throw me(this,Mr)[Mr]-=1,o}return{abort:i(function(){r||(r=!0,me(e,Mr)[Mr]-=1,n(),me(e,Qi)[Qi]())},"abort"),done:i(function(){r||(r=!0,me(e,Mr)[Mr]-=1,me(e,Qi)[Qi]())},"done")}}i(WXe,"_call2");function KXe(){var t=this;queueMicrotask(function(){return me(t,bI)[bI]()})}i(KXe,"_queueNext2");function YXe(){if(!(me(this,Ur)[Ur]||me(this,Mr)[Mr]>=this.limit)&&me(this,sr)[sr].length!==0){var t=me(this,sr)[sr].shift(),e=me(this,Pp)[Pp](t.fn);t.abort=e.abort,t.done=e.done}}i(YXe,"_next2");function XXe(t,e){var r=this;e===void 0&&(e={});var n={fn:t,priority:e.priority||0,abort:i(function(){me(r,wI)[wI](n)},"abort"),done:i(function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},"done")},o=me(this,sr)[sr].findIndex(function(a){return n.priority>a.priority});return o===-1?me(this,sr)[sr].push(n):me(this,sr)[sr].splice(o,0,n),n}i(XXe,"_queue2");function JXe(t){var e=me(this,sr)[sr].indexOf(t);e!==-1&&me(this,sr)[sr].splice(e,1)}i(JXe,"_dequeue2");var ra=Symbol("__queue");var AK=Re(Rf(),1);function QXe(t,e,r){var n=e.progress,o=e.bytesUploaded,a=e.bytesTotal;n&&(t.uppy.log("Upload progress: ".concat(n)),t.uppy.emit("upload-progress",r,{uploader:t,bytesUploaded:o,bytesTotal:a}))}i(QXe,"emitSocketProgress");var na=(0,AK.default)(QXe,300,{leading:!0,trailing:!0});function Zi(t){var e=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i,r=e.exec(t)[1],n=/^http:\/\//i.test(t)?"ws":"wss";return"".concat(n,"://").concat(r)}i(Zi,"getSocketHost");function ZXe(t,e){return rJe(t)||tJe(t,e)||kK(t,e)||eJe()}i(ZXe,"_slicedToArray");function eJe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(eJe,"_nonIterableRest");function tJe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],o=!0,a=!1,u,s;try{for(r=r.call(t);!(o=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));o=!0);}catch(l){a=!0,s=l}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw s}}return n}}i(tJe,"_iterableToArrayLimit");function rJe(t){if(Array.isArray(t))return t}i(rJe,"_arrayWithHoles");function nJe(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=kK(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,o=i(function(){},"F");return{s:o,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return a=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!a&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(nJe,"_createForOfIteratorHelper");function kK(t,e){if(!!t){if(typeof t=="string")return IK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IK(t,e)}}i(kK,"_unsupportedIterableToArray");function IK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(IK,"_arrayLikeToArray");function iJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(iJe,"_classCallCheck");function qK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(qK,"_defineProperties");function oJe(t,e,r){return e&&qK(t.prototype,e),r&&qK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(oJe,"_createClass");function Ep(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Ep,"_classPrivateFieldLooseBase");var aJe=0;function xK(t){return"__private_"+aJe+++"_"+t}i(xK,"_classPrivateFieldLooseKey");var Ou=xK("emitter"),Rp=xK("events"),ln=function(){function t(e){iJe(this,t),Object.defineProperty(this,Ou,{writable:!0,value:void 0}),Object.defineProperty(this,Rp,{writable:!0,value:[]}),Ep(this,Ou)[Ou]=e}return i(t,"EventTracker"),oJe(t,[{key:"on",value:i(function(r,n){return Ep(this,Rp)[Rp].push([r,n]),Ep(this,Ou)[Ou].on(r,n)},"on")},{key:"remove",value:i(function(){var r=nJe(Ep(this,Rp)[Rp].splice(0)),n;try{for(r.s();!(n=r.n()).done;){var o=ZXe(n.value,2),a=o[0],u=o[1];Ep(this,Ou)[Ou].off(a,u)}}catch(s){r.e(s)}finally{r.f()}},"remove")}]),t}();function uJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(uJe,"_classCallCheck");function CK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(CK,"_defineProperties");function sJe(t,e,r){return e&&CK(t.prototype,e),r&&CK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(sJe,"_createClass");function cn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(cn,"_classPrivateFieldLooseBase");var lJe=0;function Qg(t){return"__private_"+lJe+++"_"+t}i(Qg,"_classPrivateFieldLooseKey");var eo=Qg("aliveTimer"),Su=Qg("isDone"),Tp=Qg("onTimedOut"),_u=Qg("timeout"),cJe=function(){function t(e,r){uJe(this,t),Object.defineProperty(this,eo,{writable:!0,value:void 0}),Object.defineProperty(this,Su,{writable:!0,value:!1}),Object.defineProperty(this,Tp,{writable:!0,value:void 0}),Object.defineProperty(this,_u,{writable:!0,value:void 0}),cn(this,_u)[_u]=e,cn(this,Tp)[Tp]=r}return i(t,"ProgressTimeout"),sJe(t,[{key:"progress",value:i(function(){cn(this,Su)[Su]||cn(this,_u)[_u]>0&&(clearTimeout(cn(this,eo)[eo]),cn(this,eo)[eo]=setTimeout(cn(this,Tp)[Tp],cn(this,_u)[_u]))},"progress")},{key:"done",value:i(function(){cn(this,Su)[Su]||(clearTimeout(cn(this,eo)[eo]),cn(this,eo)[eo]=null,cn(this,Su)[Su]=!0)},"done")}]),t}(),Ap=cJe;function fJe(t){return t?t.readyState!==0&&t.readyState!==4||t.status===0:!1}i(fJe,"isNetworkError");var Pu=fJe;function PI(t){return PI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PI(t)}i(PI,"_typeof");function qp(){"use strict";qp=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&PI(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(qp,"_regeneratorRuntime");function FK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(FK,"ownKeys");function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FK(Object(r),!0).forEach(function(n){pJe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(fi,"_objectSpread");function pJe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(pJe,"_defineProperty");function LK(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(LK,"asyncGeneratorStep");function DK(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){LK(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){LK(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(DK,"_asyncToGenerator");function dJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(dJe,"_classCallCheck");function jK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(jK,"_defineProperties");function hJe(t,e,r){return e&&jK(t.prototype,e),r&&jK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(hJe,"_createClass");function Tr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Tr,"_classPrivateFieldLooseBase");var vJe=0;function Au(t){return"__private_"+vJe+++"_"+t}i(Au,"_classPrivateFieldLooseKey");function NK(t,e){if(Pu(t))return new Tn(e,t);var r=new ni("Upload error",{cause:e});return r.request=t,r}i(NK,"buildResponseError");function yJe(t){var e=t.data.slice(0,t.data.size,t.meta.type);return e}i(yJe,"setTypeInBlob");function mJe(t,e,r){var n=Array.isArray(r.metaFields)?r.metaFields:Object.keys(e);n.forEach(function(o){t.append(o,e[o])})}i(mJe,"addMetadata");function gJe(t,e){var r=new FormData;mJe(r,t.meta,e);var n=yJe(t);return t.name?r.append(e.fieldName,n,t.meta.name):r.append(e.fieldName,n),r}i(gJe,"createFormDataUpload");var bJe=i(function(e){return e.data},"createBareUpload"),Ip=Au("queueRequestSocketToken"),Eu=Au("getOptions"),Ru=Au("addEventHandlerForFile"),Tu=Au("addEventHandlerIfFileStillExists"),OI=Au("uploadLocalFile"),SI=Au("requestSocketToken"),_I=Au("uploadRemoteFile"),UK=function(){function t(e,r){var n=this;dJe(this,t),Object.defineProperty(this,_I,{value:PJe}),Object.defineProperty(this,OI,{value:_Je}),Object.defineProperty(this,Tu,{value:SJe}),Object.defineProperty(this,Ru,{value:OJe}),Object.defineProperty(this,Eu,{value:wJe}),Object.defineProperty(this,Ip,{writable:!0,value:void 0}),Object.defineProperty(this,SI,{writable:!0,value:function(){var o=DK(qp().mark(i(function u(s){var l,f,d,y,m;return qp().wrap(i(function(_){for(;;)switch(_.prev=_.next){case 0:return l=Tr(n,Eu)[Eu](s),f=s.remote.providerOptions.provider?Me:pt,d=new f(n.uppy,s.remote.providerOptions),y=Array.isArray(l.metaFields)?l.metaFields:Object.keys(s.meta),s.tus&&Object.assign(l,s.tus),_.next=7,d.post(s.remote.url,fi(fi({},s.remote.body),{},{protocol:"multipart",endpoint:l.endpoint,size:s.data.size,fieldname:l.fieldName,metadata:Object.fromEntries(y.map(function(T){return[T,s.meta[T]]})),httpMethod:l.method,useFormData:l.formData,headers:l.headers}));case 7:return m=_.sent,_.abrupt("return",m.token);case 9:case"end":return _.stop()}},"_callee$"),u)},"_callee")));function a(u){return o.apply(this,arguments)}return i(a,"value"),a}()}),this.uppy=e,this.opts=fi({validateStatus:i(function(a){return a>=200&&a<300},"validateStatus")},r),this.requests=r[ra],this.uploaderEvents=Object.create(null),this.i18n=r.i18n,Tr(this,Ip)[Ip]=this.requests.wrapPromiseFunction(Tr(this,SI)[SI])}return i(t,"MiniXHRUpload"),hJe(t,[{key:"uploadFile",value:i(function(r,n,o){var a=this.uppy.getFile(r);if(a.error)throw new Error(a.error);return a.isRemote?Tr(this,_I)[_I](a,n,o):Tr(this,OI)[OI](a,n,o)},"uploadFile")},{key:"connectToServerSocket",value:i(function(r){var n=this;return new Promise(function(o,a){var u=Tr(n,Eu)[Eu](r),s=r.serverToken,l=Zi(r.remote.companionUrl),f=new ii({target:"".concat(l,"/api/").concat(s)});n.uploaderEvents[r.id]=new ln(n.uppy);var d=n.requests.run(function(){return r.isPaused&&f.send("pause",{}),function(){return f.close()}});Tr(n,Ru)[Ru]("file-removed",r.id,function(){f.send("cancel",{}),d.abort(),o("upload ".concat(r.id," was removed"))}),Tr(n,Tu)[Tu]("cancel-all",r.id,function(y){var m=y===void 0?{}:y,w=m.reason;w==="user"&&(f.send("cancel",{}),d.abort()),o("upload ".concat(r.id," was canceled"))}),Tr(n,Ru)[Ru]("upload-retry",r.id,function(){f.send("pause",{}),f.send("resume",{})}),Tr(n,Tu)[Tu]("retry-all",r.id,function(){f.send("pause",{}),f.send("resume",{})}),f.on("progress",function(y){return na(n,y,r)}),f.on("success",function(y){var m=u.getResponseData(y.response.responseText,y.response),w=m[u.responseUrlFieldName],_={status:y.response.status,body:m,uploadURL:w,bytesUploaded:y.bytesUploaded};return n.uppy.emit("upload-success",r,_),d.done(),n.uploaderEvents[r.id]&&(n.uploaderEvents[r.id].remove(),n.uploaderEvents[r.id]=null),o()}),f.on("error",function(y){var m=y.response,w=m?u.getResponseError(m.responseText,m):new ni(y.error.message,{cause:y.error});n.uppy.emit("upload-error",r,w),d.done(),n.uploaderEvents[r.id]&&(n.uploaderEvents[r.id].remove(),n.uploaderEvents[r.id]=null),a(w)})}).catch(function(o){return n.uppy.emit("upload-error",r,o),Promise.reject(o)})},"connectToServerSocket")}]),t}();function wJe(t){var e,r=this.uppy,n=r.getState().xhrUpload,o=fi(fi(fi(fi({},this.opts),n||{}),t.xhrUpload||{}),{},{headers:fi(fi(fi({},this.opts.headers),n==null?void 0:n.headers),(e=t.xhrUpload)==null?void 0:e.headers)});return o}i(wJe,"_getOptions2");function OJe(t,e,r){this.uploaderEvents[e].on(t,function(n){var o,a=(o=n==null?void 0:n.id)!=null?o:n;e===a&&r()})}i(OJe,"_addEventHandlerForFile2");function SJe(t,e,r){var n=this;this.uploaderEvents[e].on(t,function(){n.uppy.getFile(e)&&r.apply(void 0,arguments)})}i(SJe,"_addEventHandlerIfFileStillExists2");function _Je(t,e,r){var n=this,o=Tr(this,Eu)[Eu](t);return this.uppy.log("uploading ".concat(e," of ").concat(r)),new Promise(function(a,u){var s=o.formData?gJe(t,o):bJe(t,o),l=new XMLHttpRequest;n.uploaderEvents[t.id]=new ln(n.uppy);var f=new Ap(o.timeout,function(){l.abort(),y.done();var m=new Error(n.i18n("timedOut",{seconds:Math.ceil(o.timeout/1e3)}));n.uppy.emit("upload-error",t,m),u(m)}),d=nn();l.upload.addEventListener("loadstart",function(){n.uppy.log("[AwsS3/XHRUpload] ".concat(d," started"))}),l.upload.addEventListener("progress",function(m){n.uppy.log("[AwsS3/XHRUpload] ".concat(d," progress: ").concat(m.loaded," / ").concat(m.total)),f.progress(),m.lengthComputable&&n.uppy.emit("upload-progress",t,{uploader:n,bytesUploaded:m.loaded,bytesTotal:m.total})}),l.addEventListener("load",function(m){if(n.uppy.log("[AwsS3/XHRUpload] ".concat(d," finished")),f.done(),y.done(),n.uploaderEvents[t.id]&&(n.uploaderEvents[t.id].remove(),n.uploaderEvents[t.id]=null),o.validateStatus(m.target.status,l.responseText,l)){var w=o.getResponseData(l.responseText,l),_=w[o.responseUrlFieldName],T={status:m.target.status,body:w,uploadURL:_};return n.uppy.emit("upload-success",t,T),_&&n.uppy.log("Download ".concat(t.name," from ").concat(_)),a(t)}var R=o.getResponseData(l.responseText,l),E=NK(l,o.getResponseError(l.responseText,l)),A={status:m.target.status,body:R};return n.uppy.emit("upload-error",t,E,A),u(E)}),l.addEventListener("error",function(){n.uppy.log("[AwsS3/XHRUpload] ".concat(d," errored")),f.done(),y.done(),n.uploaderEvents[t.id]&&(n.uploaderEvents[t.id].remove(),n.uploaderEvents[t.id]=null);var m=NK(l,o.getResponseError(l.responseText,l));return n.uppy.emit("upload-error",t,m),u(m)}),l.open(o.method.toUpperCase(),o.endpoint,!0),l.withCredentials=Boolean(o.withCredentials),o.responseType!==""&&(l.responseType=o.responseType),Object.keys(o.headers).forEach(function(m){l.setRequestHeader(m,o.headers[m])});var y=n.requests.run(function(){return l.send(s),function(){f.done(),l.abort()}},{priority:1});Tr(n,Ru)[Ru]("file-removed",t.id,function(){y.abort(),u(new Error("File removed"))}),Tr(n,Tu)[Tu]("cancel-all",t.id,function(m){var w=m===void 0?{}:m,_=w.reason;_==="user"&&y.abort(),u(new Error("Upload cancelled"))})})}i(_Je,"_uploadLocalFile2");function PJe(t){return EI.apply(this,arguments)}i(PJe,"_uploadRemoteFile2");function EI(){return EI=DK(qp().mark(i(function t(e){var r;return qp().wrap(i(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!e.serverToken){o.next=3;break}return o.abrupt("return",this.connectToServerSocket(e));case 3:return o.next=5,Tr(this,Ip)[Ip](e);case 5:return r=o.sent,this.uppy.setFileState(e.id,{serverToken:r}),o.abrupt("return",this.connectToServerSocket(this.uppy.getFile(e.id)));case 10:throw o.prev=10,o.t0=o.catch(0),this.uppy.emit("upload-error",e,o.t0),o.t0;case 14:case"end":return o.stop()}},"_callee2$"),t,this,[[0,10]])},"_callee2"))),EI.apply(this,arguments)}i(EI,"_uploadRemoteFile3");function EJe(t){return t.replace(/;.*$/,"")}i(EJe,"removeMimeParameters");function RJe(t,e){var r=e.headers?e.headers["content-type"]:e.getResponseHeader("Content-Type");if(typeof r=="string"){var n=EJe(r).toLowerCase();if(n==="application/xml"||n==="text/xml"||n==="text/html"&&/^<\?xml /.test(t))return!0}return!1}i(RJe,"isXml");var RI=RJe;var MK={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};function BK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(BK,"ownKeys");function kp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BK(Object(r),!0).forEach(function(n){Lp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(kp,"_objectSpread");function Lp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Lp,"_defineProperty");function TJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(TJe,"_classCallCheck");function $K(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i($K,"_defineProperties");function AJe(t,e,r){return e&&$K(t.prototype,e),r&&$K(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(AJe,"_createClass");function IJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TI(t,e)}i(IJe,"_inherits");function TI(t,e){return TI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),TI(t,e)}i(TI,"_setPrototypeOf");function qJe(t){var e=xJe();return i(function(){var n=Zg(t),o;if(e){var a=Zg(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return kJe(this,o)},"_createSuperInternal")}i(qJe,"_createSuper");function kJe(t,e){if(e&&(eb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fn(t)}i(kJe,"_possibleConstructorReturn");function fn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(fn,"_assertThisInitialized");function xJe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(xJe,"_isNativeReflectConstruct");function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Zg(t)}i(Zg,"_getPrototypeOf");function eb(t){return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eb(t)}i(eb,"_typeof");var GK;function lr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(lr,"_classPrivateFieldLooseBase");var CJe=0;function Np(t){return"__private_"+CJe+++"_"+t}i(Np,"_classPrivateFieldLooseKey");var FJe={version:"3.0.0-beta.3"};function LJe(t,e){return new URL(e,t||void 0).toString()}i(LJe,"resolveUrl");function jp(t,e){var r=t.indexOf("<".concat(e,">")),n=t.indexOf("</".concat(e,">"),r);return r!==-1&&n!==-1?t.slice(r+e.length+2,n):""}i(jp,"getXmlValue");function jJe(t){if(t&&t.error){var e=new Error(t.message);throw Object.assign(e,t.error),e}return t}i(jJe,"assertServerError");function NJe(t,e){var r=e!=null&&typeof e.url=="string"&&(eb(e.fields)==="object"||e.fields==null);if(!r){var n=new TypeError("AwsS3: got incorrect result from 'getUploadParameters()' for file '".concat(t.name,"', expected an object '{ url, method, fields, headers }' but got '").concat(JSON.stringify(e),"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));throw n}var o=e.method==null||/^p(u|os)t$/i.test(e.method);if(!o){var a=new TypeError("AwsS3: got incorrect method from 'getUploadParameters()' for file '".concat(t.name,"', expected  'put' or 'post' but got '").concat(e.method,"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));throw a}}i(NJe,"validateParameters");function DJe(t,e){if(!!RI(t,e)){var r=jp(t,"Message");return new Error(r)}}i(DJe,"defaultGetResponseError");var zK=!1,Br=Np("client"),Iu=Np("requests"),xp=Np("uploader"),Cp=Np("handleUpload"),Fp=Np("setCompanionHeaders");GK=Symbol.for("uppy test: getClient");var AI=function(t,e){IJe(n,t);var r=qJe(n);function n(o,a){var u;TJe(this,n),u=r.call(this,o,a),Object.defineProperty(fn(u),Br,{writable:!0,value:void 0}),Object.defineProperty(fn(u),Iu,{writable:!0,value:void 0}),Object.defineProperty(fn(u),xp,{writable:!0,value:void 0}),Object.defineProperty(fn(u),Cp,{writable:!0,value:i(function(f){var d=Object.create(null);function y(_){var T,R=_.id;(T=d[R])==null||T.abort()}i(y,"onremove"),u.uppy.on("file-removed",y),f.forEach(function(_){var T=u.uppy.getFile(_);u.uppy.emit("upload-started",T)});var m=lr(fn(u),Iu)[Iu].wrapPromiseFunction(function(_){return u.opts.getUploadParameters(_)}),w=f.length;return Promise.allSettled(f.map(function(_,T){return d[_]=m(u.uppy.getFile(_)),d[_].then(function(R){delete d[_];var E=u.uppy.getFile(_);NJe(E,R);var A=R.method,k=A===void 0?"post":A,U=R.url,G=R.fields,M=R.headers,z={method:k,formData:k.toLowerCase()==="post",endpoint:U,metaFields:G?Object.keys(G):[]};return M&&(z.headers=M),u.uppy.setFileState(E.id,{meta:kp(kp({},E.meta),G),xhrUpload:z}),lr(fn(u),xp)[xp].uploadFile(E.id,T,w)}).catch(function(R){delete d[_];var E=u.uppy.getFile(_);return u.uppy.emit("upload-error",E,R),Promise.reject(R)})})).finally(function(){u.uppy.off("file-removed",y)})},"value")}),Object.defineProperty(fn(u),Fp,{writable:!0,value:i(function(){return lr(fn(u),Br)[Br].setCompanionHeaders(u.opts.companionHeaders),Promise.resolve()},"value")}),u.type="uploader",u.id=u.opts.id||"AwsS3",u.title="AWS S3",u.defaultLocale=MK;var s={timeout:30*1e3,limit:0,metaFields:[],getUploadParameters:u.getUploadParameters.bind(fn(u)),companionHeaders:{}};return u.opts=kp(kp({},s),a),u.i18nInit(),lr(fn(u),Br)[Br]=new pt(o,a),lr(fn(u),Iu)[Iu]=new sn(u.opts.limit),u}return i(n,"AwsS3"),AJe(n,[{key:e,value:i(function(){return lr(this,Br)[Br]},"value")},{key:"client",get:i(function(){return lr(this,Br)[Br]},"get")},{key:"client",set:i(function(a){lr(this,Br)[Br]=a},"set")},{key:"getUploadParameters",value:i(function(a){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");var u=a.meta.name,s=a.meta.type,l=Object.fromEntries(this.opts.metaFields.filter(function(d){return a.meta[d]!=null}).map(function(d){return["metadata[".concat(d,"]"),a.meta[d].toString()]})),f=new URLSearchParams(kp({filename:u,type:s},l));return lr(this,Br)[Br].get("s3/params?".concat(f)).then(jJe)},"getUploadParameters")},{key:"install",value:i(function(){var a,u=this.uppy;u.addPreProcessor(lr(this,Fp)[Fp]),u.addUploader(lr(this,Cp)[Cp]);function s(f,d){var y=this;return RI(f,d)?{location:LJe(d.responseURL,jp(f,"Location")),bucket:jp(f,"Bucket"),key:jp(f,"Key"),etag:jp(f,"ETag")}:y.method.toUpperCase()==="POST"?(zK||(u.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),zK=!0),{location:null}):d.responseURL?{location:d.responseURL.replace(/\?.*$/,"")}:{location:null}}i(s,"defaultGetResponseData");var l=(a={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout},Lp(a,ra,lr(this,Iu)[Iu]),Lp(a,"responseType","text"),Lp(a,"getResponseData",this.opts.getResponseData||s),Lp(a,"getResponseError",DJe),a);l.i18n=this.i18n,lr(this,xp)[xp]=new UK(u,l)},"install")},{key:"uninstall",value:i(function(){this.uppy.removePreProcessor(lr(this,Fp)[Fp]),this.uppy.removeUploader(lr(this,Cp)[Cp])},"uninstall")}]),n}(st,GK);AI.VERSION=FJe.version;var II=globalThis.AbortController;var Pwt=globalThis.AbortSignal;var to=i(function(e){return e===void 0&&(e="Aborted"),new DOMException(e,"AbortError")},"createAbortError");function qI(t,e){return new Promise(function(r,n){var o,a;if(e!=null&&(o=e.signal)!=null&&o.aborted)return n(to());var u=setTimeout(function(){l(),r()},t);function s(){clearTimeout(u),l(),n(to())}i(s,"onabort"),e==null||(a=e.signal)==null||a.addEventListener("abort",s);function l(){var f;e==null||(f=e.signal)==null||f.removeEventListener("abort",s)}i(l,"cleanup")})}i(qI,"delay");function qu(){"use strict";qu=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&Up(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(qu,"_regeneratorRuntime");function UJe(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=MJe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,o=i(function(){},"F");return{s:o,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return a=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!a&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(UJe,"_createForOfIteratorHelper");function MJe(t,e){if(!!t){if(typeof t=="string")return HK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HK(t,e)}}i(MJe,"_unsupportedIterableToArray");function HK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(HK,"_arrayLikeToArray");function VK(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(VK,"asyncGeneratorStep");function GI(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){VK(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){VK(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(GI,"_asyncToGenerator");function Up(t){return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}i(Up,"_typeof");function WK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(WK,"ownKeys");function KK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WK(Object(r),!0).forEach(function(n){BJe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(KK,"_objectSpread");function BJe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(BJe,"_defineProperty");function $Je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i($Je,"_classCallCheck");function YK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(YK,"_defineProperties");function zJe(t,e,r){return e&&YK(t.prototype,e),r&&YK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(zJe,"_createClass");function Xe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Xe,"_classPrivateFieldLooseBase");var GJe=0;function cr(t){return"__private_"+GJe+++"_"+t}i(cr,"_classPrivateFieldLooseKey");var HJe=1024*1024,XK={limit:1,retryDelays:[0,1e3,3e3,5e3],getChunkSize:i(function(e){return Math.ceil(e.size/1e4)},"getChunkSize"),onStart:i(function(){},"onStart"),onProgress:i(function(){},"onProgress"),onPartComplete:i(function(){},"onPartComplete"),onSuccess:i(function(){},"onSuccess"),onError:i(function(e){throw e},"onError")};function JK(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}i(JK,"ensureInt");var ro=cr("aborted"),kI=cr("initChunks"),xI=cr("createUpload"),CI=cr("resumeUpload"),ku=cr("uploadParts"),Mp=cr("retryable"),LI=cr("prepareUploadPartsRetryable"),jI=cr("uploadPartRetryable"),NI=cr("uploadPart"),Dp=cr("onPartProgress"),DI=cr("onPartComplete"),UI=cr("uploadPartBytes"),MI=cr("completeUpload"),FI=cr("abortUpload"),jn=cr("onError"),VJe=function(){function t(e,r){$Je(this,t),Object.defineProperty(this,jn,{value:uQe}),Object.defineProperty(this,FI,{value:aQe}),Object.defineProperty(this,MI,{value:oQe}),Object.defineProperty(this,UI,{value:iQe}),Object.defineProperty(this,DI,{value:nQe}),Object.defineProperty(this,Dp,{value:rQe}),Object.defineProperty(this,NI,{value:tQe}),Object.defineProperty(this,jI,{value:eQe}),Object.defineProperty(this,LI,{value:ZJe}),Object.defineProperty(this,Mp,{value:QJe}),Object.defineProperty(this,ku,{value:JJe}),Object.defineProperty(this,CI,{value:XJe}),Object.defineProperty(this,xI,{value:YJe}),Object.defineProperty(this,kI,{value:KJe}),Object.defineProperty(this,ro,{value:WJe}),this.options=KK(KK({},XK),r),this.options.getChunkSize||(this.options.getChunkSize=XK.getChunkSize),this.file=e,this.abortController=new II,this.key=this.options.key||null,this.uploadId=this.options.uploadId||null,this.parts=[],this.createdPromise=Promise.reject(),this.isPaused=!1,this.partsInProgress=0,this.chunks=null,this.chunkState=null,Xe(this,kI)[kI](),this.createdPromise.catch(function(){})}return i(t,"MultipartUploader"),zJe(t,[{key:"start",value:i(function(){this.isPaused=!1,this.uploadId?Xe(this,CI)[CI]():Xe(this,xI)[xI]()},"start")},{key:"pause",value:i(function(){this.abortController.abort(),this.abortController=new II,this.isPaused=!0},"pause")},{key:"abort",value:i(function(r){var n;r===void 0&&(r=void 0),(n=r)!=null&&n.really?Xe(this,FI)[FI]():this.pause()},"abort")}]),t}();function WJe(){return this.abortController.signal.aborted}i(WJe,"_aborted2");function KJe(){var t=[],e=this.options.getChunkSize(this.file),r=Math.max(5*HJe,Math.ceil(this.file.size/1e4)),n=Math.max(e,r);if(this.file.size===0)t.push(this.file);else for(var o=0;o<this.file.size;o+=n){var a=Math.min(this.file.size,o+n);t.push(this.file.slice(o,a))}this.chunks=t,this.chunkState=t.map(function(){return{uploaded:0,busy:!1,done:!1}})}i(KJe,"_initChunks2");function YJe(){var t=this;return this.createdPromise=Promise.resolve().then(function(){return t.options.createMultipartUpload()}),this.createdPromise.then(function(e){if(Xe(t,ro)[ro]())throw to();var r=Up(e)==="object"&&e&&typeof e.uploadId=="string"&&typeof e.key=="string";if(!r)throw new TypeError("AwsS3/Multipart: Got incorrect result from `createMultipartUpload()`, expected an object `{ uploadId, key }`.");t.key=e.key,t.uploadId=e.uploadId,t.options.onStart(e),Xe(t,ku)[ku]()}).catch(function(e){Xe(t,jn)[jn](e)})}i(YJe,"_createUpload2");function XJe(){return BI.apply(this,arguments)}i(XJe,"_resumeUpload2");function BI(){return BI=GI(qu().mark(i(function t(){var e=this,r;return qu().wrap(i(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,this.options.listParts({uploadId:this.uploadId,key:this.key});case 3:if(r=o.sent,!Xe(this,ro)[ro]()){o.next=6;break}throw to();case 6:r.forEach(function(a){var u=a.PartNumber-1;e.chunkState[u]={uploaded:JK(a.Size),etag:a.ETag,done:!0},e.parts.some(function(s){return s.PartNumber===a.PartNumber})||e.parts.push({PartNumber:a.PartNumber,ETag:a.ETag})}),Xe(this,ku)[ku](),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(0),Xe(this,jn)[jn](o.t0);case 13:case"end":return o.stop()}},"_callee$"),t,this,[[0,10]])},"_callee"))),BI.apply(this,arguments)}i(BI,"_resumeUpload3");function JJe(){var t=this;if(!this.isPaused){if(this.chunkState.every(function(n){return n.done})){Xe(this,MI)[MI]();return}var e=i(function(){var o=t.options.limit-t.partsInProgress,a=t.chunkState.filter(function(y){return y.done}).length,u=t.chunks.length-a,s=Math.ceil(t.options.limit/2);if(s>u&&(s=u),o<s)return[];for(var l=[],f=0;f<t.chunkState.length;f++){var d=t.chunkState[f];if(!(d.done||d.busy)&&(l.push(f),l.length>=o))break}return l},"getChunkIndexes"),r=e();r.length!==0&&Xe(this,LI)[LI](r).then(function(n){var o=n.presignedUrls,a=n.headers,u=UJe(r),s;try{for(u.s();!(s=u.n()).done;){var l=s.value,f=l+1,d={url:o[f],headers:a==null?void 0:a[f]};Xe(t,jI)[jI](l,d).then(function(){return Xe(t,ku)[ku]()},function(y){return Xe(t,jn)[jn](y)})}}catch(y){u.e(y)}finally{u.f()}},function(n){return Xe(t,jn)[jn](n)})}}i(JJe,"_uploadParts2");function QJe(t){var e=this,r=t.before,n=t.attempt,o=t.after,a=this.options.retryDelays,u=this.abortController.signal;r&&r();function s(f){if(f.source&&typeof f.source.status=="number"){var d=f.source.status;return d===0||d===409||d===423||d>=500&&d<600}return!1}i(s,"shouldRetry");var l=i(function f(d){return n().catch(function(y){if(Xe(e,ro)[ro]())throw to();if(s(y)&&d<a.length)return qI(a[d],{signal:u}).then(function(){return f(d+1)});throw y})},"doAttempt");return l(0).then(function(f){return o&&o(),f},function(f){throw o&&o(),f})}i(QJe,"_retryable2");function ZJe(t){return $I.apply(this,arguments)}i(ZJe,"_prepareUploadPartsRetryable2");function $I(){return $I=GI(qu().mark(i(function t(e){var r=this,n;return qu().wrap(i(function(a){for(;;)switch(a.prev=a.next){case 0:return e.forEach(function(u){r.chunkState[u].busy=!0}),a.next=3,Xe(this,Mp)[Mp]({attempt:i(function(){return r.options.prepareUploadParts({key:r.key,uploadId:r.uploadId,parts:e.map(function(s){return{number:s+1,chunk:r.chunks[s]}})})},"attempt")});case 3:if(n=a.sent,Up(n==null?void 0:n.presignedUrls)==="object"){a.next=6;break}throw new TypeError("AwsS3/Multipart: Got incorrect result from `prepareUploadParts()`, expected an object `{ presignedUrls }`.");case 6:return a.abrupt("return",n);case 7:case"end":return a.stop()}},"_callee2$"),t,this)},"_callee2"))),$I.apply(this,arguments)}i($I,"_prepareUploadPartsRetryable3");function eQe(t,e){var r=this;return Xe(this,Mp)[Mp]({before:i(function(){r.chunkState[t].busy=!0,r.partsInProgress+=1},"before"),attempt:i(function(){return Xe(r,NI)[NI](t,e)},"attempt"),after:i(function(){r.chunkState[t].busy=!1,r.partsInProgress-=1},"after")})}i(eQe,"_uploadPartRetryable2");function tQe(t,e){var r=typeof(e==null?void 0:e.url)=="string";if(!r)throw new TypeError("AwsS3/Multipart: Got incorrect result for `prePreparedPart`, expected an object `{ url }`.");var n=e.url,o=e.headers;if(Xe(this,ro)[ro]())throw to();return Xe(this,UI)[UI](t,n,o)}i(tQe,"_uploadPart2");function rQe(t,e){this.chunkState[t].uploaded=JK(e);var r=this.chunkState.reduce(function(n,o){return n+o.uploaded},0);this.options.onProgress(r,this.file.size)}i(rQe,"_onPartProgress2");function nQe(t,e){this.chunkState[t].etag=e,this.chunkState[t].done=!0;var r={PartNumber:t+1,ETag:e};this.parts.push(r),this.options.onPartComplete(r)}i(nQe,"_onPartComplete2");function iQe(t,e,r){var n=this,o=this.chunks[t],a=this.abortController.signal,u,s=new Promise(function(y,m){u={resolve:y,reject:m}}),l=new XMLHttpRequest;l.open("PUT",e,!0),r&&Object.keys(r).forEach(function(y){l.setRequestHeader(y,r[y])}),l.responseType="text";function f(){a.removeEventListener("abort",d)}i(f,"cleanup");function d(){l.abort()}return i(d,"onabort"),a.addEventListener("abort",d),l.upload.addEventListener("progress",function(y){!y.lengthComputable||Xe(n,Dp)[Dp](t,y.loaded,y.total)}),l.addEventListener("abort",function(){f(),u.reject(to())}),l.addEventListener("load",function(y){if(f(),y.target.status<200||y.target.status>=300){var m=new Error("Non 2xx");m.source=y.target,u.reject(m);return}n.chunks[t]=null,Xe(n,Dp)[Dp](t,o.size,o.size);var w=y.target.getResponseHeader("ETag");if(w===null){u.reject(new Error("AwsS3/Multipart: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3-multipart#S3-Bucket-Configuration for instructions."));return}Xe(n,DI)[DI](t,w),u.resolve()}),l.addEventListener("error",function(y){f();var m=new Error("Unknown error");m.source=y.target,u.reject(m)}),l.send(o),s}i(iQe,"_uploadPartBytes2");function oQe(){return zI.apply(this,arguments)}i(oQe,"_completeUpload2");function zI(){return zI=GI(qu().mark(i(function t(){var e;return qu().wrap(i(function(n){for(;;)switch(n.prev=n.next){case 0:return this.parts.sort(function(o,a){return o.PartNumber-a.PartNumber}),n.prev=1,n.next=4,this.options.completeMultipartUpload({key:this.key,uploadId:this.uploadId,parts:this.parts});case 4:e=n.sent,this.options.onSuccess(e),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),Xe(this,jn)[jn](n.t0);case 11:case"end":return n.stop()}},"_callee3$"),t,this,[[1,8]])},"_callee3"))),zI.apply(this,arguments)}i(zI,"_completeUpload3");function aQe(){var t=this;this.abortController.abort(),this.createdPromise.then(function(){return t.options.abortMultipartUpload({key:t.key,uploadId:t.uploadId})}).catch(function(){})}i(aQe,"_abortUpload2");function uQe(t){t&&t.name==="AbortError"||this.options.onError(t)}i(uQe,"_onError2");var QK=VJe;function tb(t){return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tb(t)}i(tb,"_typeof");function Gp(){"use strict";Gp=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&tb(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(Gp,"_regeneratorRuntime");function ZK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(ZK,"ownKeys");function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZK(Object(r),!0).forEach(function(n){sQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i($r,"_objectSpread");function sQe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(sQe,"_defineProperty");function eY(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(eY,"asyncGeneratorStep");function tY(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){eY(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){eY(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(tY,"_asyncToGenerator");function lQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(lQe,"_classCallCheck");function rY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(rY,"_defineProperties");function cQe(t,e,r){return e&&rY(t.prototype,e),r&&rY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(cQe,"_createClass");function fQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VI(t,e)}i(fQe,"_inherits");function VI(t,e){return VI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),VI(t,e)}i(VI,"_setPrototypeOf");function pQe(t){var e=hQe();return i(function(){var n=rb(t),o;if(e){var a=rb(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return dQe(this,o)},"_createSuperInternal")}i(pQe,"_createSuper");function dQe(t,e){if(e&&(tb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fr(t)}i(dQe,"_possibleConstructorReturn");function fr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(fr,"_assertThisInitialized");function hQe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(hQe,"_isNativeReflectConstruct");function rb(t){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),rb(t)}i(rb,"_getPrototypeOf");var nY;function zr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(zr,"_classPrivateFieldLooseBase");var vQe=0;function nb(t){return"__private_"+vQe+++"_"+t}i(nb,"_classPrivateFieldLooseKey");var yQe={version:"3.0.0-beta.4"};function Bp(t){if(t&&t.error){var e=new Error(t.message);throw Object.assign(e,t.error),e}return t}i(Bp,"assertServerError");var $p=nb("queueRequestSocketToken"),Vt=nb("client"),HI=nb("requestSocketToken"),zp=nb("setCompanionHeaders");nY=Symbol.for("uppy test: getClient");var WI=function(t,e){fQe(n,t);var r=pQe(n);function n(o,a){var u;lQe(this,n),u=r.call(this,o,a),Object.defineProperty(fr(u),$p,{writable:!0,value:void 0}),Object.defineProperty(fr(u),Vt,{writable:!0,value:void 0}),Object.defineProperty(fr(u),HI,{writable:!0,value:function(){var l=tY(Gp().mark(i(function d(y){var m,w,_,T;return Gp().wrap(i(function(E){for(;;)switch(E.prev=E.next){case 0:return m=y.remote.providerOptions.provider?Me:pt,w=new m(u.uppy,y.remote.providerOptions),_=$r({},u.opts),y.tus&&Object.assign(_,y.tus),E.next=6,w.post(y.remote.url,$r($r({},y.remote.body),{},{protocol:"s3-multipart",size:y.data.size,metadata:y.meta}));case 6:return T=E.sent,E.abrupt("return",T.token);case 8:case"end":return E.stop()}},"_callee$"),d)},"_callee")));function f(d){return l.apply(this,arguments)}return i(f,"value"),f}()}),Object.defineProperty(fr(u),zp,{writable:!0,value:i(function(){return zr(fr(u),Vt)[Vt].setCompanionHeaders(u.opts.companionHeaders),Promise.resolve()},"value")}),u.type="uploader",u.id=u.opts.id||"AwsS3Multipart",u.title="AWS S3 Multipart",zr(fr(u),Vt)[Vt]=new pt(o,a);var s={timeout:30*1e3,limit:0,retryDelays:[0,1e3,3e3,5e3],createMultipartUpload:u.createMultipartUpload.bind(fr(u)),listParts:u.listParts.bind(fr(u)),prepareUploadParts:u.prepareUploadParts.bind(fr(u)),abortMultipartUpload:u.abortMultipartUpload.bind(fr(u)),completeMultipartUpload:u.completeMultipartUpload.bind(fr(u)),companionHeaders:{}};return u.opts=$r($r({},s),a),u.upload=u.upload.bind(fr(u)),u.requests=new sn(u.opts.limit),u.uploaders=Object.create(null),u.uploaderEvents=Object.create(null),u.uploaderSockets=Object.create(null),zr(fr(u),$p)[$p]=u.requests.wrapPromiseFunction(zr(fr(u),HI)[HI]),u}return i(n,"AwsS3Multipart"),cQe(n,[{key:e,value:i(function(){return zr(this,Vt)[Vt]},"value")},{key:"resetUploaderReferences",value:i(function(a,u){u===void 0&&(u={}),this.uploaders[a]&&(this.uploaders[a].abort({really:u.abort||!1}),this.uploaders[a]=null),this.uploaderEvents[a]&&(this.uploaderEvents[a].remove(),this.uploaderEvents[a]=null),this.uploaderSockets[a]&&(this.uploaderSockets[a].close(),this.uploaderSockets[a]=null)},"resetUploaderReferences")},{key:"assertHost",value:i(function(a){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address, or if you are not using Companion, a custom `".concat(a,"` implementation."))},"assertHost")},{key:"createMultipartUpload",value:i(function(a){this.assertHost("createMultipartUpload");var u={};return Object.keys(a.meta).forEach(function(s){a.meta[s]!=null&&(u[s]=a.meta[s].toString())}),zr(this,Vt)[Vt].post("s3/multipart",{filename:a.name,type:a.type,metadata:u}).then(Bp)},"createMultipartUpload")},{key:"listParts",value:i(function(a,u){var s=u.key,l=u.uploadId;this.assertHost("listParts");var f=encodeURIComponent(s);return zr(this,Vt)[Vt].get("s3/multipart/".concat(l,"?key=").concat(f)).then(Bp)},"listParts")},{key:"prepareUploadParts",value:i(function(a,u){var s=u.key,l=u.uploadId,f=u.parts;this.assertHost("prepareUploadParts");var d=encodeURIComponent(s),y=f.map(function(m){return m.number}).join(",");return zr(this,Vt)[Vt].get("s3/multipart/".concat(l,"/batch?key=").concat(d,"&partNumbers=").concat(y)).then(Bp)},"prepareUploadParts")},{key:"completeMultipartUpload",value:i(function(a,u){var s=u.key,l=u.uploadId,f=u.parts;this.assertHost("completeMultipartUpload");var d=encodeURIComponent(s),y=encodeURIComponent(l);return zr(this,Vt)[Vt].post("s3/multipart/".concat(y,"/complete?key=").concat(d),{parts:f}).then(Bp)},"completeMultipartUpload")},{key:"abortMultipartUpload",value:i(function(a,u){var s=u.key,l=u.uploadId;this.assertHost("abortMultipartUpload");var f=encodeURIComponent(s),d=encodeURIComponent(l);return zr(this,Vt)[Vt].delete("s3/multipart/".concat(d,"?key=").concat(f)).then(Bp)},"abortMultipartUpload")},{key:"uploadFile",value:i(function(a){var u=this,s=this;return new Promise(function(l,f){var d,y=i(function(A){var k=u.uppy.getFile(a.id);u.uppy.setFileState(a.id,{s3Multipart:$r($r({},k.s3Multipart),{},{key:A.key,uploadId:A.uploadId})})},"onStart"),m=i(function(A,k){u.uppy.emit("upload-progress",a,{uploader:u,bytesUploaded:A,bytesTotal:k})},"onProgress"),w=i(function(A){u.uppy.log(A),u.uppy.emit("upload-error",a,A),d.done(),u.resetUploaderReferences(a.id),f(A)},"onError"),_=i(function(A){var k=R,U={body:$r({},A),uploadURL:A.location};d.done(),u.resetUploaderReferences(a.id);var G=u.uppy.getFile(a.id);u.uppy.emit("upload-success",G||a,U),A.location&&u.uppy.log("Download ".concat(k.file.name," from ").concat(A.location)),l(k)},"onSuccess"),T=i(function(A){var k=u.uppy.getFile(a.id);!k||u.uppy.emit("s3-multipart:part-uploaded",k,A)},"onPartComplete"),R=new QK(a.data,$r({createMultipartUpload:u.opts.createMultipartUpload.bind(u,a),listParts:u.opts.listParts.bind(u,a),prepareUploadParts:u.opts.prepareUploadParts.bind(u,a),completeMultipartUpload:u.opts.completeMultipartUpload.bind(u,a),abortMultipartUpload:u.opts.abortMultipartUpload.bind(u,a),getChunkSize:u.opts.getChunkSize?u.opts.getChunkSize.bind(u):null,onStart:y,onProgress:m,onError:w,onSuccess:_,onPartComplete:T,limit:u.opts.limit||5,retryDelays:u.opts.retryDelays||[]},a.s3Multipart));u.uploaders[a.id]=R,u.uploaderEvents[a.id]=new ln(u.uppy),d=u.requests.run(function(){return a.isPaused||R.start(),function(){}}),u.onFileRemove(a.id,function(E){d.abort(),u.resetUploaderReferences(a.id,{abort:!0}),l("upload ".concat(E.id," was removed"))}),u.onCancelAll(a.id,function(E){var A=E===void 0?{}:E,k=A.reason;k==="user"&&(d.abort(),s.resetUploaderReferences(a.id,{abort:!0})),l("upload ".concat(a.id," was canceled"))}),u.onFilePause(a.id,function(E){E?(d.abort(),R.pause()):(d.abort(),d=u.requests.run(function(){return R.start(),function(){}}))}),u.onPauseAll(a.id,function(){d.abort(),R.pause()}),u.onResumeAll(a.id,function(){d.abort(),a.error&&R.abort(),d=u.requests.run(function(){return R.start(),function(){}})}),(!a.progress.uploadStarted||!a.isRestored)&&u.uppy.emit("upload-started",a)})},"uploadFile")},{key:"uploadRemote",value:function(){var o=tY(Gp().mark(i(function u(s){var l;return Gp().wrap(i(function(d){for(;;)switch(d.prev=d.next){case 0:if(this.resetUploaderReferences(s.id),(!s.progress.uploadStarted||!s.isRestored)&&this.uppy.emit("upload-started",s),d.prev=2,!s.serverToken){d.next=5;break}return d.abrupt("return",this.connectToServerSocket(s));case 5:return d.next=7,zr(this,$p)[$p](s);case 7:return l=d.sent,this.uppy.setFileState(s.id,{serverToken:l}),d.abrupt("return",this.connectToServerSocket(this.uppy.getFile(s.id)));case 12:throw d.prev=12,d.t0=d.catch(2),this.uppy.emit("upload-error",s,d.t0),d.t0;case 16:case"end":return d.stop()}},"_callee2$"),u,this,[[2,12]])},"_callee2")));function a(u){return o.apply(this,arguments)}return i(a,"uploadRemote"),a}()},{key:"connectToServerSocket",value:i(function(a){var u=this,s=this;return new Promise(function(l,f){var d,y=a.serverToken,m=Zi(a.remote.companionUrl),w=new ii({target:"".concat(m,"/api/").concat(y)});u.uploaderSockets[a.id]=w,u.uploaderEvents[a.id]=new ln(u.uppy),u.onFileRemove(a.id,function(){d.abort(),w.send("cancel",{}),u.resetUploaderReferences(a.id,{abort:!0}),l("upload ".concat(a.id," was removed"))}),u.onFilePause(a.id,function(_){_?(d.abort(),w.send("pause",{})):(d.abort(),d=u.requests.run(function(){return w.send("resume",{}),function(){}}))}),u.onPauseAll(a.id,function(){d.abort(),w.send("pause",{})}),u.onCancelAll(a.id,function(_){var T=_===void 0?{}:_,R=T.reason;R==="user"&&(d.abort(),w.send("cancel",{}),s.resetUploaderReferences(a.id)),l("upload ".concat(a.id," was canceled"))}),u.onResumeAll(a.id,function(){d.abort(),a.error&&w.send("pause",{}),d=u.requests.run(function(){w.send("resume",{})})}),u.onRetry(a.id,function(){w.isOpen&&(w.send("pause",{}),w.send("resume",{}))}),u.onRetryAll(a.id,function(){w.isOpen&&(w.send("pause",{}),w.send("resume",{}))}),w.on("progress",function(_){return na(u,_,a)}),w.on("error",function(_){u.uppy.emit("upload-error",a,new Error(_.error)),u.resetUploaderReferences(a.id),d.done(),f(new Error(_.error))}),w.on("success",function(_){var T={uploadURL:_.url};u.uppy.emit("upload-success",a,T),u.resetUploaderReferences(a.id),d.done(),l()}),d=u.requests.run(function(){return a.isPaused&&w.send("pause",{}),function(){}})})},"connectToServerSocket")},{key:"upload",value:i(function(a){var u=this;if(a.length===0)return Promise.resolve();var s=a.map(function(l){var f=u.uppy.getFile(l);return f.isRemote?u.uploadRemote(f):u.uploadFile(f)});return Promise.all(s)},"upload")},{key:"onFileRemove",value:i(function(a,u){this.uploaderEvents[a].on("file-removed",function(s){a===s.id&&u(s.id)})},"onFileRemove")},{key:"onFilePause",value:i(function(a,u){this.uploaderEvents[a].on("upload-pause",function(s,l){a===s&&u(l)})},"onFilePause")},{key:"onRetry",value:i(function(a,u){this.uploaderEvents[a].on("upload-retry",function(s){a===s&&u()})},"onRetry")},{key:"onRetryAll",value:i(function(a,u){var s=this;this.uploaderEvents[a].on("retry-all",function(){!s.uppy.getFile(a)||u()})},"onRetryAll")},{key:"onPauseAll",value:i(function(a,u){var s=this;this.uploaderEvents[a].on("pause-all",function(){!s.uppy.getFile(a)||u()})},"onPauseAll")},{key:"onCancelAll",value:i(function(a,u){var s=this;this.uploaderEvents[a].on("cancel-all",function(){!s.uppy.getFile(a)||u.apply(void 0,arguments)})},"onCancelAll")},{key:"onResumeAll",value:i(function(a,u){var s=this;this.uploaderEvents[a].on("resume-all",function(){!s.uppy.getFile(a)||u()})},"onResumeAll")},{key:"install",value:i(function(){var a=this.uppy.getState(),u=a.capabilities;this.uppy.setState({capabilities:$r($r({},u),{},{resumableUploads:!0})}),this.uppy.addPreProcessor(zr(this,zp)[zp]),this.uppy.addUploader(this.upload)},"install")},{key:"uninstall",value:i(function(){var a=this.uppy.getState(),u=a.capabilities;this.uppy.setState({capabilities:$r($r({},u),{},{resumableUploads:!1})}),this.uppy.removePreProcessor(zr(this,zp)[zp]),this.uppy.removeUploader(this.upload)},"uninstall")}]),n}(st,nY);WI.VERSION=yQe.version;var lY="3.7.2",mQe=lY,gQe=typeof atob=="function",bQe=typeof btoa=="function",Sl=typeof Buffer=="function",iY=typeof TextDecoder=="function"?new TextDecoder:void 0,oY=typeof TextEncoder=="function"?new TextEncoder:void 0,wQe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Hp=Array.prototype.slice.call(wQe),ib=function(t){var e={};return t.forEach(function(r,n){return e[r]=n}),e}(Hp),OQe=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Wt=String.fromCharCode.bind(String),aY=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r){return r};return new Uint8Array(Array.prototype.slice.call(t,0).map(e))},cY=i(function(e){return e.replace(/=/g,"").replace(/[+\/]/g,function(r){return r=="+"?"-":"_"})},"_mkUriSafe"),fY=i(function(e){return e.replace(/[^A-Za-z0-9\+\/]/g,"")},"_tidyB64"),pY=i(function(e){for(var r,n,o,a,u="",s=e.length%3,l=0;l<e.length;){if((n=e.charCodeAt(l++))>255||(o=e.charCodeAt(l++))>255||(a=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");r=n<<16|o<<8|a,u+=Hp[r>>18&63]+Hp[r>>12&63]+Hp[r>>6&63]+Hp[r&63]}return s?u.slice(0,s-3)+"===".substring(s):u},"btoaPolyfill"),XI=bQe?function(t){return btoa(t)}:Sl?function(t){return Buffer.from(t,"binary").toString("base64")}:pY,KI=Sl?function(t){return Buffer.from(t).toString("base64")}:function(t){for(var e=4096,r=[],n=0,o=t.length;n<o;n+=e)r.push(Wt.apply(null,t.subarray(n,n+e)));return XI(r.join(""))},ob=i(function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return r?cY(KI(e)):KI(e)},"fromUint8Array"),SQe=i(function(e){if(e.length<2){var r=e.charCodeAt(0);return r<128?e:r<2048?Wt(192|r>>>6)+Wt(128|r&63):Wt(224|r>>>12&15)+Wt(128|r>>>6&63)+Wt(128|r&63)}else{var r=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Wt(240|r>>>18&7)+Wt(128|r>>>12&63)+Wt(128|r>>>6&63)+Wt(128|r&63)}},"cb_utob"),_Qe=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,dY=i(function(e){return e.replace(_Qe,SQe)},"utob"),uY=Sl?function(t){return Buffer.from(t,"utf8").toString("base64")}:oY?function(t){return KI(oY.encode(t))}:function(t){return XI(dY(t))},Ol=i(function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return r?cY(uY(e)):uY(e)},"encode"),sY=i(function(e){return Ol(e,!0)},"encodeURI"),PQe=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,EQe=i(function(e){switch(e.length){case 4:var r=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=r-65536;return Wt((n>>>10)+55296)+Wt((n&1023)+56320);case 3:return Wt((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Wt((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},"cb_btou"),hY=i(function(e){return e.replace(PQe,EQe)},"btou"),vY=i(function(e){if(e=e.replace(/\s+/g,""),!OQe.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));for(var r,n="",o,a,u=0;u<e.length;)r=ib[e.charAt(u++)]<<18|ib[e.charAt(u++)]<<12|(o=ib[e.charAt(u++)])<<6|(a=ib[e.charAt(u++)]),n+=o===64?Wt(r>>16&255):a===64?Wt(r>>16&255,r>>8&255):Wt(r>>16&255,r>>8&255,r&255);return n},"atobPolyfill"),JI=gQe?function(t){return atob(fY(t))}:Sl?function(t){return Buffer.from(t,"base64").toString("binary")}:vY,yY=Sl?function(t){return aY(Buffer.from(t,"base64"))}:function(t){return aY(JI(t),function(e){return e.charCodeAt(0)})},mY=i(function(e){return yY(gY(e))},"toUint8Array"),RQe=Sl?function(t){return Buffer.from(t,"base64").toString("utf8")}:iY?function(t){return iY.decode(yY(t))}:function(t){return hY(JI(t))},gY=i(function(e){return fY(e.replace(/[-_]/g,function(r){return r=="-"?"+":"/"}))},"_unURI"),YI=i(function(e){return RQe(gY(e))},"decode"),TQe=i(function(e){if(typeof e!="string")return!1;var r=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(r)||!/[^\s0-9a-zA-Z\-_]/.test(r)},"isValid"),bY=i(function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}},"_noEnum"),wY=i(function(){var e=i(function(n,o){return Object.defineProperty(String.prototype,n,bY(o))},"_add");e("fromBase64",function(){return YI(this)}),e("toBase64",function(r){return Ol(this,r)}),e("toBase64URI",function(){return Ol(this,!0)}),e("toBase64URL",function(){return Ol(this,!0)}),e("toUint8Array",function(){return mY(this)})},"extendString"),OY=i(function(){var e=i(function(n,o){return Object.defineProperty(Uint8Array.prototype,n,bY(o))},"_add");e("toBase64",function(r){return ob(this,r)}),e("toBase64URI",function(){return ob(this,!0)}),e("toBase64URL",function(){return ob(this,!0)})},"extendUint8Array"),AQe=i(function(){wY(),OY()},"extendBuiltins"),SY={version:lY,VERSION:mQe,atob:JI,atobPolyfill:vY,btoa:XI,btoaPolyfill:pY,fromBase64:YI,toBase64:Ol,encode:Ol,encodeURI:sY,encodeURL:sY,utob:dY,btou:hY,decode:YI,isValid:TQe,fromUint8Array:ob,toUint8Array:mY,extendString:wY,extendUint8Array:OY,extendBuiltins:AQe};var WY=Re(LY());function tq(t){return tq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tq(t)}i(tq,"_typeof");function jY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(jY,"_defineProperties");function MQe(t,e,r){return e&&jY(t.prototype,e),r&&jY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(MQe,"_createClass");function BQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(BQe,"_classCallCheck");function $Qe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wp(t,e)}i($Qe,"_inherits");function zQe(t){var e=NY();return i(function(){var n=Kp(t),o;if(e){var a=Kp(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return GQe(this,o)},"_createSuperInternal")}i(zQe,"_createSuper");function GQe(t,e){if(e&&(tq(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HQe(t)}i(GQe,"_possibleConstructorReturn");function HQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(HQe,"_assertThisInitialized");function rq(t){var e=typeof Map=="function"?new Map:void 0;return rq=i(function(n){if(n===null||!VQe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return ub(n,arguments,Kp(this).constructor)}return i(o,"Wrapper"),o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Wp(o,n)},"_wrapNativeSuper"),rq(t)}i(rq,"_wrapNativeSuper");function ub(t,e,r){return NY()?ub=Reflect.construct.bind():ub=i(function(o,a,u){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(o,s),f=new l;return u&&Wp(f,u.prototype),f},"_construct"),ub.apply(null,arguments)}i(ub,"_construct");function NY(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(NY,"_isNativeReflectConstruct");function VQe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(VQe,"_isNativeFunction");function Wp(t,e){return Wp=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),Wp(t,e)}i(Wp,"_setPrototypeOf");function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Kp(t)}i(Kp,"_getPrototypeOf");var WQe=function(t){$Qe(r,t);var e=zQe(r);function r(n){var o,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(BQe(this,r),o=e.call(this,n),o.originalRequest=u,o.originalResponse=s,o.causingError=a,a!=null&&(n+=", caused by ".concat(a.toString())),u!=null){var l=u.getHeader("X-Request-ID")||"n/a",f=u.getMethod(),d=u.getURL(),y=s?s.getStatus():"n/a",m=s?s.getBody()||"":"n/a";n+=", originated from request (method: ".concat(f,", url: ").concat(d,", response code: ").concat(y,", response text: ").concat(m,", request id: ").concat(l,")")}return o.message=n,o}return i(r,"DetailedError"),MQe(r)}(rq(Error)),_l=WQe;var KQe=!1;function ia(t){!KQe||console.log(t)}i(ia,"log");function nq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t==="x"?e:e&3|8;return r.toString(16)})}i(nq,"uuid");function VY(t,e){return QQe(t)||JQe(t,e)||XQe(t,e)||YQe()}i(VY,"_slicedToArray");function YQe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(YQe,"_nonIterableRest");function XQe(t,e){if(!!t){if(typeof t=="string")return DY(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DY(t,e)}}i(XQe,"_unsupportedIterableToArray");function DY(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(DY,"_arrayLikeToArray");function JQe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],o=!0,a=!1,u,s;try{for(r=r.call(t);!(o=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));o=!0);}catch(l){a=!0,s=l}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw s}}return n}}i(JQe,"_iterableToArrayLimit");function QQe(t){if(Array.isArray(t))return t}i(QQe,"_arrayWithHoles");function UY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(UY,"ownKeys");function Pl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UY(Object(r),!0).forEach(function(n){ZQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Pl,"_objectSpread");function ZQe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(ZQe,"_defineProperty");function eZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(eZe,"_classCallCheck");function MY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(MY,"_defineProperties");function tZe(t,e,r){return e&&MY(t.prototype,e),r&&MY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(tZe,"_createClass");var rZe={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},KY=function(){function t(e,r){eZe(this,t),"resume"in r&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=r,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=e,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return i(t,"BaseUpload"),tZe(t,[{key:"findPreviousUploads",value:i(function(){var r=this;return this.options.fingerprint(this.file,this.options).then(function(n){return r._urlStorage.findUploadsByFingerprint(n)})},"findPreviousUploads")},{key:"resumeFromPreviousUpload",value:i(function(r){this.url=r.uploadUrl||null,this._parallelUploadUrls=r.parallelUploadUrls||null,this._urlStorageKey=r.urlStorageKey},"resumeFromPreviousUpload")},{key:"start",value:i(function(){var r=this,n=this.file;if(!n){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var o=this.options.retryDelays;if(o!=null&&Object.prototype.toString.call(o)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var a=0,u=["uploadUrl","uploadSize","uploadLengthDeferred"];a<u.length;a++){var s=u[a];if(this.options[s]){this._emitError(new Error("tus: cannot use the ".concat(s," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(n,this.options).then(function(l){return l==null?ia("No fingerprint was calculated meaning that the upload cannot be stored in the URL storage."):ia("Calculated fingerprint: ".concat(l)),r._fingerprint=l,r._source?r._source:r.options.fileReader.openFile(n,r.options.chunkSize)}).then(function(l){if(r._source=l,r.options.uploadLengthDeferred)r._size=null;else if(r.options.uploadSize!=null){if(r._size=Number(r.options.uploadSize),Number.isNaN(r._size)){r._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(r._size=r._source.size,r._size==null){r._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}r.options.parallelUploads>1||r._parallelUploadUrls!=null?r._startParallelUpload():r._startSingleUpload()}).catch(function(l){r._emitError(l)})},"start")},{key:"_startParallelUpload",value:i(function(){var r,n=this,o=this._size,a=0;this._parallelUploads=[];var u=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,s=(r=this.options.parallelUploadBoundaries)!==null&&r!==void 0?r:iZe(this._source.size,u);this._parallelUploadUrls&&s.forEach(function(d,y){d.uploadUrl=n._parallelUploadUrls[y]||null}),this._parallelUploadUrls=new Array(s.length);var l=s.map(function(d,y){var m=0;return n._source.slice(d.start,d.end).then(function(w){var _=w.value;return new Promise(function(T,R){var E=Pl(Pl({},n.options),{},{uploadUrl:d.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:Pl(Pl({},n.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:T,onError:R,onProgress:i(function(U){a=a-m+U,m=U,n._emitProgress(a,o)},"onProgress"),_onUploadUrlAvailable:i(function(){n._parallelUploadUrls[y]=A.url,n._parallelUploadUrls.filter(function(U){return Boolean(U)}).length===s.length&&n._saveUploadInUrlStorage()},"_onUploadUrlAvailable")}),A=new t(_,E);A.start(),n._parallelUploads.push(A)})})}),f;Promise.all(l).then(function(){f=n._openRequest("POST",n.options.endpoint),f.setHeader("Upload-Concat","final;".concat(n._parallelUploadUrls.join(" ")));var d=BY(n.options.metadata);return d!==""&&f.setHeader("Upload-Metadata",d),n._sendRequest(f,null)}).then(function(d){if(!El(d.getStatus(),200)){n._emitHttpError(f,d,"tus: unexpected response while creating upload");return}var y=d.getHeader("Location");if(y==null){n._emitHttpError(f,d,"tus: invalid or missing Location header");return}n.url=HY(n.options.endpoint,y),ia("Created upload at ".concat(n.url)),n._emitSuccess()}).catch(function(d){n._emitError(d)})},"_startParallelUpload")},{key:"_startSingleUpload",value:i(function(){if(this._aborted=!1,this.url!=null){ia("Resuming upload from previous URL: ".concat(this.url)),this._resumeUpload();return}if(this.options.uploadUrl!=null){ia("Resuming upload from provided URL: ".concat(this.options.uploadUrl)),this.url=this.options.uploadUrl,this._resumeUpload();return}ia("Creating a new upload"),this._createUpload()},"_startSingleUpload")},{key:"abort",value:i(function(r){var n=this;return this._parallelUploads!=null&&this._parallelUploads.forEach(function(o){o.abort(r)}),this._req!==null&&this._req.abort(),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!r||this.url==null?Promise.resolve():t.terminate(this.url,this.options).then(function(){return n._removeFromUrlStorage()})},"abort")},{key:"_emitHttpError",value:i(function(r,n,o,a){this._emitError(new _l(o,a,r,n))},"_emitHttpError")},{key:"_emitError",value:i(function(r){var n=this;if(!this._aborted){if(this.options.retryDelays!=null){var o=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(o&&(this._retryAttempt=0),GY(r,this._retryAttempt,this.options)){var a=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){n.start()},a);return}}if(typeof this.options.onError=="function")this.options.onError(r);else throw r}},"_emitError")},{key:"_emitSuccess",value:i(function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()},"_emitSuccess")},{key:"_emitProgress",value:i(function(r,n){typeof this.options.onProgress=="function"&&this.options.onProgress(r,n)},"_emitProgress")},{key:"_emitChunkComplete",value:i(function(r,n,o){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(r,n,o)},"_emitChunkComplete")},{key:"_createUpload",value:i(function(){var r=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var n=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?n.setHeader("Upload-Defer-Length",1):n.setHeader("Upload-Length",this._size);var o=BY(this.options.metadata);o!==""&&n.setHeader("Upload-Metadata",o);var a;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,a=this._addChunkToRequest(n)):a=this._sendRequest(n,null),a.then(function(u){if(!El(u.getStatus(),200)){r._emitHttpError(n,u,"tus: unexpected response while creating upload");return}var s=u.getHeader("Location");if(s==null){r._emitHttpError(n,u,"tus: invalid or missing Location header");return}if(r.url=HY(r.options.endpoint,s),ia("Created upload at ".concat(r.url)),typeof r.options._onUploadUrlAvailable=="function"&&r.options._onUploadUrlAvailable(),r._size===0){r._emitSuccess(),r._source.close();return}r._saveUploadInUrlStorage().then(function(){r.options.uploadDataDuringCreation?r._handleUploadResponse(n,u):(r._offset=0,r._performUpload())})}).catch(function(u){r._emitHttpError(n,null,"tus: failed to create upload",u)})},"_createUpload")},{key:"_resumeUpload",value:i(function(){var r=this,n=this._openRequest("HEAD",this.url),o=this._sendRequest(n,null);o.then(function(a){var u=a.getStatus();if(!El(u,200)){if(u===423){r._emitHttpError(n,a,"tus: upload is currently locked; retry later");return}if(El(u,400)&&r._removeFromUrlStorage(),!r.options.endpoint){r._emitHttpError(n,a,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}r.url=null,r._createUpload();return}var s=parseInt(a.getHeader("Upload-Offset"),10);if(Number.isNaN(s)){r._emitHttpError(n,a,"tus: invalid or missing offset value");return}var l=parseInt(a.getHeader("Upload-Length"),10);if(Number.isNaN(l)&&!r.options.uploadLengthDeferred){r._emitHttpError(n,a,"tus: invalid or missing length value");return}typeof r.options._onUploadUrlAvailable=="function"&&r.options._onUploadUrlAvailable(),r._saveUploadInUrlStorage().then(function(){if(s===l){r._emitProgress(l,l),r._emitSuccess();return}r._offset=s,r._performUpload()})}).catch(function(a){r._emitHttpError(n,null,"tus: failed to resume upload",a)})},"_resumeUpload")},{key:"_performUpload",value:i(function(){var r=this;if(!this._aborted){var n;this.options.overridePatchMethod?(n=this._openRequest("POST",this.url),n.setHeader("X-HTTP-Method-Override","PATCH")):n=this._openRequest("PATCH",this.url),n.setHeader("Upload-Offset",this._offset);var o=this._addChunkToRequest(n);o.then(function(a){if(!El(a.getStatus(),200)){r._emitHttpError(n,a,"tus: unexpected response while uploading chunk");return}r._handleUploadResponse(n,a)}).catch(function(a){r._aborted||r._emitHttpError(n,null,"tus: failed to upload chunk at offset ".concat(r._offset),a)})}},"_performUpload")},{key:"_addChunkToRequest",value:i(function(r){var n=this,o=this._offset,a=this._offset+this.options.chunkSize;return r.setProgressHandler(function(u){n._emitProgress(o+u,n._size)}),r.setHeader("Content-Type","application/offset+octet-stream"),(a===1/0||a>this._size)&&!this.options.uploadLengthDeferred&&(a=this._size),this._source.slice(o,a).then(function(u){var s=u.value,l=u.done;return n.options.uploadLengthDeferred&&l&&(n._size=n._offset+(s&&s.size?s.size:0),r.setHeader("Upload-Length",n._size)),s===null?n._sendRequest(r):(n._emitProgress(n._offset,n._size),n._sendRequest(r,s))})},"_addChunkToRequest")},{key:"_handleUploadResponse",value:i(function(r,n){var o=parseInt(n.getHeader("Upload-Offset"),10);if(Number.isNaN(o)){this._emitHttpError(r,n,"tus: invalid or missing offset value");return}if(this._emitProgress(o,this._size),this._emitChunkComplete(o-this._offset,o,this._size),this._offset=o,o===this._size){this._emitSuccess(),this._source.close();return}this._performUpload()},"_handleUploadResponse")},{key:"_openRequest",value:i(function(r,n){var o=$Y(r,n,this.options);return this._req=o,o},"_openRequest")},{key:"_removeFromUrlStorage",value:i(function(){var r=this;!this._urlStorageKey||(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(n){r._emitError(n)}),this._urlStorageKey=null)},"_removeFromUrlStorage")},{key:"_saveUploadInUrlStorage",value:i(function(){var r=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||this._urlStorageKey!==null)return Promise.resolve();var n={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?n.parallelUploadUrls=this._parallelUploadUrls:n.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,n).then(function(o){r._urlStorageKey=o})},"_saveUploadInUrlStorage")},{key:"_sendRequest",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return zY(r,n,this.options)},"_sendRequest")}],[{key:"terminate",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=$Y("DELETE",r,n);return zY(o,null,n).then(function(a){if(a.getStatus()!==204)throw new _l("tus: unexpected response while terminating upload",null,o,a)}).catch(function(a){if(a instanceof _l||(a=new _l("tus: failed to terminate upload",a,o,null)),!GY(a,0,n))throw a;var u=n.retryDelays[0],s=n.retryDelays.slice(1),l=Pl(Pl({},n),{},{retryDelays:s});return new Promise(function(f){return setTimeout(f,u)}).then(function(){return t.terminate(r,l)})})},"terminate")}]),t}();function BY(t){return Object.entries(t).map(function(e){var r=VY(e,2),n=r[0],o=r[1];return"".concat(n," ").concat(SY.encode(String(o)))}).join(",")}i(BY,"encodeMetadata");function El(t,e){return t>=e&&t<e+100}i(El,"inStatusCategory");function $Y(t,e,r){var n=r.httpStack.createRequest(t,e);n.setHeader("Tus-Resumable","1.0.0");var o=r.headers||{};if(Object.entries(o).forEach(function(u){var s=VY(u,2),l=s[0],f=s[1];n.setHeader(l,f)}),r.addRequestId){var a=nq();n.setHeader("X-Request-ID",a)}return n}i($Y,"openRequest");function zY(t,e,r){var n=typeof r.onBeforeRequest=="function"?Promise.resolve(r.onBeforeRequest(t)):Promise.resolve();return n.then(function(){return t.send(e).then(function(o){var a=typeof r.onAfterResponse=="function"?Promise.resolve(r.onAfterResponse(t,o)):Promise.resolve();return a.then(function(){return o})})})}i(zY,"sendRequest");function nZe(){var t=!0;return typeof window!="undefined"&&"navigator"in window&&window.navigator.onLine===!1&&(t=!1),t}i(nZe,"isOnline");function GY(t,e,r){if(r.retryDelays==null||e>=r.retryDelays.length||t.originalRequest==null)return!1;if(r&&typeof r.onShouldRetry=="function")return r.onShouldRetry(t,e,r);var n=t.originalResponse?t.originalResponse.getStatus():0;return(!El(n,400)||n===409||n===423)&&nZe()}i(GY,"shouldRetry");function HY(t,e){return new WY.default(e,t).toString()}i(HY,"resolveUrl");function iZe(t,e){for(var r=Math.floor(t/e),n=[],o=0;o<e;o++)n.push({start:r*o,end:r*(o+1)});return n[e-1].end=t,n}i(iZe,"splitSizeIntoParts");KY.defaultOptions=rZe;var sb=KY;function oZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(oZe,"_classCallCheck");function YY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(YY,"_defineProperties");function aZe(t,e,r){return e&&YY(t.prototype,e),r&&YY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(aZe,"_createClass");var XY=function(){function t(){oZe(this,t)}return i(t,"NoopUrlStorage"),aZe(t,[{key:"listAllUploads",value:i(function(){return Promise.resolve([])},"listAllUploads")},{key:"findUploadsByFingerprint",value:i(function(r){return Promise.resolve([])},"findUploadsByFingerprint")},{key:"removeUpload",value:i(function(r){return Promise.resolve()},"removeUpload")},{key:"addUpload",value:i(function(r,n){return Promise.resolve(null)},"addUpload")}]),t}();function uZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(uZe,"_classCallCheck");function JY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(JY,"_defineProperties");function sZe(t,e,r){return e&&JY(t.prototype,e),r&&JY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(sZe,"_createClass");var oq=!1;try{oq="localStorage"in window,iq="tusSupport",localStorage.setItem(iq,localStorage.getItem(iq))}catch(t){if(t.code===t.SECURITY_ERR||t.code===t.QUOTA_EXCEEDED_ERR)oq=!1;else throw t}var iq,QY=oq,ZY=function(){function t(){uZe(this,t)}return i(t,"WebStorageUrlStorage"),sZe(t,[{key:"findAllUploads",value:i(function(){var r=this._findEntries("tus::");return Promise.resolve(r)},"findAllUploads")},{key:"findUploadsByFingerprint",value:i(function(r){var n=this._findEntries("tus::".concat(r,"::"));return Promise.resolve(n)},"findUploadsByFingerprint")},{key:"removeUpload",value:i(function(r){return localStorage.removeItem(r),Promise.resolve()},"removeUpload")},{key:"addUpload",value:i(function(r,n){var o=Math.round(Math.random()*1e12),a="tus::".concat(r,"::").concat(o);return localStorage.setItem(a,JSON.stringify(n)),Promise.resolve(a)},"addUpload")},{key:"_findEntries",value:i(function(r){for(var n=[],o=0;o<localStorage.length;o++){var a=localStorage.key(o);if(a.indexOf(r)===0)try{var u=JSON.parse(localStorage.getItem(a));u.urlStorageKey=a,n.push(u)}catch(s){}}return n},"_findEntries")}]),t}();function aq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(aq,"_classCallCheck");function eX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(eX,"_defineProperties");function uq(t,e,r){return e&&eX(t.prototype,e),r&&eX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(uq,"_createClass");var tX=function(){function t(){aq(this,t)}return i(t,"XHRHttpStack"),uq(t,[{key:"createRequest",value:i(function(r,n){return new lZe(r,n)},"createRequest")},{key:"getName",value:i(function(){return"XHRHttpStack"},"getName")}]),t}();var lZe=function(){function t(e,r){aq(this,t),this._xhr=new XMLHttpRequest,this._xhr.open(e,r,!0),this._method=e,this._url=r,this._headers={}}return i(t,"Request"),uq(t,[{key:"getMethod",value:i(function(){return this._method},"getMethod")},{key:"getURL",value:i(function(){return this._url},"getURL")},{key:"setHeader",value:i(function(r,n){this._xhr.setRequestHeader(r,n),this._headers[r]=n},"setHeader")},{key:"getHeader",value:i(function(r){return this._headers[r]},"getHeader")},{key:"setProgressHandler",value:i(function(r){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(n){!n.lengthComputable||r(n.loaded)})},"setProgressHandler")},{key:"send",value:i(function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(o,a){r._xhr.onload=function(){o(new cZe(r._xhr))},r._xhr.onerror=function(u){a(u)},r._xhr.send(n)})},"send")},{key:"abort",value:i(function(){return this._xhr.abort(),Promise.resolve()},"abort")},{key:"getUnderlyingObject",value:i(function(){return this._xhr},"getUnderlyingObject")}]),t}(),cZe=function(){function t(e){aq(this,t),this._xhr=e}return i(t,"Response"),uq(t,[{key:"getStatus",value:i(function(){return this._xhr.status},"getStatus")},{key:"getHeader",value:i(function(r){return this._xhr.getResponseHeader(r)},"getHeader")},{key:"getBody",value:i(function(){return this._xhr.responseText},"getBody")},{key:"getUnderlyingObject",value:i(function(){return this._xhr},"getUnderlyingObject")}]),t}();var fZe=i(function(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"},"isReactNative"),lb=fZe;function sq(t){return new Promise(function(e,r){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var o=n.response;e(o)},n.onerror=function(o){r(o)},n.open("GET",t),n.send()})}i(sq,"uriToBlob");var pZe=i(function(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")},"isCordova"),rX=pZe;function lq(t){return new Promise(function(e,r){var n=new FileReader;n.onload=function(){var o=new Uint8Array(n.result);e({value:o})},n.onerror=function(o){r(o)},n.readAsArrayBuffer(t)})}i(lq,"readAsByteArray");function dZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(dZe,"_classCallCheck");function nX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(nX,"_defineProperties");function hZe(t,e,r){return e&&nX(t.prototype,e),r&&nX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(hZe,"_createClass");var cq=function(){function t(e){dZe(this,t),this._file=e,this.size=e.size}return i(t,"FileSource"),hZe(t,[{key:"slice",value:i(function(r,n){if(rX())return lq(this._file.slice(r,n));var o=this._file.slice(r,n);return Promise.resolve({value:o})},"slice")},{key:"close",value:i(function(){},"close")}]),t}();function vZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(vZe,"_classCallCheck");function iX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(iX,"_defineProperties");function yZe(t,e,r){return e&&iX(t.prototype,e),r&&iX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(yZe,"_createClass");function oX(t){return t===void 0?0:t.size!==void 0?t.size:t.length}i(oX,"len");function mZe(t,e){if(t.concat)return t.concat(e);if(t instanceof Blob)return new Blob([t,e],{type:t.type});if(t.set){var r=new t.constructor(t.length+e.length);return r.set(t),r.set(e,t.length),r}throw new Error("Unknown data type")}i(mZe,"concat");var aX=function(){function t(e){vZe(this,t),this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return i(t,"StreamSource"),yZe(t,[{key:"slice",value:i(function(r,n){return r<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(r,n)},"slice")},{key:"_readUntilEnoughDataOrDone",value:i(function(r,n){var o=this,a=n<=this._bufferOffset+oX(this._buffer);if(this._done||a){var u=this._getDataFromBuffer(r,n),s=u==null?this._done:!1;return Promise.resolve({value:u,done:s})}return this._reader.read().then(function(l){var f=l.value,d=l.done;return d?o._done=!0:o._buffer===void 0?o._buffer=f:o._buffer=mZe(o._buffer,f),o._readUntilEnoughDataOrDone(r,n)})},"_readUntilEnoughDataOrDone")},{key:"_getDataFromBuffer",value:i(function(r,n){r>this._bufferOffset&&(this._buffer=this._buffer.slice(r-this._bufferOffset),this._bufferOffset=r);var o=oX(this._buffer)===0;return this._done&&o?null:this._buffer.slice(0,n-r)},"_getDataFromBuffer")},{key:"close",value:i(function(){this._reader.cancel&&this._reader.cancel()},"close")}]),t}();function gZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(gZe,"_classCallCheck");function uX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(uX,"_defineProperties");function bZe(t,e,r){return e&&uX(t.prototype,e),r&&uX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(bZe,"_createClass");var sX=function(){function t(){gZe(this,t)}return i(t,"FileReader"),bZe(t,[{key:"openFile",value:i(function(r,n){return lb()&&r&&typeof r.uri!="undefined"?sq(r.uri).then(function(o){return new cq(o)}).catch(function(o){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(o))}):typeof r.slice=="function"&&typeof r.size!="undefined"?Promise.resolve(new cq(r)):typeof r.read=="function"?(n=Number(n),Number.isFinite(n)?Promise.resolve(new aX(r,n)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))},"openFile")}]),t}();function fq(t,e){return lb()?Promise.resolve(wZe(t,e)):Promise.resolve(["tus-br",t.name,t.type,t.size,t.lastModified,e.endpoint].join("-"))}i(fq,"fingerprint");function wZe(t,e){var r=t.exif?OZe(JSON.stringify(t.exif)):"noexif";return["tus-rn",t.name||"noname",t.size||"nosize",r,e.endpoint].join("/")}i(wZe,"reactNativeFingerprint");function OZe(t){var e=0;if(t.length===0)return e;for(var r=0;r<t.length;r++){var n=t.charCodeAt(r);e=(e<<5)-e+n,e&=e}return e}i(OZe,"hashCode");function pq(t){return pq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pq(t)}i(pq,"_typeof");function SZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(SZe,"_classCallCheck");function lX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(lX,"_defineProperties");function _Ze(t,e,r){return e&&lX(t.prototype,e),r&&lX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(_Ze,"_createClass");function PZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dq(t,e)}i(PZe,"_inherits");function dq(t,e){return dq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),dq(t,e)}i(dq,"_setPrototypeOf");function EZe(t){var e=AZe();return i(function(){var n=cb(t),o;if(e){var a=cb(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return RZe(this,o)},"_createSuperInternal")}i(EZe,"_createSuper");function RZe(t,e){if(e&&(pq(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TZe(t)}i(RZe,"_possibleConstructorReturn");function TZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(TZe,"_assertThisInitialized");function AZe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(AZe,"_isNativeReflectConstruct");function cb(t){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),cb(t)}i(cb,"_getPrototypeOf");function cX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(cX,"ownKeys");function Rl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cX(Object(r),!0).forEach(function(n){IZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Rl,"_objectSpread");function IZe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(IZe,"_defineProperty");var fb=Rl(Rl({},sb.defaultOptions),{},{httpStack:new tX,fileReader:new sX,urlStorage:QY?new ZY:new XY,fingerprint:fq}),pX=function(t){PZe(r,t);var e=EZe(r);function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return SZe(this,r),o=Rl(Rl({},fb),o),e.call(this,n,o)}return i(r,"Upload"),_Ze(r,null,[{key:"terminate",value:i(function(o,a,u){return a=Rl(Rl({},fb),a),sb.terminate(o,a,u)},"terminate")}]),r}(sb),dX=window,qZe=dX.XMLHttpRequest,fX=dX.Blob,P0t=qZe&&fX&&typeof fX.prototype.slice=="function";function Yp(t){var e=[],r=[];function n(u){e.push(u)}i(n,"resolved");function o(u){r.push(u)}i(o,"rejected");var a=Promise.all(t.map(function(u){return u.then(n,o)}));return a.then(function(){return{successful:e,failed:r}})}i(Yp,"settle");function kZe(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")}i(kZe,"isCordova");function xZe(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"}i(xZe,"isReactNative");function hq(t){return function(e,r){if(kZe()||xZe())return fb.fingerprint(e,r);var n=["tus",t.id,r.endpoint].join("-");return Promise.resolve(n)}}i(hq,"getFingerprint");function pb(t){return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pb(t)}i(pb,"_typeof");function Zp(){"use strict";Zp=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&pb(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(Zp,"_regeneratorRuntime");function vX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(vX,"ownKeys");function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vX(Object(r),!0).forEach(function(n){CZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(xt,"_objectSpread");function CZe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(CZe,"_defineProperty");function yX(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(yX,"asyncGeneratorStep");function mX(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){yX(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){yX(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(mX,"_asyncToGenerator");function FZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(FZe,"_classCallCheck");function gX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(gX,"_defineProperties");function LZe(t,e,r){return e&&gX(t.prototype,e),r&&gX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(LZe,"_createClass");function jZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yq(t,e)}i(jZe,"_inherits");function yq(t,e){return yq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),yq(t,e)}i(yq,"_setPrototypeOf");function NZe(t){var e=UZe();return i(function(){var n=db(t),o;if(e){var a=db(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return DZe(this,o)},"_createSuperInternal")}i(NZe,"_createSuper");function DZe(t,e){if(e&&(pb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return no(t)}i(DZe,"_possibleConstructorReturn");function no(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(no,"_assertThisInitialized");function UZe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(UZe,"_isNativeReflectConstruct");function db(t){return db=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),db(t)}i(db,"_getPrototypeOf");function Xp(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Xp,"_classPrivateFieldLooseBase");var MZe=0;function mq(t){return"__private_"+MZe+++"_"+t}i(mq,"_classPrivateFieldLooseKey");var BZe={version:"3.0.0-beta.3"},bX={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1},Jp=mq("retryDelayIterator"),Qp=mq("queueRequestSocketToken"),vq=mq("requestSocketToken"),Tl=function(t){jZe(r,t);var e=NZe(r);function r(n,o){var a;FZe(this,r);var u,s;a=e.call(this,n,o),Object.defineProperty(no(a),Jp,{writable:!0,value:void 0}),Object.defineProperty(no(a),Qp,{writable:!0,value:void 0}),Object.defineProperty(no(a),vq,{writable:!0,value:function(){var f=mX(Zp().mark(i(function y(m){var w,_,T,R;return Zp().wrap(i(function(A){for(;;)switch(A.prev=A.next){case 0:return w=m.remote.providerOptions.provider?Me:pt,_=new w(a.uppy,m.remote.providerOptions),T=xt({},a.opts),m.tus&&Object.assign(T,m.tus),A.next=6,_.post(m.remote.url,xt(xt({},m.remote.body),{},{endpoint:T.endpoint,uploadUrl:T.uploadUrl,protocol:"tus",size:m.data.size,headers:T.headers,metadata:m.meta}));case 6:return R=A.sent,A.abrupt("return",R.token);case 8:case"end":return A.stop()}},"_callee$"),y)},"_callee")));function d(y){return f.apply(this,arguments)}return i(d,"value"),d}()}),a.type="uploader",a.id=a.opts.id||"Tus",a.title="Tus";var l={useFastRemoteRetry:!0,limit:20,retryDelays:bX.retryDelays,withCredentials:!1};if(a.opts=xt(xt({},l),o),"autoRetry"in o)throw new Error("The `autoRetry` option was deprecated and has been removed.");return a.requests=(u=a.opts.rateLimitedQueue)!=null?u:new sn(a.opts.limit),Xp(no(a),Jp)[Jp]=(s=a.opts.retryDelays)==null?void 0:s.values(),a.uploaders=Object.create(null),a.uploaderEvents=Object.create(null),a.uploaderSockets=Object.create(null),a.handleResetProgress=a.handleResetProgress.bind(no(a)),a.handleUpload=a.handleUpload.bind(no(a)),Xp(no(a),Qp)[Qp]=a.requests.wrapPromiseFunction(Xp(no(a),vq)[vq]),a}return i(r,"Tus"),LZe(r,[{key:"handleResetProgress",value:i(function(){var o=xt({},this.uppy.getState().files);Object.keys(o).forEach(function(a){if(o[a].tus&&o[a].tus.uploadUrl){var u=xt({},o[a].tus);delete u.uploadUrl,o[a]=xt(xt({},o[a]),{},{tus:u})}}),this.uppy.setState({files:o})},"handleResetProgress")},{key:"resetUploaderReferences",value:i(function(o,a){if(a===void 0&&(a={}),this.uploaders[o]){var u=this.uploaders[o];u.abort(),a.abort&&u.abort(!0),this.uploaders[o]=null}this.uploaderEvents[o]&&(this.uploaderEvents[o].remove(),this.uploaderEvents[o]=null),this.uploaderSockets[o]&&(this.uploaderSockets[o].close(),this.uploaderSockets[o]=null)},"resetUploaderReferences")},{key:"upload",value:i(function(o){var a=this,u=this;return this.resetUploaderReferences(o.id),new Promise(function(s,l){var f,d,y;a.uppy.emit("upload-started",o);var m=xt(xt({},a.opts),o.tus||{});typeof m.headers=="function"&&(m.headers=m.headers(o));var w=xt(xt({},bX),m);w.fingerprint=hq(o),w.onBeforeRequest=function(A){var k=A.getUnderlyingObject();k.withCredentials=!!m.withCredentials;var U;if(typeof m.onBeforeRequest=="function"&&(U=m.onBeforeRequest(A,o)),jr(f,"shouldBeRequeued")){if(!f.shouldBeRequeued)return Promise.reject();var G,M=new Promise(function(z){G=z});return f=a.requests.run(function(){return o.isPaused&&f.abort(),G(),function(){}}),Promise.all([M,U])}return U},w.onError=function(A){a.uppy.log(A);var k=A.originalRequest?A.originalRequest.getUnderlyingObject():null;Pu(k)&&(A=new Tn(A,k)),a.resetUploaderReferences(o.id),f.abort(),a.uppy.emit("upload-error",o,A),l(A)},w.onProgress=function(A,k){a.onReceiveUploadUrl(o,y.url),a.uppy.emit("upload-progress",o,{uploader:a,bytesUploaded:A,bytesTotal:k})},w.onSuccess=function(){var A={uploadURL:y.url};a.resetUploaderReferences(o.id),f.done(),a.uppy.emit("upload-success",o,A),y.url&&a.uppy.log("Download ".concat(y.file.name," from ").concat(y.url)),s(y)};var _=i(function(k){var U,G=k==null||(U=k.originalResponse)==null?void 0:U.getStatus();if(G===429){if(!a.requests.isPaused){var M,z=(M=Xp(a,Jp)[Jp])==null?void 0:M.next();if(z==null||z.done)return!1;a.requests.rateLimit(z.value)}}else{if(G>400&&G<500&&G!==409)return!1;typeof navigator!="undefined"&&navigator.onLine===!1&&(a.requests.isPaused||(a.requests.pause(),window.addEventListener("online",function(){a.requests.resume()},{once:!0})))}return f.abort(),f={shouldBeRequeued:!0,abort:i(function(){this.shouldBeRequeued=!1},"abort"),done:i(function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},"done"),fn:i(function(){throw new Error("Cannot run a queued request: this indicates a bug")},"fn")},!0},"defaultOnShouldRetry");m.onShouldRetry!=null?w.onShouldRetry=function(){for(var A=arguments.length,k=new Array(A),U=0;U<A;U++)k[U]=arguments[U];return m.onShouldRetry.apply(m,k.concat([_]))}:w.onShouldRetry=_;var T=i(function(k,U,G){jr(k,U)&&!jr(k,G)&&(k[G]=k[U])},"copyProp"),R={},E=Array.isArray(m.metaFields)?m.metaFields:Object.keys(o.meta);E.forEach(function(A){R[A]=o.meta[A]}),T(R,"type","filetype"),T(R,"name","filename"),w.metadata=R,y=new pX(o.data,w),a.uploaders[o.id]=y,a.uploaderEvents[o.id]=new ln(a.uppy),d=i(function(){return o.isPaused||y.start(),function(){}},"qRequest"),y.findPreviousUploads().then(function(A){var k=A[0];k&&(a.uppy.log("[Tus] Resuming upload of ".concat(o.id," started at ").concat(k.creationTime)),y.resumeFromPreviousUpload(k))}),f=a.requests.run(d),a.onFileRemove(o.id,function(A){f.abort(),a.resetUploaderReferences(o.id,{abort:!!y.url}),s("upload ".concat(A," was removed"))}),a.onPause(o.id,function(A){f.abort(),A?y.abort():f=a.requests.run(d)}),a.onPauseAll(o.id,function(){f.abort(),y.abort()}),a.onCancelAll(o.id,function(A){var k=A===void 0?{}:A,U=k.reason;U==="user"&&(f.abort(),u.resetUploaderReferences(o.id,{abort:!!y.url})),s("upload ".concat(o.id," was canceled"))}),a.onResumeAll(o.id,function(){f.abort(),o.error&&y.abort(),f=a.requests.run(d)})}).catch(function(s){throw a.uppy.emit("upload-error",o,s),s})},"upload")},{key:"uploadRemote",value:function(){var n=mX(Zp().mark(i(function a(u){var s;return Zp().wrap(i(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.resetUploaderReferences(u.id),(!u.progress.uploadStarted||!u.isRestored)&&this.uppy.emit("upload-started",u),f.prev=2,!u.serverToken){f.next=5;break}return f.abrupt("return",this.connectToServerSocket(u));case 5:return f.next=7,Xp(this,Qp)[Qp](u);case 7:return s=f.sent,this.uppy.setFileState(u.id,{serverToken:s}),f.abrupt("return",this.connectToServerSocket(this.uppy.getFile(u.id)));case 12:throw f.prev=12,f.t0=f.catch(2),this.uppy.emit("upload-error",u,f.t0),f.t0;case 16:case"end":return f.stop()}},"_callee2$"),a,this,[[2,12]])},"_callee2")));function o(a){return n.apply(this,arguments)}return i(o,"uploadRemote"),o}()},{key:"connectToServerSocket",value:i(function(o){var a=this,u=this;return new Promise(function(s,l){var f=o.serverToken,d=Zi(o.remote.companionUrl),y=new ii({target:"".concat(d,"/api/").concat(f)});a.uploaderSockets[o.id]=y,a.uploaderEvents[o.id]=new ln(a.uppy);var m;a.onFileRemove(o.id,function(){m.abort(),y.send("cancel",{}),a.resetUploaderReferences(o.id),s("upload ".concat(o.id," was removed"))}),a.onPause(o.id,function(w){w?(m.abort(),y.send("pause",{})):(m.abort(),m=a.requests.run(function(){return y.send("resume",{}),function(){}}))}),a.onPauseAll(o.id,function(){m.abort(),y.send("pause",{})}),a.onCancelAll(o.id,function(w){var _=w===void 0?{}:w,T=_.reason;T==="user"&&(m.abort(),y.send("cancel",{}),u.resetUploaderReferences(o.id)),s("upload ".concat(o.id," was canceled"))}),a.onResumeAll(o.id,function(){m.abort(),o.error&&y.send("pause",{}),m=a.requests.run(function(){return y.send("resume",{}),function(){}})}),a.onRetry(o.id,function(){y.isOpen&&(y.send("pause",{}),y.send("resume",{}))}),a.onRetryAll(o.id,function(){y.isOpen&&(y.send("pause",{}),y.send("resume",{}))}),y.on("progress",function(w){return na(a,w,o)}),y.on("error",function(w){var _=w.error.message,T=Object.assign(new Error(_),{cause:w.error});a.opts.useFastRemoteRetry?y.close():(a.resetUploaderReferences(o.id),a.uppy.setFileState(o.id,{serverToken:null})),a.uppy.emit("upload-error",o,T),m.done(),l(T)}),y.on("success",function(w){var _={uploadURL:w.url};a.uppy.emit("upload-success",o,_),a.resetUploaderReferences(o.id),m.done(),s()}),m=a.requests.run(function(){return o.isPaused&&y.send("pause",{}),function(){}})})},"connectToServerSocket")},{key:"onReceiveUploadUrl",value:i(function(o,a){var u=this.uppy.getFile(o.id);!u||(!u.tus||u.tus.uploadUrl!==a)&&(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(u.id,{tus:xt(xt({},u.tus),{},{uploadUrl:a})}))},"onReceiveUploadUrl")},{key:"onFileRemove",value:i(function(o,a){this.uploaderEvents[o].on("file-removed",function(u){o===u.id&&a(u.id)})},"onFileRemove")},{key:"onPause",value:i(function(o,a){this.uploaderEvents[o].on("upload-pause",function(u,s){o===u&&a(s)})},"onPause")},{key:"onRetry",value:i(function(o,a){this.uploaderEvents[o].on("upload-retry",function(u){o===u&&a()})},"onRetry")},{key:"onRetryAll",value:i(function(o,a){var u=this;this.uploaderEvents[o].on("retry-all",function(){!u.uppy.getFile(o)||a()})},"onRetryAll")},{key:"onPauseAll",value:i(function(o,a){var u=this;this.uploaderEvents[o].on("pause-all",function(){!u.uppy.getFile(o)||a()})},"onPauseAll")},{key:"onCancelAll",value:i(function(o,a){var u=this;this.uploaderEvents[o].on("cancel-all",function(){!u.uppy.getFile(o)||a.apply(void 0,arguments)})},"onCancelAll")},{key:"onResumeAll",value:i(function(o,a){var u=this;this.uploaderEvents[o].on("resume-all",function(){!u.uppy.getFile(o)||a()})},"onResumeAll")},{key:"uploadFiles",value:i(function(o){var a=this,u=o.map(function(s,l){var f=l+1,d=o.length;return"error"in s&&s.error?Promise.reject(new Error(s.error)):s.isRemote?((!s.progress.uploadStarted||!s.isRestored)&&a.uppy.emit("upload-started",s),a.uploadRemote(s,f,d)):((!s.progress.uploadStarted||!s.isRestored)&&a.uppy.emit("upload-started",s),a.upload(s,f,d))});return Yp(u)},"uploadFiles")},{key:"handleUpload",value:i(function(o){var a=this;if(o.length===0)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();this.opts.limit===0&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");var u=o.map(function(s){return a.uppy.getFile(s)});return this.uploadFiles(u).then(function(){return null})},"handleUpload")},{key:"install",value:i(function(){this.uppy.setState({capabilities:xt(xt({},this.uppy.getState().capabilities),{},{resumableUploads:!0})}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress)},"install")},{key:"uninstall",value:i(function(){this.uppy.setState({capabilities:xt(xt({},this.uppy.getState().capabilities),{},{resumableUploads:!1})}),this.uppy.removeUploader(this.handleUpload)},"uninstall")}]),r}(st);Tl.VERSION=BZe.version;var bJ=Re(bq(),1);var Nn=Object.create(null);Nn.open="0";Nn.close="1";Nn.ping="2";Nn.pong="3";Nn.message="4";Nn.upgrade="5";Nn.noop="6";var ed=Object.create(null);Object.keys(Nn).forEach(function(t){ed[Nn[t]]=t});var wX={type:"error",data:"parser error"};var zZe=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",GZe=typeof ArrayBuffer=="function",HZe=i(function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},"isView"),VZe=i(function(e,r,n){var o=e.type,a=e.data;return zZe&&a instanceof Blob?r?n(a):OX(a,n):GZe&&(a instanceof ArrayBuffer||HZe(a))?r?n(a):OX(new Blob([a]),n):n(Nn[o]+(a||""))},"encodePacket"),OX=i(function(e,r){var n=new FileReader;return n.onload=function(){var o=n.result.split(",")[1];r("b"+o)},n.readAsDataURL(e)},"encodeBlobAsBase64"),hb=VZe;var SX="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rd=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(td=0;td<SX.length;td++)rd[SX.charCodeAt(td)]=td;var td;var _X=i(function(e){var r=e.length*.75,n=e.length,o,a=0,u,s,l,f;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var d=new ArrayBuffer(r),y=new Uint8Array(d);for(o=0;o<n;o+=4)u=rd[e.charCodeAt(o)],s=rd[e.charCodeAt(o+1)],l=rd[e.charCodeAt(o+2)],f=rd[e.charCodeAt(o+3)],y[a++]=u<<2|s>>4,y[a++]=(s&15)<<4|l>>2,y[a++]=(l&3)<<6|f&63;return d},"decode");var WZe=typeof ArrayBuffer=="function",KZe=i(function(e,r){if(typeof e!="string")return{type:"message",data:PX(e,r)};var n=e.charAt(0);if(n==="b")return{type:"message",data:YZe(e.substring(1),r)};var o=ed[n];return o?e.length>1?{type:ed[n],data:e.substring(1)}:{type:ed[n]}:wX},"decodePacket"),YZe=i(function(e,r){if(WZe){var n=_X(e);return PX(n,r)}else return{base64:!0,data:e}},"decodeBase64Packet"),PX=i(function(e,r){switch(r){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},"mapBinary"),vb=KZe;var EX=String.fromCharCode(30),RX=i(function(e,r){var n=e.length,o=new Array(n),a=0;e.forEach(function(u,s){hb(u,!1,function(l){o[s]=l,++a===n&&r(o.join(EX))})})},"encodePayload"),TX=i(function(e,r){for(var n=e.split(EX),o=[],a=0;a<n.length;a++){var u=vb(n[a],r);if(o.push(u),u.type==="error")break}return o},"decodePayload"),wq=4;function Je(t){if(t)return XZe(t)}i(Je,"Emitter");function XZe(t){for(var e in Je.prototype)t[e]=Je.prototype[e];return t}i(XZe,"mixin");Je.prototype.on=Je.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Je.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return i(r,"on"),r.fn=e,this.on(t,r),this};Je.prototype.off=Je.prototype.removeListener=Je.prototype.removeAllListeners=Je.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Je.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,e)}return this};Je.prototype.emitReserved=Je.prototype.emit;Je.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Je.prototype.hasListeners=function(t){return!!this.listeners(t).length};var pn=function(){return typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")()}();function yb(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce(function(o,a){return t.hasOwnProperty(a)&&(o[a]=t[a]),o},{})}i(yb,"pick");var JZe=setTimeout,QZe=clearTimeout;function io(t,e){e.useNativeTimers?(t.setTimeoutFn=JZe.bind(pn),t.clearTimeoutFn=QZe.bind(pn)):(t.setTimeoutFn=setTimeout.bind(pn),t.clearTimeoutFn=clearTimeout.bind(pn))}i(io,"installTimerFunctions");var ZZe=1.33;function AX(t){return typeof t=="string"?eet(t):Math.ceil((t.byteLength||t.size)*ZZe)}i(AX,"byteLength");function eet(t){for(var e=0,r=0,n=0,o=t.length;n<o;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}i(eet,"utf8Length");function Oq(t){return Oq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oq(t)}i(Oq,"_typeof");function xu(){return typeof Reflect!="undefined"&&Reflect.get?xu=Reflect.get.bind():xu=i(function(e,r,n){var o=tet(e,r);if(!!o){var a=Object.getOwnPropertyDescriptor(o,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},"_get"),xu.apply(this,arguments)}i(xu,"_get");function tet(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=hi(t),t!==null););return t}i(tet,"_superPropBase");function IX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(IX,"_defineProperties");function qX(t,e,r){return e&&IX(t.prototype,e),r&&IX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(qX,"_createClass");function kX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(kX,"_classCallCheck");function xX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nd(t,e)}i(xX,"_inherits");function CX(t){var e=LX();return i(function(){var n=hi(t),o;if(e){var a=hi(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return ret(this,o)},"_createSuperInternal")}i(CX,"_createSuper");function ret(t,e){if(e&&(Oq(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FX(t)}i(ret,"_possibleConstructorReturn");function FX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(FX,"_assertThisInitialized");function Sq(t){var e=typeof Map=="function"?new Map:void 0;return Sq=i(function(n){if(n===null||!net(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return mb(n,arguments,hi(this).constructor)}return i(o,"Wrapper"),o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),nd(o,n)},"_wrapNativeSuper"),Sq(t)}i(Sq,"_wrapNativeSuper");function mb(t,e,r){return LX()?mb=Reflect.construct.bind():mb=i(function(o,a,u){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(o,s),f=new l;return u&&nd(f,u.prototype),f},"_construct"),mb.apply(null,arguments)}i(mb,"_construct");function LX(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(LX,"_isNativeReflectConstruct");function net(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(net,"_isNativeFunction");function nd(t,e){return nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),nd(t,e)}i(nd,"_setPrototypeOf");function hi(t){return hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),hi(t)}i(hi,"_getPrototypeOf");var iet=function(t){xX(r,t);var e=CX(r);function r(n,o,a){var u;return kX(this,r),u=e.call(this,n),u.description=o,u.context=a,u.type="TransportError",u}return i(r,"TransportError"),qX(r)}(Sq(Error)),id=function(t){xX(r,t);var e=CX(r);function r(n){var o;return kX(this,r),o=e.call(this),o.writable=!1,io(FX(o),n),o.opts=n,o.query=n.query,o.readyState="",o.socket=n.socket,o}return i(r,"Transport"),qX(r,[{key:"onError",value:i(function(o,a,u){return xu(hi(r.prototype),"emitReserved",this).call(this,"error",new iet(o,a,u)),this},"onError")},{key:"open",value:i(function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},"open")},{key:"close",value:i(function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},"close")},{key:"send",value:i(function(o){this.readyState==="open"&&this.write(o)},"send")},{key:"onOpen",value:i(function(){this.readyState="open",this.writable=!0,xu(hi(r.prototype),"emitReserved",this).call(this,"open")},"onOpen")},{key:"onData",value:i(function(o){var a=vb(o,this.socket.binaryType);this.onPacket(a)},"onData")},{key:"onPacket",value:i(function(o){xu(hi(r.prototype),"emitReserved",this).call(this,"packet",o)},"onPacket")},{key:"onClose",value:i(function(o){this.readyState="closed",xu(hi(r.prototype),"emitReserved",this).call(this,"close",o)},"onClose")}]),r}(Je);var UX="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),_q=64,oet={},jX=0,gb=0,NX;function DX(t){var e="";do e=UX[t%_q]+e,t=Math.floor(t/_q);while(t>0);return e}i(DX,"encode");function bb(){var t=DX(+new Date);return t!==NX?(jX=0,NX=t):t+"."+DX(jX++)}i(bb,"yeast");for(;gb<_q;gb++)oet[UX[gb]]=gb;function wb(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}i(wb,"encode");function MX(t){for(var e={},r=t.split("&"),n=0,o=r.length;n<o;n++){var a=r[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}i(MX,"decode");var BX=!1;try{BX=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(t){}var $X=BX;function Pq(t){var e=t.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||$X))return new XMLHttpRequest}catch(r){}if(!e)try{return new pn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(r){}}i(Pq,"XHR");function Eq(t){return Eq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eq(t)}i(Eq,"_typeof");function VX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(VX,"_classCallCheck");function zX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(zX,"_defineProperties");function WX(t,e,r){return e&&zX(t.prototype,e),r&&zX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(WX,"_createClass");function KX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rq(t,e)}i(KX,"_inherits");function Rq(t,e){return Rq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),Rq(t,e)}i(Rq,"_setPrototypeOf");function YX(t){var e=uet();return i(function(){var n=Ob(t),o;if(e){var a=Ob(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return aet(this,o)},"_createSuperInternal")}i(YX,"_createSuper");function aet(t,e){if(e&&(Eq(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XX(t)}i(aet,"_possibleConstructorReturn");function XX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(XX,"_assertThisInitialized");function uet(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(uet,"_isNativeReflectConstruct");function Ob(t){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Ob(t)}i(Ob,"_getPrototypeOf");function set(){}i(set,"empty");var cet=function(){var t=new Pq({xdomain:!1});return t.responseType!=null}(),JX=function(t){KX(r,t);var e=YX(r);function r(n){var o;if(VX(this,r),o=e.call(this,n),o.polling=!1,typeof location!="undefined"){var a=location.protocol==="https:",u=location.port;u||(u=a?"443":"80"),o.xd=typeof location!="undefined"&&n.hostname!==location.hostname||u!==n.port,o.xs=n.secure!==a}var s=n&&n.forceBase64;return o.supportsBinary=cet&&!s,o}return i(r,"Polling"),WX(r,[{key:"name",get:i(function(){return"polling"},"get")},{key:"doOpen",value:i(function(){this.poll()},"doOpen")},{key:"pause",value:i(function(o){var a=this;this.readyState="pausing";var u=i(function(){a.readyState="paused",o()},"pause");if(this.polling||!this.writable){var s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||u()})),this.writable||(s++,this.once("drain",function(){--s||u()}))}else u()},"pause")},{key:"poll",value:i(function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")},"poll")},{key:"onData",value:i(function(o){var a=this,u=i(function(l){if(a.readyState==="opening"&&l.type==="open"&&a.onOpen(),l.type==="close")return a.onClose({description:"transport closed by the server"}),!1;a.onPacket(l)},"callback");TX(o,this.socket.binaryType).forEach(u),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())},"onData")},{key:"doClose",value:i(function(){var o=this,a=i(function(){o.write([{type:"close"}])},"close");this.readyState==="open"?a():this.once("open",a)},"doClose")},{key:"write",value:i(function(o){var a=this;this.writable=!1,RX(o,function(u){a.doWrite(u,function(){a.writable=!0,a.emitReserved("drain")})})},"write")},{key:"uri",value:i(function(){var o=this.query||{},a=this.opts.secure?"https":"http",u="";this.opts.timestampRequests!==!1&&(o[this.opts.timestampParam]=bb()),!this.supportsBinary&&!o.sid&&(o.b64=1),this.opts.port&&(a==="https"&&Number(this.opts.port)!==443||a==="http"&&Number(this.opts.port)!==80)&&(u=":"+this.opts.port);var s=wb(o),l=this.opts.hostname.indexOf(":")!==-1;return a+"://"+(l?"["+this.opts.hostname+"]":this.opts.hostname)+u+this.opts.path+(s.length?"?"+s:"")},"uri")},{key:"request",value:i(function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.assign(o,{xd:this.xd,xs:this.xs},this.opts),new Al(this.uri(),o)},"request")},{key:"doWrite",value:i(function(o,a){var u=this,s=this.request({method:"POST",data:o});s.on("success",a),s.on("error",function(l,f){u.onError("xhr post error",l,f)})},"doWrite")},{key:"doPoll",value:i(function(){var o=this,a=this.request();a.on("data",this.onData.bind(this)),a.on("error",function(u,s){o.onError("xhr poll error",u,s)}),this.pollXhr=a},"doPoll")}]),r}(id),Al=function(t){KX(r,t);var e=YX(r);function r(n,o){var a;return VX(this,r),a=e.call(this),io(XX(a),o),a.opts=o,a.method=o.method||"GET",a.uri=n,a.async=o.async!==!1,a.data=o.data!==void 0?o.data:null,a.create(),a}return i(r,"Request"),WX(r,[{key:"create",value:i(function(){var o=this,a=yb(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");a.xdomain=!!this.opts.xd,a.xscheme=!!this.opts.xs;var u=this.xhr=new Pq(a);try{u.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){u.setDisableHeaderCheck&&u.setDisableHeaderCheck(!0);for(var s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&u.setRequestHeader(s,this.opts.extraHeaders[s])}}catch(l){}if(this.method==="POST")try{u.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(l){}try{u.setRequestHeader("Accept","*/*")}catch(l){}"withCredentials"in u&&(u.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(u.timeout=this.opts.requestTimeout),u.onreadystatechange=function(){u.readyState===4&&(u.status===200||u.status===1223?o.onLoad():o.setTimeoutFn(function(){o.onError(typeof u.status=="number"?u.status:0)},0))},u.send(this.data)}catch(l){this.setTimeoutFn(function(){o.onError(l)},0);return}typeof document!="undefined"&&(this.index=r.requestsCount++,r.requests[this.index]=this)},"create")},{key:"onError",value:i(function(o){this.emitReserved("error",o,this.xhr),this.cleanup(!0)},"onError")},{key:"cleanup",value:i(function(o){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=set,o)try{this.xhr.abort()}catch(a){}typeof document!="undefined"&&delete r.requests[this.index],this.xhr=null}},"cleanup")},{key:"onLoad",value:i(function(){var o=this.xhr.responseText;o!==null&&(this.emitReserved("data",o),this.emitReserved("success"),this.cleanup())},"onLoad")},{key:"abort",value:i(function(){this.cleanup()},"abort")}]),r}(Je);Al.requestsCount=0;Al.requests={};typeof document!="undefined"&&(typeof attachEvent=="function"?attachEvent("onunload",HX):typeof addEventListener=="function"&&(GX="onpagehide"in pn?"pagehide":"unload",addEventListener(GX,HX,!1)));var GX;function HX(){for(var t in Al.requests)Al.requests.hasOwnProperty(t)&&Al.requests[t].abort()}i(HX,"unloadHandler");var QX=function(){var t=typeof Promise=="function"&&typeof Promise.resolve=="function";return t?function(e){return Promise.resolve().then(e)}:function(e,r){return r(e,0)}}(),od=pn.WebSocket||pn.MozWebSocket,Sb=!0,ZX="arraybuffer";function Tq(t){return Tq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tq(t)}i(Tq,"_typeof");function fet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(fet,"_classCallCheck");function eJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(eJ,"_defineProperties");function pet(t,e,r){return e&&eJ(t.prototype,e),r&&eJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(pet,"_createClass");function det(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aq(t,e)}i(det,"_inherits");function Aq(t,e){return Aq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),Aq(t,e)}i(Aq,"_setPrototypeOf");function het(t){var e=met();return i(function(){var n=_b(t),o;if(e){var a=_b(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return vet(this,o)},"_createSuperInternal")}i(het,"_createSuper");function vet(t,e){if(e&&(Tq(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yet(t)}i(vet,"_possibleConstructorReturn");function yet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(yet,"_assertThisInitialized");function met(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(met,"_isNativeReflectConstruct");function _b(t){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),_b(t)}i(_b,"_getPrototypeOf");var tJ=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",rJ=function(t){det(r,t);var e=het(r);function r(n){var o;return fet(this,r),o=e.call(this,n),o.supportsBinary=!n.forceBase64,o}return i(r,"WS"),pet(r,[{key:"name",get:i(function(){return"websocket"},"get")},{key:"doOpen",value:i(function(){if(!!this.check()){var o=this.uri(),a=this.opts.protocols,u=tJ?{}:yb(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(u.headers=this.opts.extraHeaders);try{this.ws=Sb&&!tJ?a?new od(o,a):new od(o):new od(o,a,u)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType||ZX,this.addEventListeners()}},"doOpen")},{key:"addEventListeners",value:i(function(){var o=this;this.ws.onopen=function(){o.opts.autoUnref&&o.ws._socket.unref(),o.onOpen()},this.ws.onclose=function(a){return o.onClose({description:"websocket connection closed",context:a})},this.ws.onmessage=function(a){return o.onData(a.data)},this.ws.onerror=function(a){return o.onError("websocket error",a)}},"addEventListeners")},{key:"write",value:i(function(o){var a=this;this.writable=!1;for(var u=i(function(f){var d=o[f],y=f===o.length-1;hb(d,a.supportsBinary,function(m){var w={};if(!Sb&&(d.options&&(w.compress=d.options.compress),a.opts.perMessageDeflate)){var _=typeof m=="string"?Buffer.byteLength(m):m.length;_<a.opts.perMessageDeflate.threshold&&(w.compress=!1)}try{Sb?a.ws.send(m):a.ws.send(m,w)}catch(T){}y&&QX(function(){a.writable=!0,a.emitReserved("drain")},a.setTimeoutFn)})},"_loop"),s=0;s<o.length;s++)u(s)},"write")},{key:"doClose",value:i(function(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)},"doClose")},{key:"uri",value:i(function(){var o=this.query||{},a=this.opts.secure?"wss":"ws",u="";this.opts.port&&(a==="wss"&&Number(this.opts.port)!==443||a==="ws"&&Number(this.opts.port)!==80)&&(u=":"+this.opts.port),this.opts.timestampRequests&&(o[this.opts.timestampParam]=bb()),this.supportsBinary||(o.b64=1);var s=wb(o),l=this.opts.hostname.indexOf(":")!==-1;return a+"://"+(l?"["+this.opts.hostname+"]":this.opts.hostname)+u+this.opts.path+(s.length?"?"+s:"")},"uri")},{key:"check",value:i(function(){return!!od},"check")}]),r}(id);var Iq={websocket:rJ,polling:JX};var get=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,bet=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Il(t){var e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));for(var o=get.exec(t||""),a={},u=14;u--;)a[bet[u]]=o[u]||"";return r!=-1&&n!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=wet(a,a.path),a.queryKey=Oet(a,a.query),a}i(Il,"parse");function wet(t,e){var r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&n.splice(0,1),e.substr(e.length-1,1)=="/"&&n.splice(n.length-1,1),n}i(wet,"pathNames");function Oet(t,e){var r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,o,a){o&&(r[o]=a)}),r}i(Oet,"queryKey");function Pb(t){return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(t)}i(Pb,"_typeof");function _et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(_et,"_classCallCheck");function nJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(nJ,"_defineProperties");function Pet(t,e,r){return e&&nJ(t.prototype,e),r&&nJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Pet,"_createClass");function Eet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qq(t,e)}i(Eet,"_inherits");function qq(t,e){return qq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),qq(t,e)}i(qq,"_setPrototypeOf");function Ret(t){var e=Aet();return i(function(){var n=Eb(t),o;if(e){var a=Eb(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Tet(this,o)},"_createSuperInternal")}i(Ret,"_createSuper");function Tet(t,e){if(e&&(Pb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iJ(t)}i(Tet,"_possibleConstructorReturn");function iJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(iJ,"_assertThisInitialized");function Aet(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Aet,"_isNativeReflectConstruct");function Eb(t){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Eb(t)}i(Eb,"_getPrototypeOf");var ad=function(t){Eet(r,t);var e=Ret(r);function r(n){var o,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _et(this,r),o=e.call(this),n&&Pb(n)==="object"&&(a=n,n=null),n?(n=Il(n),a.hostname=n.host,a.secure=n.protocol==="https"||n.protocol==="wss",a.port=n.port,n.query&&(a.query=n.query)):a.host&&(a.hostname=Il(a.host).host),io(iJ(o),a),o.secure=a.secure!=null?a.secure:typeof location!="undefined"&&location.protocol==="https:",a.hostname&&!a.port&&(a.port=o.secure?"443":"80"),o.hostname=a.hostname||(typeof location!="undefined"?location.hostname:"localhost"),o.port=a.port||(typeof location!="undefined"&&location.port?location.port:o.secure?"443":"80"),o.transports=a.transports||["polling","websocket"],o.readyState="",o.writeBuffer=[],o.prevBufferLen=0,o.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},a),o.opts.path=o.opts.path.replace(/\/$/,"")+"/",typeof o.opts.query=="string"&&(o.opts.query=MX(o.opts.query)),o.id=null,o.upgrades=null,o.pingInterval=null,o.pingTimeout=null,o.pingTimeoutTimer=null,typeof addEventListener=="function"&&(o.opts.closeOnBeforeunload&&addEventListener("beforeunload",function(){o.transport&&(o.transport.removeAllListeners(),o.transport.close())},!1),o.hostname!=="localhost"&&(o.offlineEventListener=function(){o.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",o.offlineEventListener,!1))),o.open(),o}return i(r,"Socket"),Pet(r,[{key:"createTransport",value:i(function(o){var a=Object.assign({},this.opts.query);a.EIO=wq,a.transport=o,this.id&&(a.sid=this.id);var u=Object.assign({},this.opts.transportOptions[o],this.opts,{query:a,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Iq[o](u)},"createTransport")},{key:"open",value:i(function(){var o=this,a;if(this.opts.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)a="websocket";else if(this.transports.length===0){this.setTimeoutFn(function(){o.emitReserved("error","No transports available")},0);return}else a=this.transports[0];this.readyState="opening";try{a=this.createTransport(a)}catch(u){this.transports.shift(),this.open();return}a.open(),this.setTransport(a)},"open")},{key:"setTransport",value:i(function(o){var a=this;this.transport&&this.transport.removeAllListeners(),this.transport=o,o.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",function(u){return a.onClose("transport close",u)})},"setTransport")},{key:"probe",value:i(function(o){var a=this,u=this.createTransport(o),s=!1;r.priorWebsocketSuccess=!1;var l=i(function(){s||(u.send([{type:"ping",data:"probe"}]),u.once("packet",function(R){if(!s)if(R.type==="pong"&&R.data==="probe"){if(a.upgrading=!0,a.emitReserved("upgrading",u),!u)return;r.priorWebsocketSuccess=u.name==="websocket",a.transport.pause(function(){s||a.readyState!=="closed"&&(_(),a.setTransport(u),u.send([{type:"upgrade"}]),a.emitReserved("upgrade",u),u=null,a.upgrading=!1,a.flush())})}else{var E=new Error("probe error");E.transport=u.name,a.emitReserved("upgradeError",E)}}))},"onTransportOpen");function f(){s||(s=!0,_(),u.close(),u=null)}i(f,"freezeTransport");var d=i(function(R){var E=new Error("probe error: "+R);E.transport=u.name,f(),a.emitReserved("upgradeError",E)},"onerror");function y(){d("transport closed")}i(y,"onTransportClose");function m(){d("socket closed")}i(m,"onclose");function w(T){u&&T.name!==u.name&&f()}i(w,"onupgrade");var _=i(function(){u.removeListener("open",l),u.removeListener("error",d),u.removeListener("close",y),a.off("close",m),a.off("upgrading",w)},"cleanup");u.once("open",l),u.once("error",d),u.once("close",y),this.once("close",m),this.once("upgrading",w),u.open()},"probe")},{key:"onOpen",value:i(function(){if(this.readyState="open",r.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause)for(var o=0,a=this.upgrades.length;o<a;o++)this.probe(this.upgrades[o])},"onOpen")},{key:"onPacket",value:i(function(o){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",o),this.emitReserved("heartbeat"),o.type){case"open":this.onHandshake(JSON.parse(o.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var a=new Error("server error");a.code=o.data,this.onError(a);break;case"message":this.emitReserved("data",o.data),this.emitReserved("message",o.data);break}},"onPacket")},{key:"onHandshake",value:i(function(o){this.emitReserved("handshake",o),this.id=o.sid,this.transport.query.sid=o.sid,this.upgrades=this.filterUpgrades(o.upgrades),this.pingInterval=o.pingInterval,this.pingTimeout=o.pingTimeout,this.maxPayload=o.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()},"onHandshake")},{key:"resetPingTimeout",value:i(function(){var o=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(function(){o.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()},"resetPingTimeout")},{key:"onDrain",value:i(function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()},"onDrain")},{key:"flush",value:i(function(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var o=this.getWritablePackets();this.transport.send(o),this.prevBufferLen=o.length,this.emitReserved("flush")}},"flush")},{key:"getWritablePackets",value:i(function(){var o=this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1;if(!o)return this.writeBuffer;for(var a=1,u=0;u<this.writeBuffer.length;u++){var s=this.writeBuffer[u].data;if(s&&(a+=AX(s)),u>0&&a>this.maxPayload)return this.writeBuffer.slice(0,u);a+=2}return this.writeBuffer},"getWritablePackets")},{key:"write",value:i(function(o,a,u){return this.sendPacket("message",o,a,u),this},"write")},{key:"send",value:i(function(o,a,u){return this.sendPacket("message",o,a,u),this},"send")},{key:"sendPacket",value:i(function(o,a,u,s){if(typeof a=="function"&&(s=a,a=void 0),typeof u=="function"&&(s=u,u=null),!(this.readyState==="closing"||this.readyState==="closed")){u=u||{},u.compress=u.compress!==!1;var l={type:o,data:a,options:u};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),s&&this.once("flush",s),this.flush()}},"sendPacket")},{key:"close",value:i(function(){var o=this,a=i(function(){o.onClose("forced close"),o.transport.close()},"close"),u=i(function l(){o.off("upgrade",l),o.off("upgradeError",l),a()},"cleanupAndClose"),s=i(function(){o.once("upgrade",u),o.once("upgradeError",u)},"waitForUpgrade");return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){o.upgrading?s():a()}):this.upgrading?s():a()),this},"close")},{key:"onError",value:i(function(o){r.priorWebsocketSuccess=!1,this.emitReserved("error",o),this.onClose("transport error",o)},"onError")},{key:"onClose",value:i(function(o,a){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",o,a),this.writeBuffer=[],this.prevBufferLen=0)},"onClose")},{key:"filterUpgrades",value:i(function(o){for(var a=[],u=0,s=o.length;u<s;u++)~this.transports.indexOf(o[u])&&a.push(o[u]);return a},"filterUpgrades")}]),r}(Je);ad.protocol=wq;var MOt=ad.protocol;function oJ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=t;r=r||typeof location!="undefined"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r!="undefined"?t=r.protocol+"//"+t:t="https://"+t),n=Il(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var o=n.host.indexOf(":")!==-1,a=o?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+e,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}i(oJ,"url");var Nq={};Dl(Nq,{Decoder:function(){return Met},Encoder:function(){return Uet},PacketType:function(){return De},protocol:function(){return cJ}});function kq(t){return kq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kq(t)}i(kq,"_typeof");var Iet=typeof ArrayBuffer=="function",qet=i(function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},"isView"),aJ=Object.prototype.toString,ket=typeof Blob=="function"||typeof Blob!="undefined"&&aJ.call(Blob)==="[object BlobConstructor]",xet=typeof File=="function"||typeof File!="undefined"&&aJ.call(File)==="[object FileConstructor]";function sd(t){return Iet&&(t instanceof ArrayBuffer||qet(t))||ket&&t instanceof Blob||xet&&t instanceof File}i(sd,"isBinary");function ud(t,e){if(!t||kq(t)!=="object")return!1;if(Array.isArray(t)){for(var r=0,n=t.length;r<n;r++)if(ud(t[r]))return!0;return!1}if(sd(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return ud(t.toJSON(),!0);for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&ud(t[o]))return!0;return!1}i(ud,"hasBinary");function Rb(t){return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rb(t)}i(Rb,"_typeof");function uJ(t){var e=[],r=t.data,n=t;return n.data=xq(r,e),n.attachments=e.length,{packet:n,buffers:e}}i(uJ,"deconstructPacket");function xq(t,e){if(!t)return t;if(sd(t)){var r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){for(var n=new Array(t.length),o=0;o<t.length;o++)n[o]=xq(t[o],e);return n}else if(Rb(t)==="object"&&!(t instanceof Date)){var a={};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(a[u]=xq(t[u],e));return a}return t}i(xq,"_deconstructPacket");function sJ(t,e){return t.data=Cq(t.data,e),t.attachments=void 0,t}i(sJ,"reconstructPacket");function Cq(t,e){if(!t)return t;if(t&&t._placeholder===!0){var r=typeof t.num=="number"&&t.num>=0&&t.num<e.length;if(r)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=Cq(t[n],e);else if(Rb(t)==="object")for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(t[o]=Cq(t[o],e));return t}i(Cq,"_reconstructPacket");function ld(t){return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}i(ld,"_typeof");function ql(){return typeof Reflect!="undefined"&&Reflect.get?ql=Reflect.get.bind():ql=i(function(e,r,n){var o=Cet(e,r);if(!!o){var a=Object.getOwnPropertyDescriptor(o,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},"_get"),ql.apply(this,arguments)}i(ql,"_get");function Cet(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=oa(t),t!==null););return t}i(Cet,"_superPropBase");function Fet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fq(t,e)}i(Fet,"_inherits");function Fq(t,e){return Fq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),Fq(t,e)}i(Fq,"_setPrototypeOf");function Let(t){var e=Det();return i(function(){var n=oa(t),o;if(e){var a=oa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return jet(this,o)},"_createSuperInternal")}i(Let,"_createSuper");function jet(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Net(t)}i(jet,"_possibleConstructorReturn");function Net(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Net,"_assertThisInitialized");function Det(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Det,"_isNativeReflectConstruct");function oa(t){return oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),oa(t)}i(oa,"_getPrototypeOf");function Lq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Lq,"_classCallCheck");function lJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(lJ,"_defineProperties");function jq(t,e,r){return e&&lJ(t.prototype,e),r&&lJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(jq,"_createClass");var cJ=5,De;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(De||(De={}));var Uet=function(){function t(e){Lq(this,t),this.replacer=e}return i(t,"Encoder"),jq(t,[{key:"encode",value:i(function(r){return(r.type===De.EVENT||r.type===De.ACK)&&ud(r)?(r.type=r.type===De.EVENT?De.BINARY_EVENT:De.BINARY_ACK,this.encodeAsBinary(r)):[this.encodeAsString(r)]},"encode")},{key:"encodeAsString",value:i(function(r){var n=""+r.type;return(r.type===De.BINARY_EVENT||r.type===De.BINARY_ACK)&&(n+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(n+=r.nsp+","),r.id!=null&&(n+=r.id),r.data!=null&&(n+=JSON.stringify(r.data,this.replacer)),n},"encodeAsString")},{key:"encodeAsBinary",value:i(function(r){var n=uJ(r),o=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(o),a},"encodeAsBinary")}]),t}(),Met=function(t){Fet(r,t);var e=Let(r);function r(n){var o;return Lq(this,r),o=e.call(this),o.reviver=n,o}return i(r,"Decoder"),jq(r,[{key:"add",value:i(function(o){var a;if(typeof o=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");a=this.decodeString(o),a.type===De.BINARY_EVENT||a.type===De.BINARY_ACK?(this.reconstructor=new Bet(a),a.attachments===0&&ql(oa(r.prototype),"emitReserved",this).call(this,"decoded",a)):ql(oa(r.prototype),"emitReserved",this).call(this,"decoded",a)}else if(sd(o)||o.base64)if(this.reconstructor)a=this.reconstructor.takeBinaryData(o),a&&(this.reconstructor=null,ql(oa(r.prototype),"emitReserved",this).call(this,"decoded",a));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+o)},"add")},{key:"decodeString",value:i(function(o){var a=0,u={type:Number(o.charAt(0))};if(De[u.type]===void 0)throw new Error("unknown packet type "+u.type);if(u.type===De.BINARY_EVENT||u.type===De.BINARY_ACK){for(var s=a+1;o.charAt(++a)!=="-"&&a!=o.length;);var l=o.substring(s,a);if(l!=Number(l)||o.charAt(a)!=="-")throw new Error("Illegal attachments");u.attachments=Number(l)}if(o.charAt(a+1)==="/"){for(var f=a+1;++a;){var d=o.charAt(a);if(d===","||a===o.length)break}u.nsp=o.substring(f,a)}else u.nsp="/";var y=o.charAt(a+1);if(y!==""&&Number(y)==y){for(var m=a+1;++a;){var w=o.charAt(a);if(w==null||Number(w)!=w){--a;break}if(a===o.length)break}u.id=Number(o.substring(m,a+1))}if(o.charAt(++a)){var _=this.tryParse(o.substr(a));if(r.isPayloadValid(u.type,_))u.data=_;else throw new Error("invalid payload")}return u},"decodeString")},{key:"tryParse",value:i(function(o){try{return JSON.parse(o,this.reviver)}catch(a){return!1}},"tryParse")},{key:"destroy",value:i(function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},"destroy")}],[{key:"isPayloadValid",value:i(function(o,a){switch(o){case De.CONNECT:return ld(a)==="object";case De.DISCONNECT:return a===void 0;case De.CONNECT_ERROR:return typeof a=="string"||ld(a)==="object";case De.EVENT:case De.BINARY_EVENT:return Array.isArray(a)&&a.length>0;case De.ACK:case De.BINARY_ACK:return Array.isArray(a)}},"isPayloadValid")}]),r}(Je),Bet=function(){function t(e){Lq(this,t),this.packet=e,this.buffers=[],this.reconPack=e}return i(t,"BinaryReconstructor"),jq(t,[{key:"takeBinaryData",value:i(function(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){var n=sJ(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null},"takeBinaryData")},{key:"finishedReconstruction",value:i(function(){this.reconPack=null,this.buffers=[]},"finishedReconstruction")}]),t}();function Hr(t,e,r){return t.on(e,r),i(function(){t.off(e,r)},"subDestroy")}i(Hr,"on");function Dq(t){return Dq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dq(t)}i(Dq,"_typeof");function fJ(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=$et(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,o=i(function(){},"F");return{s:o,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return a=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!a&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(fJ,"_createForOfIteratorHelper");function $et(t,e){if(!!t){if(typeof t=="string")return pJ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pJ(t,e)}}i($et,"_unsupportedIterableToArray");function pJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(pJ,"_arrayLikeToArray");function zet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(zet,"_classCallCheck");function dJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(dJ,"_defineProperties");function Get(t,e,r){return e&&dJ(t.prototype,e),r&&dJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Get,"_createClass");function Tb(){return typeof Reflect!="undefined"&&Reflect.get?Tb=Reflect.get.bind():Tb=i(function(e,r,n){var o=Het(e,r);if(!!o){var a=Object.getOwnPropertyDescriptor(o,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},"_get"),Tb.apply(this,arguments)}i(Tb,"_get");function Het(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=kl(t),t!==null););return t}i(Het,"_superPropBase");function Vet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uq(t,e)}i(Vet,"_inherits");function Uq(t,e){return Uq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),Uq(t,e)}i(Uq,"_setPrototypeOf");function Wet(t){var e=Xet();return i(function(){var n=kl(t),o;if(e){var a=kl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Ket(this,o)},"_createSuperInternal")}i(Wet,"_createSuper");function Ket(t,e){if(e&&(Dq(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yet(t)}i(Ket,"_possibleConstructorReturn");function Yet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Yet,"_assertThisInitialized");function Xet(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Xet,"_isNativeReflectConstruct");function kl(t){return kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),kl(t)}i(kl,"_getPrototypeOf");var Jet=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Ab=function(t){Vet(r,t);var e=Wet(r);function r(n,o,a){var u;return zet(this,r),u=e.call(this),u.connected=!1,u.receiveBuffer=[],u.sendBuffer=[],u.ids=0,u.acks={},u.flags={},u.io=n,u.nsp=o,a&&a.auth&&(u.auth=a.auth),u.io._autoConnect&&u.open(),u}return i(r,"Socket"),Get(r,[{key:"disconnected",get:i(function(){return!this.connected},"get")},{key:"subEvents",value:i(function(){if(!this.subs){var o=this.io;this.subs=[Hr(o,"open",this.onopen.bind(this)),Hr(o,"packet",this.onpacket.bind(this)),Hr(o,"error",this.onerror.bind(this)),Hr(o,"close",this.onclose.bind(this))]}},"subEvents")},{key:"active",get:i(function(){return!!this.subs},"get")},{key:"connect",value:i(function(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)},"connect")},{key:"open",value:i(function(){return this.connect()},"open")},{key:"send",value:i(function(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return a.unshift("message"),this.emit.apply(this,a),this},"send")},{key:"emit",value:i(function(o){if(Jet.hasOwnProperty(o))throw new Error('"'+o+'" is a reserved event name');for(var a=arguments.length,u=new Array(a>1?a-1:0),s=1;s<a;s++)u[s-1]=arguments[s];u.unshift(o);var l={type:De.EVENT,data:u};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof u[u.length-1]=="function"){var f=this.ids++,d=u.pop();this._registerAckCallback(f,d),l.id=f}var y=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,m=this.flags.volatile&&(!y||!this.connected);return m||(this.connected?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this},"emit")},{key:"_registerAckCallback",value:i(function(o,a){var u=this,s=this.flags.timeout;if(s===void 0){this.acks[o]=a;return}var l=this.io.setTimeoutFn(function(){delete u.acks[o];for(var f=0;f<u.sendBuffer.length;f++)u.sendBuffer[f].id===o&&u.sendBuffer.splice(f,1);a.call(u,new Error("operation has timed out"))},s);this.acks[o]=function(){u.io.clearTimeoutFn(l);for(var f=arguments.length,d=new Array(f),y=0;y<f;y++)d[y]=arguments[y];a.apply(u,[null].concat(d))}},"_registerAckCallback")},{key:"packet",value:i(function(o){o.nsp=this.nsp,this.io._packet(o)},"packet")},{key:"onopen",value:i(function(){var o=this;typeof this.auth=="function"?this.auth(function(a){o.packet({type:De.CONNECT,data:a})}):this.packet({type:De.CONNECT,data:this.auth})},"onopen")},{key:"onerror",value:i(function(o){this.connected||this.emitReserved("connect_error",o)},"onerror")},{key:"onclose",value:i(function(o,a){this.connected=!1,delete this.id,this.emitReserved("disconnect",o,a)},"onclose")},{key:"onpacket",value:i(function(o){var a=o.nsp===this.nsp;if(!!a)switch(o.type){case De.CONNECT:if(o.data&&o.data.sid){var u=o.data.sid;this.onconnect(u)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case De.EVENT:case De.BINARY_EVENT:this.onevent(o);break;case De.ACK:case De.BINARY_ACK:this.onack(o);break;case De.DISCONNECT:this.ondisconnect();break;case De.CONNECT_ERROR:this.destroy();var s=new Error(o.data.message);s.data=o.data.data,this.emitReserved("connect_error",s);break}},"onpacket")},{key:"onevent",value:i(function(o){var a=o.data||[];o.id!=null&&a.push(this.ack(o.id)),this.connected?this.emitEvent(a):this.receiveBuffer.push(Object.freeze(a))},"onevent")},{key:"emitEvent",value:i(function(o){if(this._anyListeners&&this._anyListeners.length){var a=this._anyListeners.slice(),u=fJ(a),s;try{for(u.s();!(s=u.n()).done;){var l=s.value;l.apply(this,o)}}catch(f){u.e(f)}finally{u.f()}}Tb(kl(r.prototype),"emit",this).apply(this,o)},"emitEvent")},{key:"ack",value:i(function(o){var a=this,u=!1;return function(){if(!u){u=!0;for(var s=arguments.length,l=new Array(s),f=0;f<s;f++)l[f]=arguments[f];a.packet({type:De.ACK,id:o,data:l})}}},"ack")},{key:"onack",value:i(function(o){var a=this.acks[o.id];typeof a=="function"&&(a.apply(this,o.data),delete this.acks[o.id])},"onack")},{key:"onconnect",value:i(function(o){this.id=o,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")},"onconnect")},{key:"emitBuffered",value:i(function(){var o=this;this.receiveBuffer.forEach(function(a){return o.emitEvent(a)}),this.receiveBuffer=[],this.sendBuffer.forEach(function(a){o.notifyOutgoingListeners(a),o.packet(a)}),this.sendBuffer=[]},"emitBuffered")},{key:"ondisconnect",value:i(function(){this.destroy(),this.onclose("io server disconnect")},"ondisconnect")},{key:"destroy",value:i(function(){this.subs&&(this.subs.forEach(function(o){return o()}),this.subs=void 0),this.io._destroy(this)},"destroy")},{key:"disconnect",value:i(function(){return this.connected&&this.packet({type:De.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},"disconnect")},{key:"close",value:i(function(){return this.disconnect()},"close")},{key:"compress",value:i(function(o){return this.flags.compress=o,this},"compress")},{key:"volatile",get:i(function(){return this.flags.volatile=!0,this},"get")},{key:"timeout",value:i(function(o){return this.flags.timeout=o,this},"timeout")},{key:"onAny",value:i(function(o){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(o),this},"onAny")},{key:"prependAny",value:i(function(o){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(o),this},"prependAny")},{key:"offAny",value:i(function(o){if(!this._anyListeners)return this;if(o){for(var a=this._anyListeners,u=0;u<a.length;u++)if(o===a[u])return a.splice(u,1),this}else this._anyListeners=[];return this},"offAny")},{key:"listenersAny",value:i(function(){return this._anyListeners||[]},"listenersAny")},{key:"onAnyOutgoing",value:i(function(o){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(o),this},"onAnyOutgoing")},{key:"prependAnyOutgoing",value:i(function(o){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(o),this},"prependAnyOutgoing")},{key:"offAnyOutgoing",value:i(function(o){if(!this._anyOutgoingListeners)return this;if(o){for(var a=this._anyOutgoingListeners,u=0;u<a.length;u++)if(o===a[u])return a.splice(u,1),this}else this._anyOutgoingListeners=[];return this},"offAnyOutgoing")},{key:"listenersAnyOutgoing",value:i(function(){return this._anyOutgoingListeners||[]},"listenersAnyOutgoing")},{key:"notifyOutgoingListeners",value:i(function(o){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var a=this._anyOutgoingListeners.slice(),u=fJ(a),s;try{for(u.s();!(s=u.n()).done;){var l=s.value;l.apply(this,o.data)}}catch(f){u.e(f)}finally{u.f()}}},"notifyOutgoingListeners")}]),r}(Je);function Cu(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}i(Cu,"Backoff");Cu.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};Cu.prototype.reset=function(){this.attempts=0};Cu.prototype.setMin=function(t){this.ms=t};Cu.prototype.setMax=function(t){this.max=t};Cu.prototype.setJitter=function(t){this.jitter=t};function Ib(t){return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(t)}i(Ib,"_typeof");function Qet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Qet,"_classCallCheck");function hJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(hJ,"_defineProperties");function Zet(t,e,r){return e&&hJ(t.prototype,e),r&&hJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Zet,"_createClass");function ett(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mq(t,e)}i(ett,"_inherits");function Mq(t,e){return Mq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),Mq(t,e)}i(Mq,"_setPrototypeOf");function ttt(t){var e=ntt();return i(function(){var n=qb(t),o;if(e){var a=qb(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return rtt(this,o)},"_createSuperInternal")}i(ttt,"_createSuper");function rtt(t,e){if(e&&(Ib(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vJ(t)}i(rtt,"_possibleConstructorReturn");function vJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(vJ,"_assertThisInitialized");function ntt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(ntt,"_isNativeReflectConstruct");function qb(t){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),qb(t)}i(qb,"_getPrototypeOf");var kb=function(t){ett(r,t);var e=ttt(r);function r(n,o){var a;Qet(this,r);var u;a=e.call(this),a.nsps={},a.subs=[],n&&Ib(n)==="object"&&(o=n,n=void 0),o=o||{},o.path=o.path||"/socket.io",a.opts=o,io(vJ(a),o),a.reconnection(o.reconnection!==!1),a.reconnectionAttempts(o.reconnectionAttempts||1/0),a.reconnectionDelay(o.reconnectionDelay||1e3),a.reconnectionDelayMax(o.reconnectionDelayMax||5e3),a.randomizationFactor((u=o.randomizationFactor)!==null&&u!==void 0?u:.5),a.backoff=new Cu({min:a.reconnectionDelay(),max:a.reconnectionDelayMax(),jitter:a.randomizationFactor()}),a.timeout(o.timeout==null?2e4:o.timeout),a._readyState="closed",a.uri=n;var s=o.parser||Nq;return a.encoder=new s.Encoder,a.decoder=new s.Decoder,a._autoConnect=o.autoConnect!==!1,a._autoConnect&&a.open(),a}return i(r,"Manager"),Zet(r,[{key:"reconnection",value:i(function(o){return arguments.length?(this._reconnection=!!o,this):this._reconnection},"reconnection")},{key:"reconnectionAttempts",value:i(function(o){return o===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=o,this)},"reconnectionAttempts")},{key:"reconnectionDelay",value:i(function(o){var a;return o===void 0?this._reconnectionDelay:(this._reconnectionDelay=o,(a=this.backoff)===null||a===void 0||a.setMin(o),this)},"reconnectionDelay")},{key:"randomizationFactor",value:i(function(o){var a;return o===void 0?this._randomizationFactor:(this._randomizationFactor=o,(a=this.backoff)===null||a===void 0||a.setJitter(o),this)},"randomizationFactor")},{key:"reconnectionDelayMax",value:i(function(o){var a;return o===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=o,(a=this.backoff)===null||a===void 0||a.setMax(o),this)},"reconnectionDelayMax")},{key:"timeout",value:i(function(o){return arguments.length?(this._timeout=o,this):this._timeout},"timeout")},{key:"maybeReconnectOnOpen",value:i(function(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()},"maybeReconnectOnOpen")},{key:"open",value:i(function(o){var a=this;if(~this._readyState.indexOf("open"))return this;this.engine=new ad(this.uri,this.opts);var u=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;var l=Hr(u,"open",function(){s.onopen(),o&&o()}),f=Hr(u,"error",function(m){s.cleanup(),s._readyState="closed",a.emitReserved("error",m),o?o(m):s.maybeReconnectOnOpen()});if(this._timeout!==!1){var d=this._timeout;d===0&&l();var y=this.setTimeoutFn(function(){l(),u.close(),u.emit("error",new Error("timeout"))},d);this.opts.autoUnref&&y.unref(),this.subs.push(i(function(){clearTimeout(y)},"subDestroy"))}return this.subs.push(l),this.subs.push(f),this},"open")},{key:"connect",value:i(function(o){return this.open(o)},"connect")},{key:"onopen",value:i(function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var o=this.engine;this.subs.push(Hr(o,"ping",this.onping.bind(this)),Hr(o,"data",this.ondata.bind(this)),Hr(o,"error",this.onerror.bind(this)),Hr(o,"close",this.onclose.bind(this)),Hr(this.decoder,"decoded",this.ondecoded.bind(this)))},"onopen")},{key:"onping",value:i(function(){this.emitReserved("ping")},"onping")},{key:"ondata",value:i(function(o){this.decoder.add(o)},"ondata")},{key:"ondecoded",value:i(function(o){this.emitReserved("packet",o)},"ondecoded")},{key:"onerror",value:i(function(o){this.emitReserved("error",o)},"onerror")},{key:"socket",value:i(function(o,a){var u=this.nsps[o];return u||(u=new Ab(this,o,a),this.nsps[o]=u),u},"socket")},{key:"_destroy",value:i(function(o){for(var a=Object.keys(this.nsps),u=0,s=a;u<s.length;u++){var l=s[u],f=this.nsps[l];if(f.active)return}this._close()},"_destroy")},{key:"_packet",value:i(function(o){for(var a=this.encoder.encode(o),u=0;u<a.length;u++)this.engine.write(a[u],o.options)},"_packet")},{key:"cleanup",value:i(function(){this.subs.forEach(function(o){return o()}),this.subs.length=0,this.decoder.destroy()},"cleanup")},{key:"_close",value:i(function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()},"_close")},{key:"disconnect",value:i(function(){return this._close()},"disconnect")},{key:"onclose",value:i(function(o,a){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",o,a),this._reconnection&&!this.skipReconnect&&this.reconnect()},"onclose")},{key:"reconnect",value:i(function(){var o=this;if(this._reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var u=this.backoff.duration();this._reconnecting=!0;var s=this.setTimeoutFn(function(){a.skipReconnect||(o.emitReserved("reconnect_attempt",a.backoff.attempts),!a.skipReconnect&&a.open(function(l){l?(a._reconnecting=!1,a.reconnect(),o.emitReserved("reconnect_error",l)):a.onreconnect()}))},u);this.opts.autoUnref&&s.unref(),this.subs.push(i(function(){clearTimeout(s)},"subDestroy"))}},"reconnect")},{key:"onreconnect",value:i(function(){var o=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",o)},"onreconnect")}]),r}(Je);function Bq(t){return Bq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bq(t)}i(Bq,"_typeof");var cd={};function fd(t,e){Bq(t)==="object"&&(e=t,t=void 0),e=e||{};var r=oJ(t,e.path||"/socket.io"),n=r.source,o=r.id,a=r.path,u=cd[o]&&a in cd[o].nsps,s=e.forceNew||e["force new connection"]||e.multiplex===!1||u,l;return s?l=new kb(n,e):(cd[o]||(cd[o]=new kb(n,e)),l=cd[o]),r.query&&!e.query&&(e.query=r.queryKey),l.socket(r.path,e)}i(fd,"lookup");Object.assign(fd,{Manager:kb,Socket:Ab,io:fd,connect:fd});function $q(t){var e=/^\w+:\/\//.exec(t),r=0;e&&(r=e[0].length+1);var n=t.indexOf("/",r);return n===-1?{origin:t,pathname:"/"}:{origin:t.slice(0,n),pathname:t.slice(n)}}i($q,"parseUrl");function Cb(t){return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}i(Cb,"_typeof");function Vq(){"use strict";Vq=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&Cb(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(Vq,"_regeneratorRuntime");function yJ(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(yJ,"asyncGeneratorStep");function itt(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){yJ(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){yJ(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(itt,"_asyncToGenerator");function ott(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(ott,"_classCallCheck");function mJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(mJ,"_defineProperties");function att(t,e,r){return e&&mJ(t.prototype,e),r&&mJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(att,"_createClass");function utt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wq(t,e)}i(utt,"_inherits");function Wq(t,e){return Wq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),Wq(t,e)}i(Wq,"_setPrototypeOf");function stt(t){var e=ctt();return i(function(){var n=Fb(t),o;if(e){var a=Fb(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return ltt(this,o)},"_createSuperInternal")}i(stt,"_createSuper");function ltt(t,e){if(e&&(Cb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dn(t)}i(ltt,"_possibleConstructorReturn");function dn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(dn,"_assertThisInitialized");function ctt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(ctt,"_isNativeReflectConstruct");function Fb(t){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Fb(t)}i(Fb,"_getPrototypeOf");function Et(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Et,"_classPrivateFieldLooseBase");var ftt=0;function uo(t){return"__private_"+ftt+++"_"+t}i(uo,"_classPrivateFieldLooseKey");var ptt="ASSEMBLY_UPLOADING",Kq="ASSEMBLY_EXECUTING",Yq="ASSEMBLY_COMPLETED",gJ=[ptt,Kq,Yq];function xb(t,e){return gJ.indexOf(t)>=gJ.indexOf(e)}i(xb,"isStatus");var Lu=uo("rateLimitedQueue"),pd=uo("fetchWithNetworkError"),Fu=uo("previousFetchStatusStillPending"),Xq=uo("onFinished"),zq=uo("connectSocket"),oo=uo("onError"),Gq=uo("beginPolling"),ao=uo("fetchStatus"),Hq=uo("diffStatus"),dtt=function(t){utt(r,t);var e=stt(r);function r(n,o){var a;return ott(this,r),a=e.call(this),Object.defineProperty(dn(a),Hq,{value:btt}),Object.defineProperty(dn(a),ao,{value:gtt}),Object.defineProperty(dn(a),Gq,{value:mtt}),Object.defineProperty(dn(a),oo,{value:ytt}),Object.defineProperty(dn(a),zq,{value:vtt}),Object.defineProperty(dn(a),Xq,{value:htt}),Object.defineProperty(dn(a),Lu,{writable:!0,value:void 0}),Object.defineProperty(dn(a),pd,{writable:!0,value:void 0}),Object.defineProperty(dn(a),Fu,{writable:!0,value:!1}),a.status=n,a.socket=null,a.pollInterval=null,a.closed=!1,Et(dn(a),Lu)[Lu]=o,Et(dn(a),pd)[pd]=o.wrapPromiseFunction(Ui),a}return i(r,"TransloaditAssembly"),att(r,[{key:"connect",value:i(function(){Et(this,zq)[zq](),Et(this,Gq)[Gq]()},"connect")},{key:"update",value:i(function(){return Et(this,ao)[ao]({diff:!0})},"update")},{key:"updateStatus",value:i(function(o){Et(this,Hq)[Hq](this.status,o),this.status=o},"updateStatus")},{key:"close",value:i(function(){this.closed=!0,this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval),this.pollInterval=null},"close")}]),r}(bJ.default);function htt(){this.emit("finished"),this.close()}i(htt,"_onFinished2");function vtt(){var t=this,e=$q(this.status.websocket_url),r=fd(e.origin,{transports:["websocket"],path:e.pathname});r.on("connect",function(){r.emit("assembly_connect",{id:t.status.assembly_id}),t.emit("connect")}),r.on("connect_error",function(){r.disconnect(),t.socket=null}),r.on("assembly_finished",function(){Et(t,Xq)[Xq]()}),r.on("assembly_upload_finished",function(n){t.emit("upload",n),t.status.uploads.push(n)}),r.on("assembly_uploading_finished",function(){t.emit("executing")}),r.on("assembly_upload_meta_data_extracted",function(){t.emit("metadata"),Et(t,ao)[ao]({diff:!1})}),r.on("assembly_result_finished",function(n,o){t.emit("result",n,o),t.status.results[n]||(t.status.results[n]=[]),t.status.results[n].push(o)}),r.on("assembly_error",function(n){Et(t,oo)[oo](n),Et(t,ao)[ao]({diff:!1})}),this.socket=r}i(vtt,"_connectSocket2");function ytt(t){this.emit("error",Object.assign(new Error(t.message),t)),this.close()}i(ytt,"_onError2");function mtt(){var t=this;this.pollInterval=setInterval(function(){(!t.socket||!t.socket.connected)&&Et(t,ao)[ao]()},2e3)}i(mtt,"_beginPolling2");function gtt(t){return Jq.apply(this,arguments)}i(gtt,"_fetchStatus2");function Jq(){return Jq=itt(Vq().mark(i(function t(e){var r,n,o,a,u;return Vq().wrap(i(function(l){for(;;)switch(l.prev=l.next){case 0:if(r=e===void 0?{}:e,n=r.diff,o=n===void 0?!0:n,!(this.closed||Et(this,Lu)[Lu].isPaused||Et(this,Fu)[Fu])){l.next=3;break}return l.abrupt("return");case 3:return l.prev=3,Et(this,Fu)[Fu]=!0,l.next=7,Et(this,pd)[pd](this.status.assembly_ssl_url);case 7:if(a=l.sent,Et(this,Fu)[Fu]=!1,!this.closed){l.next=11;break}return l.abrupt("return");case 11:if(a.status!==429){l.next=14;break}return Et(this,Lu)[Lu].rateLimit(2e3),l.abrupt("return");case 14:if(a.ok){l.next=17;break}return Et(this,oo)[oo](new Tn(a.statusText)),l.abrupt("return");case 17:return l.next=19,a.json();case 19:if(u=l.sent,!this.closed){l.next=22;break}return l.abrupt("return");case 22:this.emit("status",u),o?this.updateStatus(u):this.status=u,l.next=29;break;case 26:l.prev=26,l.t0=l.catch(3),Et(this,oo)[oo](l.t0);case 29:case"end":return l.stop()}},"_callee$"),t,this,[[3,26]])},"_callee"))),Jq.apply(this,arguments)}i(Jq,"_fetchStatus3");function btt(t,e){var r=this,n=t.ok,o=e.ok;if(e.error&&!t.error)return Et(this,oo)[oo](e);var a=xb(o,Kq)&&!xb(n,Kq);a&&this.emit("executing"),Object.keys(e.uploads).filter(function(u){return!jr(t.uploads,u)}).forEach(function(u){r.emit("upload",e.uploads[u])}),a&&this.emit("metadata"),Object.keys(e.results).forEach(function(u){var s=e.results[u],l=t.results[u];s.filter(function(f){return!l||!l.some(function(d){return d.id===f.id})}).forEach(function(f){r.emit("result",u,f)})}),xb(o,Yq)&&!xb(n,Yq)&&this.emit("finished")}i(btt,"_diffStatus2");var Qq=dtt;function wtt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(wtt,"_classCallCheck");function wJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(wJ,"_defineProperties");function Ott(t,e,r){return e&&wJ(t.prototype,e),r&&wJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Ott,"_createClass");function ft(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(ft,"_classPrivateFieldLooseBase");var Stt=0;function Lb(t){return"__private_"+Stt+++"_"+t}i(Lb,"_classPrivateFieldLooseKey");var OJ="/assemblies",pr=Lb("headers"),dd=Lb("fetchWithNetworkError"),Kt=Lb("fetchJSON"),Vr=Lb("reportError"),SJ=function(){function t(e){var r=this;wtt(this,t),e===void 0&&(e={}),Object.defineProperty(this,Kt,{value:_tt}),Object.defineProperty(this,pr,{writable:!0,value:{}}),Object.defineProperty(this,dd,{writable:!0,value:void 0}),Object.defineProperty(this,Vr,{writable:!0,value:i(function(o,a){if(r.opts.errorReporting===!1)throw o;var u={type:a.type};throw a.assembly&&(u.assembly=a.assembly.assembly_id,u.instance=a.assembly.instance),a.url&&(u.endpoint=a.url),r.submitError(o,u).catch(function(){}),o},"value")}),this.opts=e,this.opts.client!=null&&(ft(this,pr)[pr]["Transloadit-Client"]=this.opts.client),ft(this,dd)[dd]=this.opts.rateLimitedQueue.wrapPromiseFunction(Ui)}return i(t,"Client"),Ott(t,[{key:"createAssembly",value:i(function(r){var n=this,o=r.params,a=r.fields,u=r.signature,s=r.expectedFiles,l=new FormData;l.append("params",typeof o=="string"?o:JSON.stringify(o)),u&&l.append("signature",u),Object.keys(a).forEach(function(d){l.append(d,a[d])}),l.append("num_expected_upload_files",s);var f=new URL(OJ,"".concat(this.opts.service)).href;return ft(this,Kt)[Kt](f,{method:"post",headers:ft(this,pr)[pr],body:l}).catch(function(d){return ft(n,Vr)[Vr](d,{url:f,type:"API_ERROR"})})},"createAssembly")},{key:"reserveFile",value:i(function(r,n){var o=this,a=encodeURIComponent(n.size),u="".concat(r.assembly_ssl_url,"/reserve_file?size=").concat(a);return ft(this,Kt)[Kt](u,{method:"post",headers:ft(this,pr)[pr]}).catch(function(s){return ft(o,Vr)[Vr](s,{assembly:r,file:n,url:u,type:"API_ERROR"})})},"reserveFile")},{key:"addFile",value:i(function(r,n){var o=this;if(!n.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));var a=encodeURIComponent(n.size),u=encodeURIComponent(n.uploadURL),s=encodeURIComponent(n.name),l="file",f="size=".concat(a,"&filename=").concat(s,"&fieldname=").concat(l,"&s3Url=").concat(u),d="".concat(r.assembly_ssl_url,"/add_file?").concat(f);return ft(this,Kt)[Kt](d,{method:"post",headers:ft(this,pr)[pr]}).catch(function(y){return ft(o,Vr)[Vr](y,{assembly:r,file:n,url:d,type:"API_ERROR"})})},"addFile")},{key:"updateNumberOfFilesInAssembly",value:i(function(r,n){var o=this,a=new URL(r.assembly_ssl_url);a.pathname="/update_assemblies";var u=JSON.stringify({assembly_updates:[{assembly_id:r.assembly_id,num_expected_upload_files:n}]});return ft(this,Kt)[Kt](a,{method:"post",headers:ft(this,pr)[pr],body:u}).catch(function(s){return ft(o,Vr)[Vr](s,{url:a,type:"API_ERROR"})})},"updateNumberOfFilesInAssembly")},{key:"cancelAssembly",value:i(function(r){var n=this,o=r.assembly_ssl_url;return ft(this,Kt)[Kt](o,{method:"delete",headers:ft(this,pr)[pr]}).catch(function(a){return ft(n,Vr)[Vr](a,{url:o,type:"API_ERROR"})})},"cancelAssembly")},{key:"getAssemblyStatus",value:i(function(r){var n=this;return ft(this,Kt)[Kt](r,{headers:ft(this,pr)[pr]}).catch(function(o){return ft(n,Vr)[Vr](o,{url:r,type:"STATUS_ERROR"})})},"getAssemblyStatus")},{key:"submitError",value:i(function(r,n){var o=n===void 0?{}:n,a=o.endpoint,u=o.instance,s=o.assembly,l=r.details?"".concat(r.message," (").concat(r.details,")"):r.message;return ft(this,Kt)[Kt]("https://transloaditstatus.com/client_error",{method:"post",body:JSON.stringify({endpoint:a,instance:u,assembly_id:s,agent:typeof navigator!="undefined"?navigator.userAgent:"",client:this.opts.client,error:l})})},"submitError")}]),t}();function _tt(){for(var t,e=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=ft(this,dd))[dd].apply(t,n).then(function(a){if(a.status===429){var u;return e.opts.rateLimitedQueue.rateLimit(2e3),(u=ft(e,Kt))[Kt].apply(u,n)}if(!a.ok){var s=new Error(a.statusText);return s.statusCode=a.status,"".concat(n[0]).endsWith(OJ)?a.json().then(function(l){if(!l.error)throw s;var f=new Error(l.error);throw f.details=l.message,f.assembly=l,l.assembly_id&&(f.details+=" Assembly ID: ".concat(l.assembly_id)),f},function(l){throw l.cause=s,l}):Promise.reject(s)}return a.json()})}i(_tt,"_fetchJSON2");function ek(t){return ek=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ek(t)}i(ek,"_typeof");function hd(){"use strict";hd=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&ek(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(hd,"_regeneratorRuntime");function _J(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(_J,"asyncGeneratorStep");function RJ(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){_J(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){_J(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(RJ,"_asyncToGenerator");function Ptt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Ptt,"_classCallCheck");function PJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(PJ,"_defineProperties");function Ett(t,e,r){return e&&PJ(t.prototype,e),r&&PJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Ett,"_createClass");function Rtt(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ttt(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,o=i(function(){},"F");return{s:o,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return a=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!a&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(Rtt,"_createForOfIteratorHelper");function Ttt(t,e){if(!!t){if(typeof t=="string")return EJ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EJ(t,e)}}i(Ttt,"_unsupportedIterableToArray");function EJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(EJ,"_arrayLikeToArray");function Att(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Att,"_classPrivateFieldLooseBase");var Itt=0;function qtt(t){return"__private_"+Itt+++"_"+t}i(qtt,"_classPrivateFieldLooseKey");function vd(t){if(t==null)throw new Error("Transloadit: The `params` option is required.");if(typeof t=="string")try{t=JSON.parse(t)}catch(e){throw new ni("Transloadit: The `params` option is a malformed JSON string.",{cause:e})}if(!t.auth||!t.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/c/template-credentials")}i(vd,"validateParams");function ktt(t){var e=Object.create(null),r=Rtt(t.filter(Boolean)),n;try{for(r.s();!(n=r.n()).done;){var o=n.value,a=o.fileIDs,u=o.options,s=JSON.stringify(u);s in e?e[s].fileIDArrays.push(a):e[s]={options:u,fileIDArrays:[a]}}}catch(l){r.e(l)}finally{r.f()}return Object.values(e).map(function(l){var f=l.options,d=l.fileIDArrays;return{options:f,fileIDs:d.flat(1)}})}i(ktt,"dedupe");var Zq=qtt("getAssemblyOptions"),xtt=function(){function t(e,r){Ptt(this,t),Object.defineProperty(this,Zq,{value:Ctt}),this.files=e,this.opts=r}return i(t,"AssemblyOptions"),Ett(t,[{key:"build",value:function(){var e=RJ(hd().mark(i(function n(){var o=this,a,u;return hd().wrap(i(function(l){for(;;)switch(l.prev=l.next){case 0:if(a=this.opts,!(this.files.length>0)){l.next=3;break}return l.abrupt("return",Promise.all(this.files.map(function(f){return Att(o,Zq)[Zq](f)})).then(ktt));case 3:if(!a.alwaysRunAssembly){l.next=9;break}return l.next=6,a.getAssemblyOptions(null,a);case 6:return u=l.sent,vd(u.params),l.abrupt("return",[{fileIDs:this.files.map(function(f){return f.id}),options:u}]);case 9:return l.abrupt("return",[]);case 10:case"end":return l.stop()}},"_callee$"),n,this)},"_callee")));function r(){return e.apply(this,arguments)}return i(r,"build"),r}()}]),t}();function Ctt(t){return tk.apply(this,arguments)}i(Ctt,"_getAssemblyOptions2");function tk(){return tk=RJ(hd().mark(i(function t(e){var r,n;return hd().wrap(i(function(a){for(;;)switch(a.prev=a.next){case 0:if(e!=null){a.next=2;break}return a.abrupt("return",void 0);case 2:return r=this.opts,a.next=5,r.getAssemblyOptions(e,r);case 5:if(n=a.sent,e!=null){a.next=8;break}return a.abrupt("return",void 0);case 8:return Array.isArray(n.fields)?n.fields=Object.fromEntries(n.fields.map(function(u){return[u,e.meta[u]]})):n.fields==null&&(n.fields={}),vd(n.params),a.abrupt("return",{fileIDs:[e.id],options:n});case 11:case"end":return a.stop()}},"_callee2$"),t,this)},"_callee2"))),tk.apply(this,arguments)}i(tk,"_getAssemblyOptions3");var TJ=xtt;var IJ=Re(bq(),1);function ik(t){return ik=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ik(t)}i(ik,"_typeof");function AJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(AJ,"_defineProperties");function Ftt(t,e,r){return e&&AJ(t.prototype,e),r&&AJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Ftt,"_createClass");function Ltt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Ltt,"_classCallCheck");function jtt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ok(t,e)}i(jtt,"_inherits");function ok(t,e){return ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),ok(t,e)}i(ok,"_setPrototypeOf");function Ntt(t){var e=Utt();return i(function(){var n=jb(t),o;if(e){var a=jb(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Dtt(this,o)},"_createSuperInternal")}i(Ntt,"_createSuper");function Dtt(t,e){if(e&&(ik(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(t)}i(Dtt,"_possibleConstructorReturn");function $e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i($e,"_assertThisInitialized");function Utt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Utt,"_isNativeReflectConstruct");function jb(t){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),jb(t)}i(jb,"_getPrototypeOf");function Ie(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Ie,"_classPrivateFieldLooseBase");var Mtt=0;function Wr(t){return"__private_"+Mtt+++"_"+t}i(Wr,"_classPrivateFieldLooseKey");var yd=Wr("assemblyIDs"),rk=Wr("reject"),Nu=Wr("remaining"),md=Wr("resolve"),Qe=Wr("uppy"),so=Wr("watching"),gd=Wr("onAssemblyComplete"),bd=Wr("onAssemblyCancel"),Du=Wr("onAssemblyError"),wd=Wr("onImportError"),ju=Wr("checkAllComplete"),ak=Wr("removeListeners"),nk=Wr("addListeners"),Btt=function(t){jtt(r,t);var e=Ntt(r);function r(n,o){var a;return Ltt(this,r),a=e.call(this),Object.defineProperty($e(a),nk,{value:Htt}),Object.defineProperty($e(a),ak,{value:Gtt}),Object.defineProperty($e(a),ju,{value:ztt}),Object.defineProperty($e(a),so,{value:$tt}),Object.defineProperty($e(a),yd,{writable:!0,value:void 0}),Object.defineProperty($e(a),rk,{writable:!0,value:void 0}),Object.defineProperty($e(a),Nu,{writable:!0,value:void 0}),Object.defineProperty($e(a),md,{writable:!0,value:void 0}),Object.defineProperty($e(a),Qe,{writable:!0,value:void 0}),Object.defineProperty($e(a),gd,{writable:!0,value:i(function(s){!Ie($e(a),so)[so](s.assembly_id)||(Ie($e(a),Qe)[Qe].log("[Transloadit] AssemblyWatcher: Got Assembly finish ".concat(s.assembly_id)),a.emit("assembly-complete",s.assembly_id),Ie($e(a),ju)[ju]())},"value")}),Object.defineProperty($e(a),bd,{writable:!0,value:i(function(s){!Ie($e(a),so)[so](s.assembly_id)||Ie($e(a),ju)[ju]()},"value")}),Object.defineProperty($e(a),Du,{writable:!0,value:i(function(s,l){!Ie($e(a),so)[so](s.assembly_id)||(Ie($e(a),Qe)[Qe].log("[Transloadit] AssemblyWatcher: Got Assembly error ".concat(s.assembly_id)),Ie($e(a),Qe)[Qe].log(l),a.emit("assembly-error",s.assembly_id,l),Ie($e(a),ju)[ju]())},"value")}),Object.defineProperty($e(a),wd,{writable:!0,value:i(function(s,l,f){!Ie($e(a),so)[so](s.assembly_id)||Ie($e(a),Du)[Du](s,f)},"value")}),Ie($e(a),Qe)[Qe]=n,Ie($e(a),yd)[yd]=o,Ie($e(a),Nu)[Nu]=o.length,a.promise=new Promise(function(u,s){Ie($e(a),md)[md]=u,Ie($e(a),rk)[rk]=s}),Ie($e(a),nk)[nk](),a}return i(r,"TransloaditAssemblyWatcher"),Ftt(r)}(IJ.default);function $tt(t){return Ie(this,yd)[yd].indexOf(t)!==-1}i($tt,"_watching2");function ztt(){Ie(this,Nu)[Nu]-=1,Ie(this,Nu)[Nu]===0&&(Ie(this,ak)[ak](),Ie(this,md)[md]())}i(ztt,"_checkAllComplete2");function Gtt(){Ie(this,Qe)[Qe].off("transloadit:complete",Ie(this,gd)[gd]),Ie(this,Qe)[Qe].off("transloadit:assembly-cancel",Ie(this,bd)[bd]),Ie(this,Qe)[Qe].off("transloadit:assembly-error",Ie(this,Du)[Du]),Ie(this,Qe)[Qe].off("transloadit:import-error",Ie(this,wd)[wd])}i(Gtt,"_removeListeners2");function Htt(){Ie(this,Qe)[Qe].on("transloadit:complete",Ie(this,gd)[gd]),Ie(this,Qe)[Qe].on("transloadit:assembly-cancel",Ie(this,bd)[bd]),Ie(this,Qe)[Qe].on("transloadit:assembly-error",Ie(this,Du)[Du]),Ie(this,Qe)[Qe].on("transloadit:import-error",Ie(this,wd)[wd])}i(Htt,"_addListeners2");var qJ=Btt;var kJ={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}};function Nb(t){return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(t)}i(Nb,"_typeof");function jJ(t){return Ktt(t)||Wtt(t)||Ok(t)||Vtt()}i(jJ,"_toConsumableArray");function Vtt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(Vtt,"_nonIterableSpread");function Wtt(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(Wtt,"_iterableToArray");function Ktt(t){if(Array.isArray(t))return vk(t)}i(Ktt,"_arrayWithoutHoles");function xJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(xJ,"ownKeys");function Ve(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xJ(Object(r),!0).forEach(function(n){aa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Ve,"_objectSpread");function Ytt(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ok(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,o=i(function(){},"F");return{s:o,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return a=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!a&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(Ytt,"_createForOfIteratorHelper");function Xtt(t,e){return Ztt(t)||Qtt(t,e)||Ok(t,e)||Jtt()}i(Xtt,"_slicedToArray");function Jtt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(Jtt,"_nonIterableRest");function Ok(t,e){if(!!t){if(typeof t=="string")return vk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vk(t,e)}}i(Ok,"_unsupportedIterableToArray");function vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(vk,"_arrayLikeToArray");function Qtt(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],o=!0,a=!1,u,s;try{for(r=r.call(t);!(o=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));o=!0);}catch(l){a=!0,s=l}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw s}}return n}}i(Qtt,"_iterableToArrayLimit");function Ztt(t){if(Array.isArray(t))return t}i(Ztt,"_arrayWithHoles");function aa(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(aa,"_defineProperty");function lo(){"use strict";lo=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&Nb(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(lo,"_regeneratorRuntime");function CJ(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(CJ,"asyncGeneratorStep");function Db(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){CJ(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){CJ(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(Db,"_asyncToGenerator");function ert(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(ert,"_classCallCheck");function FJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(FJ,"_defineProperties");function trt(t,e,r){return e&&FJ(t.prototype,e),r&&FJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(trt,"_createClass");function rrt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yk(t,e)}i(rrt,"_inherits");function yk(t,e){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),yk(t,e)}i(yk,"_setPrototypeOf");function nrt(t){var e=ort();return i(function(){var n=Ub(t),o;if(e){var a=Ub(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return irt(this,o)},"_createSuperInternal")}i(nrt,"_createSuper");function irt(t,e){if(e&&(Nb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qe(t)}i(irt,"_possibleConstructorReturn");function qe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(qe,"_assertThisInitialized");function ort(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(ort,"_isNativeReflectConstruct");function Ub(t){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Ub(t)}i(Ub,"_getPrototypeOf");function xe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(xe,"_classPrivateFieldLooseBase");var art=0;function ht(t){return"__private_"+art+++"_"+t}i(ht,"_classPrivateFieldLooseKey");var urt={version:"3.0.0-beta.5"};function srt(t,e){return{params:e.params,signature:e.signature,fields:e.fields}}i(srt,"defaultGetAssemblyOptions");var LJ=i(function(e){return function(r){var n=new ni("Failed to send error to the client",{cause:r});console.error(n,e)}},"sendErrorToConsole"),Sk="https://api2.transloadit.com/companion",_k=/\.transloadit\.com$/,lrt=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/,Dn=ht("rateLimitedQueue"),uk=ht("getClientVersion"),mk=ht("attachAssemblyMetadata"),sk=ht("createAssembly"),Od=ht("createAssemblyWatcher"),lk=ht("shouldWaitAfterUpload"),ck=ht("reserveFiles"),Sd=ht("onFileUploadURLAvailable"),Ad=ht("findFile"),gk=ht("onFileUploadComplete"),bk=ht("onResult"),Td=ht("onAssemblyFinished"),Id=ht("cancelAssembly"),fk=ht("onCancelAll"),pk=ht("getPersistentData"),dk=ht("onRestored"),_d=ht("connectAssembly"),Pd=ht("prepareUpload"),Uu=ht("afterUpload"),Ed=ht("closeAssemblyIfExists"),Rd=ht("onError"),hk=ht("onTusError"),ua=function(t){rrt(r,t);var e=nrt(r);function r(n,o){var a;ert(this,r);var u;a=e.call(this,n,o),u=qe(a),Object.defineProperty(qe(a),_d,{value:Ort}),Object.defineProperty(qe(a),Id,{value:wrt}),Object.defineProperty(qe(a),Td,{value:brt}),Object.defineProperty(qe(a),bk,{value:grt}),Object.defineProperty(qe(a),gk,{value:mrt}),Object.defineProperty(qe(a),Ad,{value:yrt}),Object.defineProperty(qe(a),ck,{value:vrt}),Object.defineProperty(qe(a),lk,{value:hrt}),Object.defineProperty(qe(a),Od,{value:drt}),Object.defineProperty(qe(a),sk,{value:prt}),Object.defineProperty(qe(a),mk,{value:frt}),Object.defineProperty(qe(a),uk,{value:crt}),Object.defineProperty(qe(a),Dn,{writable:!0,value:void 0}),Object.defineProperty(qe(a),Sd,{writable:!0,value:i(function(d){var y,m=a.uppy.getFile(d.id);if(!!(m!=null&&(y=m.transloadit)!=null&&y.assembly)){var w=a.getPluginState(),_=w.assemblies,T=_[m.transloadit.assembly];a.client.addFile(T,m).catch(function(R){a.uppy.log(R),a.uppy.emit("transloadit:import-error",T,m.id,R)})}},"value")}),Object.defineProperty(qe(a),fk,{writable:!0,value:function(){var f=Db(lo().mark(i(function y(m){var w,_,T,R,E,A;return lo().wrap(i(function(U){for(;;)switch(U.prev=U.next){case 0:if(w=m===void 0?{}:m,_=w.reason,U.prev=1,_==="user"){U.next=4;break}return U.abrupt("return");case 4:return T=u.getPluginState(),R=T.uploadsAssemblies,E=Object.values(R).flat(1),A=E.map(function(G){return u.getAssembly(G)}),U.next=9,Promise.all(A.map(function(G){return xe(u,Id)[Id](G)}));case 9:U.next=14;break;case 11:U.prev=11,U.t0=U.catch(1),u.uppy.log(U.t0);case 14:case"end":return U.stop()}},"_callee$"),y,null,[[1,11]])},"_callee")));function d(y){return f.apply(this,arguments)}return i(d,"value"),d}()}),Object.defineProperty(qe(a),pk,{writable:!0,value:i(function(d){var y=a.getPluginState(),m=y.assemblies,w=y.uploadsAssemblies;d(aa({},a.id,{assemblies:m,uploadsAssemblies:w}))},"value")}),Object.defineProperty(qe(a),dk,{writable:!0,value:i(function(d){var y=d&&d[a.id]?d[a.id]:{},m=y.assemblies||{},w=y.uploadsAssemblies||{};if(Object.keys(w).length!==0){var _=i(function(A){for(var k={},U=[],G=i(function(){var K=Xtt(z[M],2),p=K[0],c=K[1];c.uploads.forEach(function(v){var g=xe(qe(a),Ad)[Ad](v);k[v.id]={id:g.id,assembly:p,uploadedFile:v}});var h=a.getPluginState();Object.keys(c.results).forEach(function(v){var g=Ytt(c.results[v]),b;try{for(g.s();!(b=g.n()).done;){var P=b.value,x=h.files[P.original_id];P.localId=x?x.id:null,U.push({id:P.id,result:P,stepName:v,assembly:p})}}catch(L){g.e(L)}finally{g.f()}})},"_loop"),M=0,z=Object.entries(A);M<z.length;M++)G();a.setPluginState({assemblies:A,files:k,results:U,uploadsAssemblies:w})},"restoreState"),T=i(function(){var A=a.getPluginState(),k=A.assemblies,U=A.uploadsAssemblies;Object.keys(U).forEach(function(M){var z=U[M];xe(qe(a),Od)[Od](z,M)});var G=Object.keys(k);G.forEach(function(M){var z=new Qq(k[M],xe(qe(a),Dn)[Dn]);xe(qe(a),_d)[_d](z)})},"restoreAssemblies"),R=i(function(){var A=a.getPluginState(),k=A.assemblies;return Promise.all(Object.keys(k).map(function(U){return a.activeAssemblies[U].update()}))},"updateAssemblies");a.restored=Promise.resolve().then(function(){return _(m),T(),R()}),a.restored.then(function(){a.restored=null})}},"value")}),Object.defineProperty(qe(a),Pd,{writable:!0,value:i(function(d,y){var m=d.map(function(A){return a.uppy.getFile(A)}),w=m.filter(function(A){return A.error?!1:(a.uppy.emit("preprocess-progress",A,{mode:"indeterminate",message:a.i18n("creatingAssembly")}),!0)}),_=function(){var A=Db(lo().mark(i(function k(U){var G,M,z;return lo().wrap(i(function(K){for(;;)switch(K.prev=K.next){case 0:return G=U.fileIDs,M=U.options,K.prev=1,K.next=4,xe(qe(a),sk)[sk](G,y,M);case 4:if(z=K.sent,!a.opts.importFromUploadURLs){K.next=8;break}return K.next=8,xe(qe(a),ck)[ck](z,G);case 8:return G.forEach(function(p){var c=a.uppy.getFile(p);a.uppy.emit("preprocess-complete",c)}),K.abrupt("return",z);case 12:throw K.prev=12,K.t0=K.catch(1),G.forEach(function(p){var c=a.uppy.getFile(p);a.uppy.emit("preprocess-complete",c),a.uppy.emit("upload-error",c,K.t0)}),K.t0;case 16:case"end":return K.stop()}},"_callee2$"),k,null,[[1,12]])},"_callee2")));return i(function(U){return A.apply(this,arguments)},"createAssembly")}(),T=a.getPluginState(),R=T.uploadsAssemblies;a.setPluginState({uploadsAssemblies:Ve(Ve({},R),{},aa({},y,[]))});var E=new TJ(w,a.opts);return E.build().then(function(A){return Promise.all(A.map(_))}).then(function(A){var k=A.filter(Boolean),U=k.map(function(G){return G.status.assembly_id});return xe(qe(a),Od)[Od](U,y),Promise.all(k.map(function(G){return xe(qe(a),_d)[_d](G)}))}).catch(function(A){throw w.forEach(function(k){a.uppy.emit("preprocess-complete",k),a.uppy.emit("upload-error",k,A)}),A})},"value")}),Object.defineProperty(qe(a),Uu,{writable:!0,value:i(function(d,y){var m=d.map(function(U){return a.uppy.getFile(U)}),w=m.filter(function(U){return!U.error}).map(function(U){return U.id}),_=a.getPluginState();if(a.restored)return a.restored.then(function(){return xe(qe(a),Uu)[Uu](w,y)});var T=_.uploadsAssemblies[y],R=i(function(){T.forEach(function(G){var M=a.activeAssemblies[G];M.close(),delete a.activeAssemblies[G]})},"closeSocketConnections");if(!xe(qe(a),lk)[lk]()){R();var E=T.map(function(U){return a.getAssembly(U)});return a.uppy.addResultData(y,{transloadit:E}),Promise.resolve()}if(T.length===0)return a.uppy.addResultData(y,{transloadit:[]}),Promise.resolve();var A=m.filter(function(U){return!jr(a.completedFiles,U.id)});A.forEach(function(U){a.uppy.emit("postprocess-progress",U,{mode:"indeterminate",message:a.i18n("encoding")})});var k=a.assemblyWatchers[y];return k.promise.then(function(){R();var U=T.map(function(M){return a.getAssembly(M)}),G=Ve({},a.getPluginState().uploadsAssemblies);delete G[y],a.setPluginState({uploadsAssemblies:G}),a.uppy.addResultData(y,{transloadit:U})})},"value")}),Object.defineProperty(qe(a),Ed,{writable:!0,value:i(function(d){var y;(y=a.activeAssemblies[d])==null||y.close()},"value")}),Object.defineProperty(qe(a),Rd,{writable:!0,value:i(function(d,y){d===void 0&&(d=null);var m=u.getPluginState(),w=m.uploadsAssemblies[y];w==null||w.forEach(xe(u,Ed)[Ed]),u.client.submitError(d).catch(LJ(d))},"value")}),Object.defineProperty(qe(a),hk,{writable:!0,value:i(function(d,y){var m,w;if(xe(qe(a),Ed)[Ed](d==null||(m=d.transloadit)==null?void 0:m.assembly),y!=null&&(w=y.message)!=null&&w.startsWith("tus: ")){var _,T,R=(_=y.originalRequest)==null||(T=_.getUnderlyingObject())==null?void 0:T.responseURL;a.client.submitError(y,{endpoint:R,type:"TUS_ERROR"}).catch(LJ(y))}},"value")}),a.type="uploader",a.id=a.opts.id||"Transloadit",a.title="Transloadit",a.defaultLocale=kJ;var s={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:srt,limit:20,retryDelays:[7e3,1e4,15e3,2e4]};a.opts=Ve(Ve({},s),o),xe(qe(a),Dn)[Dn]=new sn(a.opts.limit),a.i18nInit();var l=a.opts.getAssemblyOptions!==s.getAssemblyOptions;return a.opts.params?vd(a.opts.params):l||vd(null),a.client=new SJ({service:a.opts.service,client:xe(qe(a),uk)[uk](),errorReporting:a.opts.errorReporting,rateLimitedQueue:xe(qe(a),Dn)[Dn]}),a.activeAssemblies={},a.assemblyWatchers={},a.completedFiles=Object.create(null),a}return i(r,"Transloadit"),trt(r,[{key:"install",value:i(function(){this.uppy.addPreProcessor(xe(this,Pd)[Pd]),this.uppy.addPostProcessor(xe(this,Uu)[Uu]),this.uppy.on("error",xe(this,Rd)[Rd]),this.uppy.on("cancel-all",xe(this,fk)[fk]),this.uppy.on("upload-error",xe(this,hk)[hk]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",xe(this,Sd)[Sd]):this.uppy.use(Tl,{storeFingerprintForResuming:!1,useFastRemoteRetry:!1,metaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit,rateLimitedQueue:xe(this,Dn)[Dn],retryDelays:this.opts.retryDelays}),this.uppy.on("restore:get-data",xe(this,pk)[pk]),this.uppy.on("restored",xe(this,dk)[dk]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});var o=this.uppy.getState(),a=o.capabilities;this.uppy.setState({capabilities:Ve(Ve({},a),{},{individualCancellation:!1})})},"install")},{key:"uninstall",value:i(function(){this.uppy.removePreProcessor(xe(this,Pd)[Pd]),this.uppy.removePostProcessor(xe(this,Uu)[Uu]),this.uppy.off("error",xe(this,Rd)[Rd]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",xe(this,Sd)[Sd]);var o=this.uppy.getState(),a=o.capabilities;this.uppy.setState({capabilities:Ve(Ve({},a),{},{individualCancellation:!0})})},"uninstall")},{key:"getAssembly",value:i(function(o){var a=this.getPluginState(),u=a.assemblies;return u[o]},"getAssembly")},{key:"getAssemblyFiles",value:i(function(o){return this.uppy.getFiles().filter(function(a){var u;return(a==null||(u=a.transloadit)==null?void 0:u.assembly)===o})},"getAssemblyFiles")}]),r}(st);function crt(){var t=this,e=["uppy-core:".concat(this.uppy.constructor.VERSION),"uppy-transloadit:".concat(this.constructor.VERSION),"uppy-tus:".concat(Tl.VERSION)],r=i(function(o,a){var u=t.uppy.getPlugin(o);u&&e.push("".concat(a,":").concat(u.constructor.VERSION))},"addPluginVersion");return this.opts.importFromUploadURLs&&(r("XHRUpload","uppy-xhr-upload"),r("AwsS3","uppy-aws-s3"),r("AwsS3Multipart","uppy-aws-s3-multipart")),r("Dropbox","uppy-dropbox"),r("Box","uppy-box"),r("Facebook","uppy-facebook"),r("GoogleDrive","uppy-google-drive"),r("Instagram","uppy-instagram"),r("OneDrive","uppy-onedrive"),r("Zoom","uppy-zoom"),r("Url","uppy-url"),e.join(",")}i(crt,"_getClientVersion2");function frt(t,e){var r=Ve(Ve({},t.meta),{},{assembly_url:e.assembly_url,filename:t.name,fieldname:"file"}),n=Ve(Ve({},t.tus),{},{endpoint:e.tus_url,addRequestId:!0}),o=t.remote;if(t.remote&&lrt.test(t.remote.companionUrl)){var a=e.companion_url.replace(/\/$/,""),u=t.remote.url.replace(t.remote.companionUrl,"").replace(/^\//,"");o=Ve(Ve({},t.remote),{},{companionUrl:a,url:"".concat(a,"/").concat(u)})}var s=Ve(Ve({},t),{},{transloadit:{assembly:e.assembly_id}});return this.opts.importFromUploadURLs||Object.assign(s,{meta:r,tus:n,remote:o}),s}i(frt,"_attachAssemblyMetadata2");function prt(t,e,r){var n=this;return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({params:r.params,fields:r.fields,expectedFiles:t.length,signature:r.signature}).then(function(){var o=Db(lo().mark(i(function a(u){var s,l,f,d,y,m,w,_,T;return lo().wrap(i(function(E){for(;;)switch(E.prev=E.next){case 0:if(s=n.uppy.getFiles().filter(function(A){var k=A.id;return t.includes(k)}),s.length===t.length){E.next=8;break}if(s.length!==0){E.next=6;break}return E.next=5,n.client.cancelAssembly(u);case 5:return E.abrupt("return",null);case 6:return E.next=8,n.client.updateNumberOfFilesInAssembly(u,s.length);case 8:return l=new Qq(u,xe(n,Dn)[Dn]),f=l.status,d=f.assembly_id,y=n.getPluginState(),m=y.assemblies,w=y.uploadsAssemblies,n.setPluginState({assemblies:Ve(Ve({},m),{},aa({},d,f)),uploadsAssemblies:Ve(Ve({},w),{},aa({},e,[].concat(jJ(w[e]),[d])))}),_={},s.forEach(function(A){_[A.id]=xe(n,mk)[mk](A,f)}),n.uppy.setState({files:Ve(Ve({},n.uppy.getState().files),_)}),T=i(function A(k,U){if(U==="cancel-all")l.close(),n.uppy.off(A);else if(k.id in _){delete _[k.id];var G=Object.keys(_).length;G===0?(l.close(),xe(n,Id)[Id](u).catch(function(){}),n.uppy.off(A)):n.client.updateNumberOfFilesInAssembly(u,G).catch(function(){})}},"fileRemovedHandler"),n.uppy.on("file-removed",T),n.uppy.emit("transloadit:assembly-created",f,t),n.uppy.log("[Transloadit] Created Assembly ".concat(d)),E.abrupt("return",l);case 21:case"end":return E.stop()}},"_callee3$"),a)},"_callee3")));return function(a){return o.apply(this,arguments)}}()).catch(function(o){var a=new ni("".concat(n.i18n("creatingAssemblyFailed"),": ").concat(o.message),{cause:o});throw"details"in o&&(a.details=o.details),"assembly"in o&&(a.assembly=o.assembly),a})}i(prt,"_createAssembly2");function drt(t,e){var r=this,n=new qJ(this.uppy,t);n.on("assembly-complete",function(o){var a=r.getAssemblyFiles(o);a.forEach(function(u){r.completedFiles[u.id]=!0,r.uppy.emit("postprocess-complete",u)})}),n.on("assembly-error",function(o,a){var u=r.getAssemblyFiles(o);u.forEach(function(s){r.uppy.emit("upload-error",s,a),r.uppy.emit("postprocess-complete",s)})}),this.assemblyWatchers[e]=n}i(drt,"_createAssemblyWatcher2");function hrt(){return this.opts.waitForEncoding||this.opts.waitForMetadata}i(hrt,"_shouldWaitAfterUpload2");function vrt(t,e){var r=this;return Promise.all(e.map(function(n){var o=r.uppy.getFile(n);return r.client.reserveFile(t.status,o)}))}i(vrt,"_reserveFiles2");function yrt(t){for(var e=this.uppy.getFiles(),r=0;r<e.length;r++){var n=e[r];if(n.uploadURL===t.tus_upload_url||n.tus&&n.tus.uploadUrl===t.tus_upload_url||!t.is_tus_file&&n.name===t.name&&n.size===t.size)return n}}i(yrt,"_findFile2");function mrt(t,e){var r=this.getPluginState(),n=xe(this,Ad)[Ad](e);if(!n){this.uppy.log("[Transloadit] Couldn\u2019t file the file, it was likely removed in the process");return}this.setPluginState({files:Ve(Ve({},r.files),{},aa({},e.id,{assembly:t,id:n.id,uploadedFile:e}))}),this.uppy.emit("transloadit:upload",e,this.getAssembly(t))}i(mrt,"_onFileUploadComplete2");function grt(t,e,r){var n=this.getPluginState(),o=n.files[r.original_id];r.localId=o?o.id:null;var a={result:r,stepName:e,id:r.id,assembly:t};this.setPluginState({results:[].concat(jJ(n.results),[a])}),this.uppy.emit("transloadit:result",e,r,this.getAssembly(t))}i(grt,"_onResult2");function brt(t){var e=this,r=t.assembly_ssl_url;this.client.getAssemblyStatus(r).then(function(n){var o=n.assembly_id,a=e.getPluginState();e.setPluginState({assemblies:Ve(Ve({},a.assemblies),{},aa({},o,n))}),e.uppy.emit("transloadit:complete",n)})}i(brt,"_onAssemblyFinished2");function wrt(t){return wk.apply(this,arguments)}i(wrt,"_cancelAssembly2");function wk(){return wk=Db(lo().mark(i(function t(e){return lo().wrap(i(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.client.cancelAssembly(e);case 2:this.uppy.emit("transloadit:assembly-cancelled",e);case 3:case"end":return n.stop()}},"_callee4$"),t,this)},"_callee4"))),wk.apply(this,arguments)}i(wk,"_cancelAssembly3");function Ort(t){var e=this,r=t.status,n=r.assembly_id;return this.activeAssemblies[n]=t,t.on("status",function(o){var a=e.getPluginState(),u=a.assemblies;e.setPluginState({assemblies:Ve(Ve({},u),{},aa({},n,o))})}),t.on("upload",function(o){xe(e,gk)[gk](n,o)}),t.on("error",function(o){o.assembly=t.status,e.uppy.emit("transloadit:assembly-error",t.status,o)}),t.on("executing",function(){e.uppy.emit("transloadit:assembly-executing",t.status)}),this.opts.waitForEncoding&&t.on("result",function(o,a){xe(e,bk)[bk](n,o,a)}),this.opts.waitForEncoding?t.on("finished",function(){xe(e,Td)[Td](t.status)}):this.opts.waitForMetadata&&t.on("metadata",function(){xe(e,Td)[Td](t.status)}),t.ok==="ASSEMBLY_COMPLETE"||t.connect(),t}i(Ort,"_connectAssembly2");ua.VERSION=urt.version;ua.COMPANION=Sk;ua.COMPANION_PATTERN=_k;var NJ={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};function Pk(t){return Pk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pk(t)}i(Pk,"_typeof");function DJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(DJ,"ownKeys");function Ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DJ(Object(r),!0).forEach(function(n){Srt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Ar,"_objectSpread");function Srt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Srt,"_defineProperty");function _rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(_rt,"_classCallCheck");function UJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(UJ,"_defineProperties");function Prt(t,e,r){return e&&UJ(t.prototype,e),r&&UJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Prt,"_createClass");function Ert(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ek(t,e)}i(Ert,"_inherits");function Ek(t,e){return Ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),Ek(t,e)}i(Ek,"_setPrototypeOf");function Rrt(t){var e=Art();return i(function(){var n=Mb(t),o;if(e){var a=Mb(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Trt(this,o)},"_createSuperInternal")}i(Rrt,"_createSuper");function Trt(t,e){if(e&&(Pk(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $J(t)}i(Trt,"_possibleConstructorReturn");function $J(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i($J,"_assertThisInitialized");function Art(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Art,"_isNativeReflectConstruct");function Mb(t){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Mb(t)}i(Mb,"_getPrototypeOf");var Irt={version:"3.0.0-beta.3"};function MJ(t,e){var r=e;return r||(r=new Error("Upload error")),typeof r=="string"&&(r=new Error(r)),r instanceof Error||(r=Object.assign(new Error("Upload error"),{data:r})),Pu(t)?(r=new Tn(r,t),r):(r.request=t,r)}i(MJ,"buildResponseError");function BJ(t){var e=t.data.slice(0,t.data.size,t.meta.type);return e}i(BJ,"setTypeInBlob");var Rk=function(t){Ert(r,t);var e=Rrt(r);function r(n,o){var a;_rt(this,r),a=e.call(this,n,o),a.type="uploader",a.id=a.opts.id||"XHRUpload",a.title="XHRUpload",a.defaultLocale=NJ;var u={formData:!0,fieldName:o.bundle?"files[]":"file",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData:i(function(l){var f={};try{f=JSON.parse(l)}catch(d){n.log(d)}return f},"getResponseData"),getResponseError:i(function(l,f){var d=new Error("Upload error");return Pu(f)&&(d=new Tn(d,f)),d},"getResponseError"),validateStatus:i(function(l){return l>=200&&l<300},"validateStatus")};if(a.opts=Ar(Ar({},u),o),a.i18nInit(),a.handleUpload=a.handleUpload.bind($J(a)),ra in a.opts?a.requests=a.opts[ra]:a.requests=new sn(a.opts.limit),a.opts.bundle&&!a.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");return a.uploaderEvents=Object.create(null),a}return i(r,"XHRUpload"),Prt(r,[{key:"getOptions",value:i(function(o){var a=this.uppy.getState().xhrUpload,u=this.opts.headers,s=Ar(Ar(Ar(Ar({},this.opts),a||{}),o.xhrUpload||{}),{},{headers:{}});return typeof u=="function"?s.headers=u(o):Object.assign(s.headers,this.opts.headers),a&&Object.assign(s.headers,a.headers),o.xhrUpload&&Object.assign(s.headers,o.xhrUpload.headers),s},"getOptions")},{key:"addMetadata",value:i(function(o,a,u){var s=Array.isArray(u.metaFields)?u.metaFields:Object.keys(a);s.forEach(function(l){o.append(l,a[l])})},"addMetadata")},{key:"createFormDataUpload",value:i(function(o,a){var u=new FormData;this.addMetadata(u,o.meta,a);var s=BJ(o);return o.name?u.append(a.fieldName,s,o.meta.name):u.append(a.fieldName,s),u},"createFormDataUpload")},{key:"createBundledUpload",value:i(function(o,a){var u=this,s=new FormData,l=this.uppy.getState(),f=l.meta;return this.addMetadata(s,f,a),o.forEach(function(d){var y=u.getOptions(d),m=BJ(d);d.name?s.append(y.fieldName,m,d.name):s.append(y.fieldName,m)}),s},"createBundledUpload")},{key:"upload",value:i(function(o,a,u){var s=this,l=this.getOptions(o);return this.uppy.log("uploading ".concat(a," of ").concat(u)),new Promise(function(f,d){s.uppy.emit("upload-started",o);var y=l.formData?s.createFormDataUpload(o,l):o.data,m=new XMLHttpRequest;s.uploaderEvents[o.id]=new ln(s.uppy);var w,_=new Ap(l.timeout,function(){m.abort(),w.done();var R=new Error(s.i18n("timedOut",{seconds:Math.ceil(l.timeout/1e3)}));s.uppy.emit("upload-error",o,R),d(R)}),T=nn();m.upload.addEventListener("loadstart",function(){s.uppy.log("[XHRUpload] ".concat(T," started"))}),m.upload.addEventListener("progress",function(R){s.uppy.log("[XHRUpload] ".concat(T," progress: ").concat(R.loaded," / ").concat(R.total)),_.progress(),R.lengthComputable&&s.uppy.emit("upload-progress",o,{uploader:s,bytesUploaded:R.loaded,bytesTotal:R.total})}),m.addEventListener("load",function(){if(s.uppy.log("[XHRUpload] ".concat(T," finished")),_.done(),w.done(),s.uploaderEvents[o.id]&&(s.uploaderEvents[o.id].remove(),s.uploaderEvents[o.id]=null),l.validateStatus(m.status,m.responseText,m)){var R=l.getResponseData(m.responseText,m),E=R[l.responseUrlFieldName],A={status:m.status,body:R,uploadURL:E};return s.uppy.emit("upload-success",o,A),E&&s.uppy.log("Download ".concat(o.name," from ").concat(E)),f(o)}var k=l.getResponseData(m.responseText,m),U=MJ(m,l.getResponseError(m.responseText,m)),G={status:m.status,body:k};return s.uppy.emit("upload-error",o,U,G),d(U)}),m.addEventListener("error",function(){s.uppy.log("[XHRUpload] ".concat(T," errored")),_.done(),w.done(),s.uploaderEvents[o.id]&&(s.uploaderEvents[o.id].remove(),s.uploaderEvents[o.id]=null);var R=MJ(m,l.getResponseError(m.responseText,m));return s.uppy.emit("upload-error",o,R),d(R)}),m.open(l.method.toUpperCase(),l.endpoint,!0),m.withCredentials=l.withCredentials,l.responseType!==""&&(m.responseType=l.responseType),w=s.requests.run(function(){s.uppy.emit("upload-started",o);var R=s.getOptions(o);return Object.keys(R.headers).forEach(function(E){m.setRequestHeader(E,R.headers[E])}),m.send(y),function(){_.done(),m.abort()}}),s.onFileRemove(o.id,function(){w.abort(),d(new Error("File removed"))}),s.onCancelAll(o.id,function(R){var E=R.reason;E==="user"&&w.abort(),d(new Error("Upload cancelled"))})})},"upload")},{key:"uploadRemote",value:i(function(o){var a=this,u=this.getOptions(o);return new Promise(function(s,l){a.uppy.emit("upload-started",o);var f={},d=Array.isArray(u.metaFields)?u.metaFields:Object.keys(o.meta);d.forEach(function(w){f[w]=o.meta[w]});var y=o.remote.providerOptions.provider?Me:pt,m=new y(a.uppy,o.remote.providerOptions);m.post(o.remote.url,Ar(Ar({},o.remote.body),{},{protocol:"multipart",endpoint:u.endpoint,size:o.data.size,fieldname:u.fieldName,metadata:f,httpMethod:u.method,useFormData:u.formData,headers:u.headers})).then(function(w){var _=w.token,T=Zi(o.remote.companionUrl),R=new ii({target:"".concat(T,"/api/").concat(_),autoOpen:!1});a.uploaderEvents[o.id]=new ln(a.uppy);var E;a.onFileRemove(o.id,function(){R.send("cancel",{}),E.abort(),s("upload ".concat(o.id," was removed"))}),a.onCancelAll(o.id,function(A){var k=A===void 0?{}:A,U=k.reason;U==="user"&&(R.send("cancel",{}),E.abort()),s("upload ".concat(o.id," was canceled"))}),a.onRetry(o.id,function(){R.send("pause",{}),R.send("resume",{})}),a.onRetryAll(o.id,function(){R.send("pause",{}),R.send("resume",{})}),R.on("progress",function(A){return na(a,A,o)}),R.on("success",function(A){var k=u.getResponseData(A.response.responseText,A.response),U=k[u.responseUrlFieldName],G={status:A.response.status,body:k,uploadURL:U};return a.uppy.emit("upload-success",o,G),E.done(),a.uploaderEvents[o.id]&&(a.uploaderEvents[o.id].remove(),a.uploaderEvents[o.id]=null),s()}),R.on("error",function(A){var k=A.response,U=k?u.getResponseError(k.responseText,k):Object.assign(new Error(A.error.message),{cause:A.error});a.uppy.emit("upload-error",o,U),E.done(),a.uploaderEvents[o.id]&&(a.uploaderEvents[o.id].remove(),a.uploaderEvents[o.id]=null),l(U)}),E=a.requests.run(function(){return R.open(),o.isPaused&&R.send("pause",{}),function(){return R.close()}})}).catch(function(w){a.uppy.emit("upload-error",o,w),l(w)})})},"uploadRemote")},{key:"uploadBundle",value:i(function(o){var a=this;return new Promise(function(u,s){var l=a.opts.endpoint,f=a.opts.method,d=a.uppy.getState().xhrUpload,y=a.createBundledUpload(o,Ar(Ar({},a.opts),d||{})),m=new XMLHttpRequest,w=i(function(R){o.forEach(function(E){a.uppy.emit("upload-error",E,R)})},"emitError"),_=new Ap(a.opts.timeout,function(){m.abort();var T=new Error(a.i18n("timedOut",{seconds:Math.ceil(a.opts.timeout/1e3)}));w(T),s(T)});m.upload.addEventListener("loadstart",function(){a.uppy.log("[XHRUpload] started uploading bundle"),_.progress()}),m.upload.addEventListener("progress",function(T){_.progress(),T.lengthComputable&&o.forEach(function(R){a.uppy.emit("upload-progress",R,{uploader:a,bytesUploaded:T.loaded/T.total*R.size,bytesTotal:R.size})})}),m.addEventListener("load",function(T){if(_.done(),a.opts.validateStatus(T.target.status,m.responseText,m)){var R=a.opts.getResponseData(m.responseText,m),E={status:T.target.status,body:R};return o.forEach(function(k){a.uppy.emit("upload-success",k,E)}),u()}var A=a.opts.getResponseError(m.responseText,m)||new Error("Upload error");return A.request=m,w(A),s(A)}),m.addEventListener("error",function(){_.done();var T=a.opts.getResponseError(m.responseText,m)||new Error("Upload error");return w(T),s(T)}),a.uppy.on("cancel-all",function(T){var R=T===void 0?{}:T,E=R.reason;E==="user"&&(_.done(),m.abort())}),m.open(f.toUpperCase(),l,!0),m.withCredentials=a.opts.withCredentials,a.opts.responseType!==""&&(m.responseType=a.opts.responseType),Object.keys(a.opts.headers).forEach(function(T){m.setRequestHeader(T,a.opts.headers[T])}),m.send(y),o.forEach(function(T){a.uppy.emit("upload-started",T)})})},"uploadBundle")},{key:"uploadFiles",value:i(function(o){var a=this,u=o.map(function(s,l){var f=parseInt(l,10)+1,d=o.length;return s.error?Promise.reject(new Error(s.error)):s.isRemote?a.uploadRemote(s,f,d):a.upload(s,f,d)});return Yp(u)},"uploadFiles")},{key:"onFileRemove",value:i(function(o,a){this.uploaderEvents[o].on("file-removed",function(u){o===u.id&&a(u.id)})},"onFileRemove")},{key:"onRetry",value:i(function(o,a){this.uploaderEvents[o].on("upload-retry",function(u){o===u&&a()})},"onRetry")},{key:"onRetryAll",value:i(function(o,a){var u=this;this.uploaderEvents[o].on("retry-all",function(){!u.uppy.getFile(o)||a()})},"onRetryAll")},{key:"onCancelAll",value:i(function(o,a){var u=this;this.uploaderEvents[o].on("cancel-all",function(){!u.uppy.getFile(o)||a.apply(void 0,arguments)})},"onCancelAll")},{key:"handleUpload",value:i(function(o){var a=this;if(o.length===0)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.opts.limit===0&&!this.opts[ra]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");var u=o.map(function(l){return a.uppy.getFile(l)});if(this.opts.bundle){var s=u.some(function(l){return l.isRemote});if(s)throw new Error("Can\u2019t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(u)}return this.uploadFiles(u).then(function(){return null})},"handleUpload")},{key:"install",value:i(function(){if(this.opts.bundle){var o=this.uppy.getState(),a=o.capabilities;this.uppy.setState({capabilities:Ar(Ar({},a),{},{individualCancellation:!1})})}this.uppy.addUploader(this.handleUpload)},"install")},{key:"uninstall",value:i(function(){if(this.opts.bundle){var o=this.uppy.getState(),a=o.capabilities;this.uppy.setState({capabilities:Ar(Ar({},a),{},{individualCancellation:!0})})}this.uppy.removeUploader(this.handleUpload)},"uninstall")}]),r}(st);Rk.VERSION=Irt.version;var Ik=Re(By(),1),oQ=Re(JJ(),1);var QJ={strings:{compressingImages:"Compressing images...",compressedX:"Saved %{size} by compressing images"}};function Gb(t){return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}i(Gb,"_typeof");function Xrt(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Jrt(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,o=i(function(){},"F");return{s:o,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return a=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!a&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(Xrt,"_createForOfIteratorHelper");function Jrt(t,e){if(!!t){if(typeof t=="string")return ZJ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZJ(t,e)}}i(Jrt,"_unsupportedIterableToArray");function ZJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(ZJ,"_arrayLikeToArray");function xd(){"use strict";xd=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,c,h){return Object.defineProperty(p,c,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[c]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function l(p,c,h,v){var g=c&&c.prototype instanceof y?c:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(x,L,S){var I="suspendedStart";return function(N,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(N==="throw")throw re;return K()}for(S.method=N,S.arg=re;;){var oe=S.delegate;if(oe){var Q=U(oe,S);if(Q){if(Q===d)continue;return Q}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var Y=f(x,L,S);if(Y.type==="normal"){if(I=S.done?"completed":"suspendedYield",Y.arg===d)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(I="completed",S.method="throw",S.arg=Y.arg)}}}(p,h,P),b}i(l,"wrap");function f(p,c,h){try{return{type:"normal",arg:p.call(c,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=l;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,o,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(W([])));R&&R!==e&&r.call(R,o)&&(_=R);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(c){s(p,c,function(h){return this._invoke(c,h)})})}i(A,"defineIteratorMethods");function k(p,c){function h(g,b,P,x){var L=f(p[g],p,b);if(L.type!=="throw"){var S=L.arg,I=S.value;return I&&Gb(I)=="object"&&r.call(I,"__await")?c.resolve(I.__await).then(function(N){h("next",N,P,x)},function(N){h("throw",N,P,x)}):c.resolve(I).then(function(N){S.value=N,P(S)},function(N){return h("throw",N,P,x)})}x(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new c(function(x,L){h(g,b,x,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(k,"AsyncIterator");function U(p,c){var h=p.iterator[c.method];if(h===void 0){if(c.delegate=null,c.method==="throw"){if(p.iterator.return&&(c.method="return",c.arg=void 0,U(p,c),c.method==="throw"))return d;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,c.arg);if(v.type==="throw")return c.method="throw",c.arg=v.arg,c.delegate=null,d;var g=v.arg;return g?g.done?(c[p.resultName]=g.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,d):g:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}i(G,"pushTryEntry");function M(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var c=p[o];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:K}}i(W,"values");function K(){return{value:void 0,done:!0}}return i(K,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===m||(c.displayName||c.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(k.prototype),s(k.prototype,a,function(){return this}),t.AsyncIterator=k,t.async=function(p,c,h,v,g){g===void 0&&(g=Promise);var b=new k(l(p,c,h,v),g);return t.isGeneratorFunction(c)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,o,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var c=[];for(var h in p)c.push(h);return c.reverse(),i(function v(){for(;c.length;){var g=c.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!c)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},"stop"),dispatchException:i(function(c){if(this.done)throw c;var h=this;function v(S,I){return P.type="throw",P.arg=c,h.next=S,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var x=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(x&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(x){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(c,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=c,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(c,h){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===c)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(c){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===c){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(c,h,v){return this.delegate={iterator:W(c),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(xd,"_regeneratorRuntime");function eQ(t,e,r,n,o,a,u){try{var s=t[a](u),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,o)}i(eQ,"asyncGeneratorStep");function tQ(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(l){eQ(a,n,o,u,s,"next",l)}i(u,"_next");function s(l){eQ(a,n,o,u,s,"throw",l)}i(s,"_throw"),u(void 0)})}}i(tQ,"_asyncToGenerator");function rQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(rQ,"ownKeys");function co(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rQ(Object(r),!0).forEach(function(n){Qrt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(co,"_objectSpread");function Qrt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Qrt,"_defineProperty");function Zrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Zrt,"_classCallCheck");function nQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(nQ,"_defineProperties");function ent(t,e,r){return e&&nQ(t.prototype,e),r&&nQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(ent,"_createClass");function tnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ak(t,e)}i(tnt,"_inherits");function Ak(t,e){return Ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),Ak(t,e)}i(Ak,"_setPrototypeOf");function rnt(t){var e=int();return i(function(){var n=Hb(t),o;if(e){var a=Hb(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return nnt(this,o)},"_createSuperInternal")}i(rnt,"_createSuper");function nnt(t,e){if(e&&(Gb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cd(t)}i(nnt,"_possibleConstructorReturn");function Cd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Cd,"_assertThisInitialized");function int(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(int,"_isNativeReflectConstruct");function Hb(t){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Hb(t)}i(Hb,"_getPrototypeOf");function iQ(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(iQ,"_classPrivateFieldLooseBase");var ont=0;function ant(t){return"__private_"+ont+++"_"+t}i(ant,"_classPrivateFieldLooseKey");var kd=ant("RateLimitedQueue"),aQ=function(t){tnt(r,t);var e=rnt(r);function r(n,o){var a;Zrt(this,r),a=e.call(this,n,o),Object.defineProperty(Cd(a),kd,{writable:!0,value:void 0}),a.id=a.opts.id||"Compressor",a.type="modifier",a.defaultLocale=QJ;var u={quality:.6,limit:10};return a.opts=co(co({},u),o),iQ(Cd(a),kd)[kd]=new sn(a.opts.limit),a.i18nInit(),a.prepareUpload=a.prepareUpload.bind(Cd(a)),a.compress=a.compress.bind(Cd(a)),a}return i(r,"Compressor"),ent(r,[{key:"compress",value:i(function(o){var a=this;return new Promise(function(u,s){new oQ.default(o,co(co({},a.opts),{},{success:u,error:s}))})},"compress")},{key:"prepareUpload",value:function(){var n=tQ(xd().mark(i(function a(u){var s=this,l,f,d,y,m,w,_,T;return xd().wrap(i(function(E){for(;;)switch(E.prev=E.next){case 0:return l=0,f=[],d=iQ(this,kd)[kd].wrapPromiseFunction(function(){var A=tQ(xd().mark(i(function k(U){var G,M,z,W,K,p;return xd().wrap(i(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,s.compress(U.data);case 3:G=h.sent,M=U.data.size-G.size,s.uppy.log("[Image Compressor] Image ".concat(U.id," compressed by ").concat((0,Ik.default)(M))),l+=M,z=G.name,W=G.type,K=G.size,p=z&&Ci(z).extension,s.uppy.setFileState(U.id,co(co(co(co(co({},z&&{name:z}),p&&{extension:p}),W&&{type:W}),K&&{size:K}),{},{data:G})),s.uppy.setFileMeta(U.id,{type:W}),f.push(U),h.next=18;break;case 14:h.prev=14,h.t0=h.catch(0),s.uppy.log("[Image Compressor] Failed to compress ".concat(U.id,":"),"warning"),s.uppy.log(h.t0,"warning");case 18:case"end":return h.stop()}},"_callee$"),k,null,[[0,14]])},"_callee")));return function(k){return A.apply(this,arguments)}}()),y=u.map(function(A){var k=s.uppy.getFile(A);return s.uppy.emit("preprocess-progress",k,{mode:"indeterminate",message:s.i18n("compressingImages")}),k.isRemote||(k.data.type||(k.data=k.data.slice(0,k.data.size,k.type)),!k.type.startsWith("image/"))?Promise.resolve():d(k)}),E.next=6,Promise.all(y);case 6:this.uppy.emit("compressor:complete",f),l>1024&&this.uppy.info(this.i18n("compressedX",{size:(0,Ik.default)(l)}),"info"),m=Xrt(u);try{for(m.s();!(w=m.n()).done;)_=w.value,T=this.uppy.getFile(_),this.uppy.emit("preprocess-complete",T)}catch(A){m.e(A)}finally{m.f()}case 10:case"end":return E.stop()}},"_callee2$"),a,this)},"_callee2")));function o(a){return n.apply(this,arguments)}return i(o,"prepareUpload"),o}()},{key:"install",value:i(function(){this.uppy.addPreProcessor(this.prepareUpload)},"install")},{key:"uninstall",value:i(function(){this.uppy.removePreProcessor(this.prepareUpload)},"uninstall")}]),r}(st);function Vb(){return Vb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vb.apply(this,arguments)}i(Vb,"_extends");var unt={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},snt={button:!0,fieldset:!0,reset:!0,submit:!0},lnt={checkbox:!0,radio:!0},cnt=/^\s+|\s+$/g,fnt=Array.prototype.slice,uQ=Object.prototype.toString;function Wb(t,e){if(!t)throw new Error("A form is required by getFormData, was given form="+t);e=Vb({includeDisabled:!1,trim:!1},e);for(var r={},n,o=[],a={},u=0,s=t.elements.length;u<s;u++){var l=t.elements[u];snt[l.type]||l.disabled&&!e.includeDisabled||(n=l.name||l.id,n&&!a[n]&&(o.push(n),a[n]=!0))}for(var f=0,d=o.length;f<d;f++){n=o[f];var y=lQ(t,n,e);y!=null&&(r[n]=y)}return r}i(Wb,"getFormData");function lQ(t,e,r){if(!t)throw new Error("A form is required by getFieldData, was given form="+t);if(!e&&uQ.call(e)!=="[object String]")throw new Error("A field name is required by getFieldData, was given fieldName="+e);r=Vb({includeDisabled:!1,trim:!1},r);var n=t.elements[e];if(!n||n.disabled&&!r.includeDisabled)return null;if(!unt[uQ.call(n)])return sQ(n,r.trim);for(var o=[],a=!0,u=0,s=n.length;u<s;u++)if(!(n[u].disabled&&!r.includeDisabled)){a&&n[u].type!=="radio"&&(a=!1);var l=sQ(n[u],r.trim);l!=null&&(o=o.concat(l))}return a&&o.length===1?o[0]:o.length>0?o:null}i(lQ,"getFieldData");function sQ(t,e){var r=null,n=t.type;if(n==="select-one")return t.options.length&&(r=t.options[t.selectedIndex].value),r;if(n==="select-multiple"){r=[];for(var o=0,a=t.options.length;o<a;o++)t.options[o].selected&&r.push(t.options[o].value);return r.length===0&&(r=null),r}return n==="file"&&"files"in t?(t.multiple?(r=fnt.call(t.files),r.length===0&&(r=null)):r=t.files[0],r):(lnt[n]?t.checked&&(n==="checkbox"&&!t.hasAttribute("value")?r=!0:r=t.value):r=e?t.value.replace(cnt,""):t.value,r)}i(sQ,"getFormElementValue");Wb.getFieldData=lQ;function qk(t){return qk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qk(t)}i(qk,"_typeof");function cQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(cQ,"ownKeys");function fQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cQ(Object(r),!0).forEach(function(n){pnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(fQ,"_objectSpread");function pnt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(pnt,"_defineProperty");function dnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(dnt,"_classCallCheck");function pQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(pQ,"_defineProperties");function hnt(t,e,r){return e&&pQ(t.prototype,e),r&&pQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(hnt,"_createClass");function vnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kk(t,e)}i(vnt,"_inherits");function kk(t,e){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),kk(t,e)}i(kk,"_setPrototypeOf");function ynt(t){var e=gnt();return i(function(){var n=Kb(t),o;if(e){var a=Kb(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return mnt(this,o)},"_createSuperInternal")}i(ynt,"_createSuper");function mnt(t,e){if(e&&(qk(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xl(t)}i(mnt,"_possibleConstructorReturn");function xl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(xl,"_assertThisInitialized");function gnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(gnt,"_isNativeReflectConstruct");function Kb(t){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Kb(t)}i(Kb,"_getPrototypeOf");var bnt={version:"3.0.0-beta.2"},xk=function(t){vnt(r,t);var e=ynt(r);function r(n,o){var a;dnt(this,r),a=e.call(this,n,o),a.type="acquirer",a.id=a.opts.id||"Form",a.title="Form";var u={target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1};return a.opts=fQ(fQ({},u),o),a.handleFormSubmit=a.handleFormSubmit.bind(xl(a)),a.handleUploadStart=a.handleUploadStart.bind(xl(a)),a.handleSuccess=a.handleSuccess.bind(xl(a)),a.addResultToForm=a.addResultToForm.bind(xl(a)),a.getMetaFromForm=a.getMetaFromForm.bind(xl(a)),a}return i(r,"Form"),hnt(r,[{key:"handleUploadStart",value:i(function(){this.opts.getMetaFromForm&&this.getMetaFromForm()},"handleUploadStart")},{key:"handleSuccess",value:i(function(o){this.opts.addResultToForm&&this.addResultToForm(o),this.opts.submitOnSuccess&&this.form.submit()},"handleSuccess")},{key:"handleFormSubmit",value:i(function(o){var a=this;if(this.opts.triggerUploadOnSubmit){o.preventDefault();var u=Pt(o.target.elements),s=[];u.forEach(function(l){var f=l.tagName==="BUTTON"||l.tagName==="INPUT"&&l.type==="submit";f&&!l.disabled&&(l.disabled=!0,s.push(l))}),this.uppy.upload().then(function(){s.forEach(function(l){l.disabled=!1})},function(l){return s.forEach(function(f){f.disabled=!1}),Promise.reject(l)}).catch(function(l){a.uppy.log(l.stack||l.message||l)})}},"handleFormSubmit")},{key:"addResultToForm",value:i(function(o){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(o);var a=this.form.querySelector('[name="'.concat(this.opts.resultName,'"]'));if(a){var u;try{u=JSON.parse(a.value)}catch(s){}Array.isArray(u)||(u=[]),u.push(o),a.value=JSON.stringify(u);return}a=document.createElement("input"),a.name=this.opts.resultName,a.type="hidden",a.value=JSON.stringify([o]),this.form.appendChild(a)},"addResultToForm")},{key:"getMetaFromForm",value:i(function(){var o=Wb(this.form);delete o[this.opts.resultName],this.uppy.setMeta(o)},"getMetaFromForm")},{key:"install",value:i(function(){if(this.form=$f(this.opts.target),!this.form||this.form.nodeName!=="FORM"){this.uppy.log("Form plugin requires a <form> target element passed in options to operate, none was found","error");return}this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)},"install")},{key:"uninstall",value:i(function(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)},"uninstall")}]),r}(st);xk.VERSION=bnt.version;var xQ=Re(Rf(),1);function wnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(wnt,"_classCallCheck");function dQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(dQ,"_defineProperties");function Ont(t,e,r){return e&&dQ(t.prototype,e),r&&dQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Ont,"_createClass");var hQ=typeof navigator!="undefined"&&"serviceWorker"in navigator;function Snt(){return new Promise(function(t,e){hQ?navigator.serviceWorker.controller?t():navigator.serviceWorker.addEventListener("controllerchange",function(){t()}):e(new Error("Unsupported"))})}i(Snt,"waitForServiceWorker");var vQ=function(){function t(e){wnt(this,t),this.ready=Snt(),this.name=e.storeName}return i(t,"ServiceWorkerStore"),Ont(t,[{key:"list",value:i(function(){var r=this,n={},o=new Promise(function(u,s){n.resolve=u,n.reject=s}),a=i(function u(s){if(s.data.store===r.name)switch(s.data.type){case"uppy/ALL_FILES":n.resolve(s.data.files),navigator.serviceWorker.removeEventListener("message",u);break;default:n.reject()}},"onMessage");return this.ready.then(function(){navigator.serviceWorker.addEventListener("message",a),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:r.name})}),o},"list")},{key:"put",value:i(function(r){var n=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:n.name,file:r})})},"put")},{key:"delete",value:i(function(r){var n=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:n.name,fileID:r})})},"_delete")}]),t}();vQ.isSupported=hQ;var yQ=vQ;function mQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(mQ,"ownKeys");function _nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mQ(Object(r),!0).forEach(function(n){Pnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(_nt,"_objectSpread");function Pnt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Pnt,"_defineProperty");function Ent(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Ent,"_classCallCheck");function gQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(gQ,"_defineProperties");function Rnt(t,e,r){return e&&gQ(t.prototype,e),r&&gQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Rnt,"_createClass");var SQ=typeof window!="undefined"&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),Tnt=!!SQ,bQ="uppy-blobs",Ir="files",_Q=24*60*60*1e3,Ant=3;function Int(t){var e=t.openCursor();e.onsuccess=function(r){var n=r.target.result;if(!!n){var o=n.value;o.expires=Date.now()+_Q,n.update(o)}}}i(Int,"migrateExpiration");function wQ(t){var e=SQ.open(t,Ant);return new Promise(function(r,n){e.onupgradeneeded=function(o){var a=o.target.result,u=o.currentTarget.transaction;if(o.oldVersion<2){var s=a.createObjectStore(Ir,{keyPath:"id"});s.createIndex("store","store",{unique:!1})}if(o.oldVersion<3){var l=u.objectStore(Ir);l.createIndex("expires","expires",{unique:!1}),Int(l)}u.oncomplete=function(){r(a)}},e.onsuccess=function(o){r(o.target.result)},e.onerror=n})}i(wQ,"connect");function Yb(t){return new Promise(function(e,r){t.onsuccess=function(n){e(n.target.result)},t.onerror=r})}i(Yb,"waitForRequest");var OQ=!1,PQ=function(){function t(e){var r=this;Ent(this,t),this.opts=_nt({dbName:bQ,storeName:"default",expires:_Q,maxFileSize:10*1024*1024,maxTotalSize:300*1024*1024},e),this.name=this.opts.storeName;var n=i(function(){return wQ(r.opts.dbName)},"createConnection");OQ?this.ready=n():(OQ=!0,this.ready=t.cleanup().then(n,n))}return i(t,"IndexedDBStore"),Rnt(t,[{key:"key",value:i(function(r){return"".concat(this.name,"!").concat(r)},"key")},{key:"list",value:i(function(){var r=this;return this.ready.then(function(n){var o=n.transaction([Ir],"readonly"),a=o.objectStore(Ir),u=a.index("store").getAll(IDBKeyRange.only(r.name));return Yb(u)}).then(function(n){var o={};return n.forEach(function(a){o[a.fileID]=a.data}),o})},"list")},{key:"get",value:i(function(r){var n=this;return this.ready.then(function(o){var a=o.transaction([Ir],"readonly"),u=a.objectStore(Ir).get(n.key(r));return Yb(u)}).then(function(o){return{id:o.data.fileID,data:o.data.data}})},"get")},{key:"getSize",value:i(function(){var r=this;return this.ready.then(function(n){var o=n.transaction([Ir],"readonly"),a=o.objectStore(Ir),u=a.index("store").openCursor(IDBKeyRange.only(r.name));return new Promise(function(s,l){var f=0;u.onsuccess=function(d){var y=d.target.result;y?(f+=y.value.data.size,y.continue()):s(f)},u.onerror=function(){l(new Error("Could not retrieve stored blobs size"))}})})},"getSize")},{key:"put",value:i(function(r){var n=this;return r.data.size>this.opts.maxFileSize?Promise.reject(new Error("File is too big to store.")):this.getSize().then(function(o){return o>n.opts.maxTotalSize?Promise.reject(new Error("No space left")):n.ready}).then(function(o){var a=o.transaction([Ir],"readwrite"),u=a.objectStore(Ir).add({id:n.key(r.id),fileID:r.id,store:n.name,expires:Date.now()+n.opts.expires,data:r.data});return Yb(u)})},"put")},{key:"delete",value:i(function(r){var n=this;return this.ready.then(function(o){var a=o.transaction([Ir],"readwrite"),u=a.objectStore(Ir).delete(n.key(r));return Yb(u)})},"_delete")}],[{key:"cleanup",value:i(function(){return wQ(bQ).then(function(r){var n=r.transaction([Ir],"readwrite"),o=n.objectStore(Ir),a=o.index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new Promise(function(u,s){a.onsuccess=function(l){var f=l.target.result;f?(f.delete(),f.continue()):u(r)},a.onerror=s})}).then(function(r){r.close()})},"cleanup")}]),t}();PQ.isSupported=Tnt;var EQ=PQ;function RQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(RQ,"ownKeys");function qnt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RQ(Object(r),!0).forEach(function(n){knt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(qnt,"_objectSpread");function knt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(knt,"_defineProperty");function xnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(xnt,"_classCallCheck");function TQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(TQ,"_defineProperties");function Cnt(t,e,r){return e&&TQ(t.prototype,e),r&&TQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Cnt,"_createClass");function Fnt(){for(var t=[],e=0;e<localStorage.length;e++){var r=localStorage.key(e);/^uppyState:/.test(r)&&t.push(r.slice(10))}return t}i(Fnt,"findUppyInstances");function AQ(t){try{return JSON.parse(t)}catch(e){return null}}i(AQ,"maybeParse");var IQ=!1,Fd=function(){function t(e){xnt(this,t),this.opts=qnt({expires:24*60*60*1e3},e),this.name="uppyState:".concat(e.storeName),IQ||(IQ=!0,t.cleanup())}return i(t,"MetaDataStore"),Cnt(t,[{key:"load",value:i(function(){var r=localStorage.getItem(this.name);if(!r)return null;var n=AQ(r);return n?n.metadata?n.metadata:(this.save(n),n):null},"load")},{key:"save",value:i(function(r){var n=Date.now()+this.opts.expires,o=JSON.stringify({metadata:r,expires:n});localStorage.setItem(this.name,o)},"save")}],[{key:"cleanup",value:i(function(r){if(r){localStorage.removeItem("uppyState:".concat(r));return}var n=Fnt(),o=Date.now();n.forEach(function(a){var u=localStorage.getItem("uppyState:".concat(a));if(!!u){var s=AQ(u);!s||s.expires&&s.expires<o&&localStorage.removeItem("uppyState:".concat(a))}})},"cleanup")}]),t}();function Ck(t){return Ck=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ck(t)}i(Ck,"_typeof");function qQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(qQ,"ownKeys");function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qQ(Object(r),!0).forEach(function(n){Lnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Yt,"_objectSpread");function Lnt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Lnt,"_defineProperty");function jnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(jnt,"_classCallCheck");function kQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(kQ,"_defineProperties");function Nnt(t,e,r){return e&&kQ(t.prototype,e),r&&kQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Nnt,"_createClass");function Dnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fk(t,e)}i(Dnt,"_inherits");function Fk(t,e){return Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),Fk(t,e)}i(Fk,"_setPrototypeOf");function Unt(t){var e=Bnt();return i(function(){var n=Xb(t),o;if(e){var a=Xb(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Mnt(this,o)},"_createSuperInternal")}i(Unt,"_createSuper");function Mnt(t,e){if(e&&(Ck(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cl(t)}i(Mnt,"_possibleConstructorReturn");function Cl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Cl,"_assertThisInitialized");function Bnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Bnt,"_isNativeReflectConstruct");function Xb(t){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Xb(t)}i(Xb,"_getPrototypeOf");var $nt={version:"3.0.0-beta.2"},Lk=function(t){Dnt(r,t);var e=Unt(r);function r(n,o){var a;jnt(this,r),a=e.call(this,n,o),a.addBlobToStores=function(s){s.isRemote||(a.ServiceWorkerStore&&a.ServiceWorkerStore.put(s).catch(function(l){a.uppy.log("[GoldenRetriever] Could not store file","warning"),a.uppy.log(l)}),a.IndexedDBStore.put(s).catch(function(l){a.uppy.log("[GoldenRetriever] Could not store file","warning"),a.uppy.log(l)}))},a.removeBlobFromStores=function(s){a.ServiceWorkerStore&&a.ServiceWorkerStore.delete(s.id).catch(function(l){a.uppy.log("[GoldenRetriever] Failed to remove file","warning"),a.uppy.log(l)}),a.IndexedDBStore.delete(s.id).catch(function(l){a.uppy.log("[GoldenRetriever] Failed to remove file","warning"),a.uppy.log(l)})},a.replaceBlobInStores=function(s){a.removeBlobFromStores(s),a.addBlobToStores(s)},a.handleRestoreConfirmed=function(){a.uppy.log("[GoldenRetriever] Restore confirmed, proceeding...");var s=a.uppy.getState(),l=s.currentUploads;l&&(Object.keys(l).forEach(function(f){a.uppy.restore(f,l[f])}),a.uppy.resumeAll()),a.uppy.upload(),a.uppy.setState({recoveredState:null})},a.abortRestore=function(){a.uppy.log("[GoldenRetriever] Aborting restore...");var s=Object.keys(a.uppy.getState().files);a.deleteBlobs(s).then(function(){a.uppy.log("[GoldenRetriever] Removed ".concat(s.length," files"))}).catch(function(l){a.uppy.log("[GoldenRetriever] Could not remove ".concat(s.length," files"),"warning"),a.uppy.log(l)}),a.uppy.cancelAll(),a.uppy.setState({recoveredState:null}),Fd.cleanup(a.uppy.opts.id)},a.handleComplete=function(s){var l=s.successful,f=l.map(function(d){return d.id});a.deleteBlobs(f).then(function(){a.uppy.log("[GoldenRetriever] Removed ".concat(l.length," files that finished uploading"))}).catch(function(d){a.uppy.log("[GoldenRetriever] Could not remove ".concat(l.length," files that finished uploading"),"warning"),a.uppy.log(d)}),a.uppy.setState({recoveredState:null}),Fd.cleanup(a.uppy.opts.id)},a.restoreBlobs=function(){a.uppy.getFiles().length>0?Promise.all([a.loadFileBlobsFromServiceWorker(),a.loadFileBlobsFromIndexedDB()]).then(function(s){var l=Yt(Yt({},s[0]),s[1]);a.onBlobsLoaded(l)}):(a.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state..."),a.onBlobsLoaded([]))},a.type="debugger",a.id=a.opts.id||"GoldenRetriever",a.title="Golden Retriever";var u={expires:24*60*60*1e3,serviceWorker:!1};return a.opts=Yt(Yt({},u),o),a.MetaDataStore=new Fd({expires:a.opts.expires,storeName:n.getID()}),a.ServiceWorkerStore=null,a.opts.serviceWorker&&(a.ServiceWorkerStore=new yQ({storeName:n.getID()})),a.IndexedDBStore=new EQ(Yt(Yt({expires:a.opts.expires},a.opts.indexedDB||{}),{},{storeName:n.getID()})),a.saveFilesStateToLocalStorage=(0,xQ.default)(a.saveFilesStateToLocalStorage.bind(Cl(a)),500,{leading:!0,trailing:!0}),a.restoreState=a.restoreState.bind(Cl(a)),a.loadFileBlobsFromServiceWorker=a.loadFileBlobsFromServiceWorker.bind(Cl(a)),a.loadFileBlobsFromIndexedDB=a.loadFileBlobsFromIndexedDB.bind(Cl(a)),a.onBlobsLoaded=a.onBlobsLoaded.bind(Cl(a)),a}return i(r,"GoldenRetriever"),Nnt(r,[{key:"restoreState",value:i(function(){var o=this.MetaDataStore.load();o&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:o.currentUploads||{},files:o.files||{},recoveredState:o}),this.savedPluginData=o.pluginData)},"restoreState")},{key:"getWaitingFiles",value:i(function(){var o={};return this.uppy.getFiles().forEach(function(a){(!a.progress||!a.progress.uploadStarted)&&(o[a.id]=a)}),o},"getWaitingFiles")},{key:"getUploadingFiles",value:i(function(){var o=this,a={},u=this.uppy.getState(),s=u.currentUploads;if(s){var l=Object.keys(s);l.forEach(function(f){var d=s[f].fileIDs;d.forEach(function(y){a[y]=o.uppy.getFile(y)})})}return a},"getUploadingFiles")},{key:"saveFilesStateToLocalStorage",value:i(function(){var o=Yt(Yt({},this.getWaitingFiles()),this.getUploadingFiles());if(Object.keys(o).length===0){this.uppy.setState({recoveredState:null}),Fd.cleanup(this.uppy.opts.id);return}var a={};Object.keys(o).forEach(function(f){o[f].isRemote?a[f]=Yt(Yt({},o[f]),{},{isRestored:!0}):a[f]=Yt(Yt({},o[f]),{},{isRestored:!0,data:null,preview:null})});var u={};this.uppy.emit("restore:get-data",function(f){Object.assign(u,f)});var s=this.uppy.getState(),l=s.currentUploads;this.MetaDataStore.save({currentUploads:l,files:a,pluginData:u})},"saveFilesStateToLocalStorage")},{key:"loadFileBlobsFromServiceWorker",value:i(function(){var o=this;return this.ServiceWorkerStore?this.ServiceWorkerStore.list().then(function(a){var u=o.uppy.getFiles(),s=u.filter(function(d){return!d.isRemote}),l=Object.keys(a).length,f=s.length;return l===f?(o.uppy.log("[GoldenRetriever] Successfully recovered ".concat(l," blobs from Service Worker!")),a):(o.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),{})}).catch(function(a){return o.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),o.uppy.log(a),{}}):Promise.resolve({})},"loadFileBlobsFromServiceWorker")},{key:"loadFileBlobsFromIndexedDB",value:i(function(){var o=this;return this.IndexedDBStore.list().then(function(a){var u=Object.keys(a).length;return u>0?(o.uppy.log("[GoldenRetriever] Successfully recovered ".concat(u," blobs from IndexedDB!")),a):(o.uppy.log("[GoldenRetriever] No blobs found in IndexedDB"),{})}).catch(function(a){return o.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),o.uppy.log(a),{}})},"loadFileBlobsFromIndexedDB")},{key:"onBlobsLoaded",value:i(function(o){var a=this,u=[],s=Yt({},this.uppy.getState().files);Object.keys(o).forEach(function(l){var f=a.uppy.getFile(l);if(!f){u.push(l);return}var d=o[l],y={data:d,isRestored:!0,isGhost:!1};s[l]=Yt(Yt({},f),y)}),Object.keys(s).forEach(function(l){s[l].data===null&&(s[l]=Yt(Yt({},s[l]),{},{isGhost:!0}))}),this.uppy.setState({files:s}),this.uppy.emit("restored",this.savedPluginData),u.length&&this.deleteBlobs(u).then(function(){a.uppy.log("[GoldenRetriever] Cleaned up ".concat(u.length," old files"))}).catch(function(l){a.uppy.log("[GoldenRetriever] Could not clean up ".concat(u.length," old files"),"warning"),a.uppy.log(l)})},"onBlobsLoaded")},{key:"deleteBlobs",value:i(function(o){var a=this,u=[];return o.forEach(function(s){a.ServiceWorkerStore&&u.push(a.ServiceWorkerStore.delete(s)),a.IndexedDBStore&&u.push(a.IndexedDBStore.delete(s))}),Promise.all(u)},"deleteBlobs")},{key:"install",value:i(function(){this.restoreState(),this.restoreBlobs(),this.uppy.on("file-added",this.addBlobToStores),this.uppy.on("file-editor:complete",this.replaceBlobInStores),this.uppy.on("file-removed",this.removeBlobFromStores),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restore-confirmed",this.handleRestoreConfirmed),this.uppy.on("restore-canceled",this.abortRestore),this.uppy.on("complete",this.handleComplete)},"install")},{key:"uninstall",value:i(function(){this.uppy.off("file-added",this.addBlobToStores),this.uppy.off("file-editor:complete",this.replaceBlobInStores),this.uppy.off("file-removed",this.removeBlobFromStores),this.uppy.off("state-update",this.saveFilesStateToLocalStorage),this.uppy.off("restore-confirmed",this.handleRestoreConfirmed),this.uppy.off("restore-canceled",this.abortRestore),this.uppy.off("complete",this.handleComplete)},"uninstall")}]),r}(st);Lk.VERSION=$nt.version;function jk(t){return jk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jk(t)}i(jk,"_typeof");function CQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}i(CQ,"ownKeys");function Fl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CQ(Object(r),!0).forEach(function(n){znt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Fl,"_objectSpread");function znt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(znt,"_defineProperty");function Gnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Gnt,"_classCallCheck");function FQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(FQ,"_defineProperties");function Hnt(t,e,r){return e&&FQ(t.prototype,e),r&&FQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Hnt,"_createClass");function Vnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nk(t,e)}i(Vnt,"_inherits");function Nk(t,e){return Nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,o){return n.__proto__=o,n},"_setPrototypeOf"),Nk(t,e)}i(Nk,"_setPrototypeOf");function Wnt(t){var e=Ynt();return i(function(){var n=Jb(t),o;if(e){var a=Jb(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Knt(this,o)},"_createSuperInternal")}i(Wnt,"_createSuper");function Knt(t,e){if(e&&(jk(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dk(t)}i(Knt,"_possibleConstructorReturn");function Dk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Dk,"_assertThisInitialized");function Ynt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Ynt,"_isNativeReflectConstruct");function Jb(t){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Jb(t)}i(Jb,"_getPrototypeOf");var Xnt={version:"3.0.0-beta.2"},Uk=function(t){Vnt(r,t);var e=Wnt(r);function r(n,o){var a;Gnt(this,r),a=e.call(this,n,o),a.type="debugger",a.id=a.opts.id||"ReduxDevTools",a.title="Redux DevTools";var u={};return a.opts=Fl(Fl({},u),o),a.handleStateChange=a.handleStateChange.bind(Dk(a)),a.initDevTools=a.initDevTools.bind(Dk(a)),a}return i(r,"ReduxDevTools"),Hnt(r,[{key:"handleStateChange",value:i(function(o,a){this.devTools.send("UPPY_STATE_UPDATE",a)},"handleStateChange")},{key:"initDevTools",value:i(function(){var o=this;this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe(function(a){if(a.type==="DISPATCH")switch(a.payload.type){case"RESET":o.uppy.cancelAll();return;case"IMPORT_STATE":{var u=a.payload.nextLiftedState.computedStates;o.uppy.store.state=Fl(Fl({},o.uppy.getState()),u[u.length-1].state),o.uppy.updateAll(o.uppy.getState());return}case"JUMP_TO_STATE":case"JUMP_TO_ACTION":o.uppy.store.state=Fl(Fl({},o.uppy.getState()),JSON.parse(a.state)),o.uppy.updateAll(o.uppy.getState());break;default:}})},"initDevTools")},{key:"install",value:i(function(){this.withDevTools=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange))},"install")},{key:"uninstall",value:i(function(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate))},"uninstall")}]),r}(Se);Uk.VERSION=Xnt.version;var Jnt={ProviderView:eR};ua.COMPANION_URL=Sk;ua.COMPANION_ALLOWED_HOSTS=_k;var Qnt={};globalThis.Uppy=Mk;typeof window.ResizeObserver!="function"&&(window.ResizeObserver=u$);})();
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
 * Compressor.js v1.1.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-10-05T02:32:40.212Z
 */
/*!
 * Cropper.js v1.5.7
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-05-23T05:23:00.081Z
 */
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */
//# sourceMappingURL=uppy.legacy.min.js.map
